<!DOCTYPE html>

<html lang="sr" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Pokretanje algoritama za obradu putem Pajtona (QGIS3) &#8212; QGIS Tutorials and Tips</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css?v=0bf093e7" />
    <script src="../../_static/documentation_options.js?v=7e8936b6"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/translations.js?v=552f857c"></script>
    <link rel="search" title="Претрага" href="../../search.html" />
    <link rel="next" title="Korišćenje prilagođenih Pajton izraznih funkcija (QGIS3)" href="custom_python_functions.html" />
    <link rel="prev" title="Početak programiranja u Pajtonu (QGIS3)" href="getting_started_with_pyqgis.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>


<!-- Cookie Notice -->
<!-- Script from https://github.com/AOEpeople/cookie-notice -->
<script type="text/javascript" src="../../_static/cookie.notice.min.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1WQ7B80XJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B1WQ7B80XJ');
</script>


  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Uvod</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">Pravljenje mape (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_attributes.html">Rad sa atributima (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">Uvoz tabela ili CSV datoteka (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Osnovno stilizovanje vektora (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_line_lengths.html">Izračunavanje dužina linija i statistika (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Osnovno stilizovanje i analiza rastera (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Rastersko mozaičko kreiranje i isecanje (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Rad sa podacima o terenu (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">Rad sa WMS podacima (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_projections.html">Rad sa projekcijama (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">Georeferenciranje topografskih listova i skeniranih mapa (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">Georeferenciranje aerosnimaka (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">Digitalizacija podataka mapa (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins.html">Spajanje tabela (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_joins.html">Izvršavanje prostornih spajanja (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Izvršavanje prostornih upita (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="nearest_neighbor_analysis.html">Analiza najbližeg suseda (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_raster_data.html">Uzorkovanje rasterskih podataka korišćenjem tačaka ili poligona (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_raster_area.html">Izračunavanje površine rastera (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_heatmaps.html">Kreiranje toplotnih mapa (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="animating_time_series.html">Animiranje podataka vremenskih serija (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="handling_invalid_geometries.html">Rukovanje nevažećim geometrijama (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_raster_analysis.html">Napredna rasterska analiza (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolating_point_data.html">Interpoliranje podataka o tačkama (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Paketna obrada pomoću okvira za obradu (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_graphical_modeler.html">Automatizacija složenih tokova rada pomoću Processing Modeler-a (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="automating_map_creation.html">Automatizacija kreiranja mapa pomoću Atlasa za štampanje (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="multi_criteria_overlay.html">Analiza višekriterijumskog preklapanja (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="vector_styling_expressions.html">Osnovno filtriranje i stilizovanje pomoću izraza (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="block_world_styling.html">Kreiranje mape sveta u bloku (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="river_styling_expressions.html">Stilizovanje rečne mreže pomoću izraza (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="contour_3d_styling.html">Stilizovanje kontura u 3D (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="isometric_buildings.html">Kreiranje izometrijskih zgrada (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactive_canvas_maps.html">Izrada interaktivnih mapa na platnu (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactive_reveal_maps.html">Izrada interaktivnih mapa otkrivanja (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="cartogram_animation.html">Kreiranje animiranog kartograma (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_network_analysis.html">Osnovna vizuelizacija i rutiranje mreže (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="origin_destination_matrix.html">Lociranje najbližeg objekta pomoću matrice porekla i odredišta (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="service_area_analysis.html">Analiza područja usluge korišćenjem Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="travel_time_analysis.html">Analiza vremena putovanja pomoću Uber kretanja (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="areal_mean_rainfall.html">Izračunavanje srednje površinske količine padavina (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="colorized_river_basin_map.html">Kreiranje karte rečnog sliva u boji (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_landuse_map.html">Kreiranje mape korišćenja zemljišta (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_intersection_density.html">Izračunavanje gustine raskrsnica ulica (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="landuse_buffer.html">Određivanje zaštitnih zona korišćenja zemljišta (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="solidwaste_mapping.html">Mapiranje količina odloženog otpada (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_with_pyqgis.html">Početak programiranja u Pajtonu (QGIS3)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Pokretanje algoritama za obradu putem Pajtona (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_python_functions.html">Korišćenje prilagođenih Pajton izraznih funkcija (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_scripts.html">Pisanje Pajton skripti za okvir za obradu (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_a_python_plugin.html">Kreiranje dodatka za Pajton (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_plugin.html">Izrada dodatka za obradu (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_qgis_jobs.html">Pokretanje i zakazivanje QGIS zadataka obrade</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_mapping_with_qgis2web.html">Veb mapiranje pomoću QGIS2Web (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_basemaps_with_qtiles.html">Kreiranje osnovnih mapa pomoću QTiles-a</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Korišćenje dodataka (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../downloading_osm_data.html">Pretraživanje i preuzimanje podataka OpenStreetMap-a</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learning_resources.html">QGIS resursi za učenje</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Krediti za podatke</a></li>
<li class="toctree-l1"><a class="reference internal" href="../batch_processing.html">Paketna obrada pomoću Processing Framework-a (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="getting_started_with_pyqgis.html" title="Previous Chapter: Početak programiranja u Pajtonu (QGIS3)"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Početak progr...</span>
    </a>
  </li>
  <li>
    <a href="custom_python_functions.html" title="Next Chapter: Korišćenje prilagođenih Pajton izraznih funkcija (QGIS3)"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Korišćenje p... &raquo;</span>
    </a>
  </li>
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p><a href="https://www.linkedin.com/in/spatialthoughts/"><img src="../../_static/ujaval.png">Ujaval Gandhi</a></p>

<hr>
<p>Want to learn QGIS in a structured way? Check out <a href="https://spatialthoughts.com/" target="_blank">Spatial Thoughts</a> for more learning materials and instructor-led online programs with QGIS.org certification.</p>

<hr>
<p>These tutorials are also available in many other languages. Please see <a href="https://www.qgistutorials.com/en/docs/introduction.html#translations" target="_blank">translations</a> page.
</p>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      

  <section id="running-processing-algorithms-via-python-qgis3">
<h1>Pokretanje algoritama za obradu putem Pajtona (QGIS3)<a class="headerlink" href="#running-processing-algorithms-via-python-qgis3" title="Link to this heading">¶</a></h1>
<p>Kutija sa alatima za obradu u QGIS-u sadrži stalno rastuću kolekciju alata za geoobradu. Kutija sa alatima pruža jednostavan interfejs za grupnu obradu za pokretanje bilo kog algoritma na velikom broju ulaza. Vidite <a class="reference internal" href="batch_processing.html"><span class="doc">Paketna obrada pomoću okvira za obradu (QGIS3)</span></a>. Ali postoje slučajevi kada je potrebno da uključite malo prilagođene logike u svoju grupnu obradu. Pošto se svi algoritmi za obradu mogu programski pokrenuti putem Python API-ja, možete ih pokrenuti putem Python konzole. Ovaj tutorijal pokazuje kako pokrenuti algoritam za obradu putem Python konzole da biste izvršili prilagođeni zadatak geoobrade u samo nekoliko redova koda. Molimo vas da pregledate tutorijal <a class="reference internal" href="getting_started_with_pyqgis.html"><span class="doc">Početak programiranja u Pajtonu (QGIS3)</span></a> da biste se upoznali sa osnovama Python skriptnog okruženja u QGIS-u.</p>
<section id="overview-of-the-task">
<h2>Pregled zadatka<a class="headerlink" href="#overview-of-the-task" title="Link to this heading">¶</a></h2>
<p>Koristićemo 12 mrežnih rasterskih slojeva koji predstavljaju padavine za svaki mesec u godini i izračunaćemo prosečnu mesečnu količinu padavina za sve poštanske brojeve u oblasti Sijetla.</p>
<section id="other-skills-you-will-learn">
<h3>Druge veštine koje ćete naučiti<a class="headerlink" href="#other-skills-you-will-learn" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Pristupite svim slojevima (rasterskim i vektorskim) iz Pajton konzole i ispišite njihova imena.</p></li>
<li><p>Spojite različite slojeve u jedan sloj koristeći Pajton skriptu.</p></li>
</ul>
</section>
</section>
<section id="get-the-data">
<h2>Dobijte podatke<a class="headerlink" href="#get-the-data" title="Link to this heading">¶</a></h2>
<p><a class="reference external" href="http://www.prism.oregonstate.edu/">PRISM Climate Group</a> prikuplja klimatska posmatranja i pruža istorijske i aktuelne klimatske podatke za kontinentalni deo SAD. Idite na stranicu sa podacima <a class="reference external" href="http://www.prism.oregonstate.edu/recent/">Recent Years</a> i preuzmite mesečne podatke o padavinama za 2017. godinu u BIL formatu.</p>
<img alt="../../_images/data119.png" class="align-center" src="../../_images/data119.png" />
<p><a class="reference external" href="https://data.seattle.gov/">Portal otvorenih podataka grada Sijetla</a> pruža besplatne i otvorene podatke za grad. Pretražite i preuzmite <a class="reference external" href="https://data.seattle.gov/Land-Base/Zip-Codes/n58k-cykw">Poštanski brojevi</a> podatke u shapefile formatu.</p>
<p>Radi lakšeg snalaženja, možete direktno preuzeti kopiju oba skupa podataka sa donjih linkova:</p>
<p><a class="reference external" href="https://www.qgistutorials.com/downloads/PRISM_ppt_stable_4kmM3_2017_all_bil.zip">PRISM_ppt_stable_4kmM3_2017_all_bil.zip</a></p>
<p><a class="reference external" href="https://www.qgistutorials.com/downloads/Zip_Codes.zip">Zip_Codes.zip</a></p>
<p>Izvor podataka <a class="reference internal" href="../credits.html#prism" id="id1"><span>[PRISM]</span></a> <a class="reference internal" href="../credits.html#cityofseattle" id="id2"><span>[CITYOFSEATTLE]</span></a></p>
</section>
<section id="procedure">
<h2>Procedura<a class="headerlink" href="#procedure" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Pronađite fasciklu <code class="docutils literal notranslate"><span class="pre">PRISM_ppt_stable_4kmM3_2017_all_bil.zip</span></code> u QGIS pregledaču i proširite je. Fascikla sadrži 12 pojedinačnih slojeva za svaki mesec. Držite pritisnut taster <kbd class="kbd docutils literal notranslate">Ctrl</kbd> i izaberite <code class="docutils literal notranslate"><span class="pre">.bil</span></code> datoteke za svih 12 meseci. Kada ih izaberete, prevucite ih na platno.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1140.png" class="align-center" src="../../_images/1140.png" />
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Белешка</p>
<p>Podaci su dati u <a class="reference external" href="http://desktop.arcgis.com/en/arcmap/10.3/manage-data/raster-and-images/bil-bip-and-bsq-raster-files.htm">BIL formatu</a>. Svaki sloj je predstavljen skupom datoteka <code class="docutils literal notranslate"><span class="pre">.bil</span></code> koja sadrži stvarne podatke, <code class="docutils literal notranslate"><span class="pre">.hdr</span></code> datotekom koja opisuje strukturu podataka i <code class="docutils literal notranslate"><span class="pre">.prj</span></code> datotekom koja sadrži informacije o projekciji. QGIS može da učita <code class="docutils literal notranslate"><span class="pre">.bil</span></code> datoteku pod uslovom da ostale datoteke postoje u istom direktorijumu.</p>
</div>
<ol class="arabic simple" start="2">
<li><p>Pojaviće se dijalog prozor <span class="guilabel">Izaberite transformaciju PRISM_ppt_stable_4kmM3_2017_all_bil</span>, ostavite izbor na podrazumevanoj vrednosti i kliknite <span class="guilabel">U redu</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/2109.png" class="align-center" src="../../_images/2109.png" />
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Zatim pronađite fasciklu <code class="docutils literal notranslate"><span class="pre">Zip_Codes.zip</span></code> i proširite je. Prevucite datoteku <code class="docutils literal notranslate"><span class="pre">Zip_Codes.shp</span></code> na platno.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/357.png" class="align-center" src="../../_images/357.png" />
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>Kliknite desnim tasterom miša na sloj „Zip_Codes“ i izaberite :guilabel:„Zumiraj na sloj“. Videćete poligone poštanskih brojeva za grad Sijetl i susedna područja.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/429.png" class="align-center" src="../../_images/429.png" />
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p>Idite na <span class="menuselection">Obrada ‣ Alatke</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/527.png" class="align-center" src="../../_images/527.png" />
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p>Algoritam za uzorkovanje rasterskog sloja korišćenjem vektorskih poligona poznat je kao „zonalna statistika“. Potražite algoritam u <span class="guilabel">Alatke za obradu</span>. Izaberite algoritam i zadržite pokazivač miša iznad njega. Videćete objašnjenje sa tekstom <em>ID algoritma: ’native:zonalstatisticsfb’</em>. Zabeležite ovaj ID koji će biti potreban za pozivanje ovog algoritma putem Pajton API-ja. Dvaput kliknite na algoritam „zonalna statistika“ da biste ga pokrenuli.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/627.png" class="align-center" src="../../_images/627.png" />
</div></blockquote>
<ol class="arabic simple" start="7">
<li><p>Uradićemo ručno probno pokretanje algoritma za jedan sloj. Ovo je koristan način da proverimo da li se algoritam ponaša kako se očekuje, a takođe je i jednostavan način da saznamo kako da prosledimo relevantne parametre algoritmu kada ga koristimo preko Pajtona. U dijalogu <span class="guilabel">Zonalna statistika</span>, izaberite <code class="docutils literal notranslate"><span class="pre">Zip_Codes</span></code> kao <span class="guilabel">Ulazni sloj</span> <code class="docutils literal notranslate"><span class="pre">PRISM_ppt_stable_4kmM3_201701_bil</span></code> kao <span class="guilabel">Rasterski sloj</span> i ostavite ostale parametre na podrazumevane vrednosti. Kliknite na dugme <span class="guilabel">…</span> pored <span class="guilabel">Statistika za izračunavanje</span> i izaberite samo <code class="docutils literal notranslate"><span class="pre">Prosečna</span> <span class="pre">vrednost</span></code>, zatim kliknite na dugme <span class="guilabel">…</span> pored <span class="guilabel">Zonalna statistika</span> i sačuvajte sloj kao <code class="docutils literal notranslate"><span class="pre">january_mean.gpkg</span></code> Kliknite na <span class="guilabel">Pokreni</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/726.png" class="align-center" src="../../_images/726.png" />
</div></blockquote>
<ol class="arabic simple" start="8">
<li><p>Kada se algoritam završi, pređite na karticu <span class="guilabel">Log</span>. Zabeležite <span class="guilabel">Ulazne parametre</span> koji su prosleđeni algoritmu. Kliknite na <span class="guilabel">Zatvori</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/826.png" class="align-center" src="../../_images/826.png" />
</div></blockquote>
<ol class="arabic simple" start="9">
<li><p>Sada će novi sloj „januar_srednja vrednost“ biti dodat na platno. Hajde da proverimo rezultate, kliknite desnim tasterom miša na sloj i izaberite <span class="guilabel">Otvori tabelu atributa</span>. Ovaj poseban algoritam menja sloj ulazne zone na mestu i dodaje novu kolonu za svaku izabranu statistiku. Pošto smo izabrali samo vrednost „srednja vrednost“, nova kolona pod nazivom „_srednja vrednost“ se dodaje u tabelu. „_“ je bio podrazumevani prefiks. Kada pokrenemo algoritam za slojeve svakog meseca, biće korisno da navedemo prilagođeni prefiks sa brojem meseca kako bismo mogli lako da identifikujemo srednje vrednosti za svaki mesec (npr. 01_srednja vrednost, 02_srednja vrednost itd.). Navođenje ovog prilagođenog prefiksa nije moguće u interfejsu za grupnu obradu QGIS-a i ako bismo pokrenuli ovu komandu koristeći taj interfejs, morali bismo ručno da unesemo prilagođeni prefiks za svaki sloj. Ako radite sa velikim brojem slojeva, ovo može biti veoma komplikovano. Stoga, možemo dodati ovu prilagođenu logiku koristeći Pajton API i pokrenuti algoritam u for-petlji za svaki sloj.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/926.png" class="align-center" src="../../_images/926.png" />
</div></blockquote>
<ol class="arabic simple" start="10">
<li><p>Nazad u glavnom prozoru QGIS-a, idite na <span class="menuselection">Dodaci ‣ Pajton konzola</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1034.png" class="align-center" src="../../_images/1034.png" />
</div></blockquote>
<ol class="arabic simple" start="11">
<li><p>Kliknite na dugme <span class="guilabel">show editor</span>. Ovo će otvoriti Python editor gde se može napisati i izvršiti gomila Python koda jednim klikom.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1141.png" class="align-center" src="../../_images/1141.png" />
</div></blockquote>
<ol class="arabic simple" start="12">
<li><p>Da bismo pokrenuli algoritam za obradu putem Pajtona, potrebno je da pristupimo imenima svih slojeva. Unesite sledeći kod u editor i kliknite na dugme <span class="guilabel">Play</span>. Videćete imena svih slojeva ispisana u konzoli.</p></li>
</ol>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">root</span> <span class="o">=</span> <span class="n">QgsProject</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">layerTreeRoot</span><span class="p">()</span>
<span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">children</span><span class="p">():</span>
  <span class="nb">print</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">name</span><span class="p">())</span>
</pre></div>
</div>
<img alt="../../_images/1235.png" class="align-center" src="../../_images/1235.png" />
</div></blockquote>
<ol class="arabic simple" start="13">
<li><p>Sada, izračunajmo „prosek“ za jedan mesec i kreirajmo izlazni sloj. U donjem kodu <span class="guilabel">break</span> se koristi za izlazak iz petlje nakon prvog izvršavanja, pomoću čega možemo izračunati prosek za januar mesec.</p></li>
</ol>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">re</span>

<span class="n">root</span> <span class="o">=</span> <span class="n">QgsProject</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">layerTreeRoot</span><span class="p">()</span>

<span class="n">input_layer</span> <span class="o">=</span> <span class="s1">&#39;Zip_Codes&#39;</span>
<span class="n">unique_field</span> <span class="o">=</span> <span class="s1">&#39;OBJECTID&#39;</span>

<span class="c1"># Iterate through all raster layers</span>
<span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">children</span><span class="p">():</span>
  <span class="k">if</span> <span class="n">layer</span><span class="o">.</span><span class="n">name</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;PRISM&#39;</span><span class="p">):</span>
    <span class="c1"># Run Zonal Stats algorithm</span>
    <span class="c1"># Extract the YYYYMM part of the layer name</span>
    <span class="n">pattern</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;_(\d+)_&#39;</span>
    <span class="n">matches</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">layer</span><span class="o">.</span><span class="n">name</span><span class="p">())</span>
    <span class="c1"># Use the month as the prefix</span>
    <span class="n">prefix</span> <span class="o">=</span> <span class="n">matches</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;INPUT_RASTER&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="o">.</span><span class="n">name</span><span class="p">(),</span>
        <span class="s1">&#39;RASTER_BAND&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">input_layer</span><span class="p">,</span>
        <span class="s1">&#39;COLUMN_PREFIX&#39;</span><span class="p">:</span> <span class="n">prefix</span><span class="o">+</span><span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="s1">&#39;STATISTICS&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span>
        <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:&#39;</span>
        <span class="p">}</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;native:zonalstatisticsfb&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>

    <span class="n">result_layer</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
    <span class="n">QgsProject</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">addMapLayer</span><span class="p">(</span><span class="n">result_layer</span><span class="p">)</span>
    <span class="c1"># Breaking out of loop to demonstrate the</span>
    <span class="c1"># zonalstatistics algorithm.</span>
    <span class="k">break</span>
</pre></div>
</div>
<img alt="../../_images/1333.png" class="align-center" src="../../_images/1333.png" />
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Белешка</p>
<p>Takođe možete pokrenuti QGIS algoritam za obradu putem Pajtona koristeći funkciju <cite>processing.runAndLoadResults()</cite> umesto <cite>processing.run()</cite> kao što je prikazano gore - što će rezultat direktno učitati na QGIS platno.</p>
</div>
<ol class="arabic simple" start="14">
<li><p>Novi sloj <code class="docutils literal notranslate"><span class="pre">output</span></code> će biti dodat na platno, kliknite desnim tasterom miša na sloj i izaberite <span class="guilabel">Otvori tabelu atributa</span>. <span class="guilabel">01_mean</span> predstavlja prosek za jedan mesec, slično tome, gornji algoritam će proizvesti 12 novih slojeva ako se izvrši bez prekida.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1431.png" class="align-center" src="../../_images/1431.png" />
</div></blockquote>
<ol class="arabic simple" start="15">
<li><p>Sada dodajmo kod za spajanje svih srednjih vrednosti meseci i kreiranje jednog izlaznog sloja od njega. Ažuriramo prethodni kod kako bismo iterativno pokrenuli algoritam zonalne statistike. Definišemo novu promenljivu „result_layer“ koja je na početku podešena na „Zip_Codes“, ali se ažurira sa izlaznim slojem iz svake iteracije. Ovo će nam omogućiti da koristimo rezultat svake iteracije i dodamo mu nove kolone. Unesite sledeći kod da biste iterativno prešli sve rasterske slojeve i kreirali jedan sloj koji sadrži sve srednje vrednosti meseci.</p></li>
</ol>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">re</span>

<span class="n">root</span> <span class="o">=</span> <span class="n">QgsProject</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">layerTreeRoot</span><span class="p">()</span>

<span class="n">input_layer</span> <span class="o">=</span> <span class="s1">&#39;Zip_Codes&#39;</span>
<span class="n">result_layer</span> <span class="o">=</span> <span class="n">input_layer</span>
<span class="n">unique_field</span> <span class="o">=</span> <span class="s1">&#39;OBJECTID&#39;</span>

<span class="c1"># Iterate through all raster layers</span>
<span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="n">root</span><span class="o">.</span><span class="n">children</span><span class="p">():</span>
  <span class="k">if</span> <span class="n">layer</span><span class="o">.</span><span class="n">name</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;PRISM&#39;</span><span class="p">):</span>
    <span class="c1"># Run Zonal Stats algorithm</span>
    <span class="c1"># Extract the YYYYMM part of the layer name</span>
    <span class="n">pattern</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;_(\d+)_&#39;</span>
    <span class="n">matches</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">layer</span><span class="o">.</span><span class="n">name</span><span class="p">())</span>
    <span class="c1"># Use the month as the prefix</span>
    <span class="n">prefix</span> <span class="o">=</span> <span class="n">matches</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;INPUT_RASTER&#39;</span><span class="p">:</span> <span class="n">layer</span><span class="o">.</span><span class="n">name</span><span class="p">(),</span>
        <span class="s1">&#39;RASTER_BAND&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">result_layer</span><span class="p">,</span>
        <span class="s1">&#39;COLUMN_PREFIX&#39;</span><span class="p">:</span> <span class="n">prefix</span><span class="o">+</span><span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="s1">&#39;STATISTICS&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span>
        <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="s1">&#39;memory:&#39;</span>
        <span class="p">}</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;native:zonalstatisticsfb&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>

    <span class="c1"># Update the result_layer variable</span>
    <span class="c1"># The result will be used as input for the next iteration</span>
    <span class="n">result_layer</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>

<span class="n">QgsProject</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">addMapLayer</span><span class="p">(</span><span class="n">result_layer</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../../_images/1526.png" class="align-center" src="../../_images/1526.png" />
</div></blockquote>
<ol class="arabic simple" start="16">
<li><p>Kada se obrada završi, novi sloj „output“ će biti dodat na platno, kliknite desnim tasterom miša na sloj i izaberite <span class="guilabel">Otvori tabelu atributa</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1624.png" class="align-center" src="../../_images/1624.png" />
</div></blockquote>
<ol class="arabic simple" start="17">
<li><p>Videćete 12 novih kolona dodatih u tabelu sa prilagođenim prefiksima i srednjim vrednostima padavina izvučenim iz rasterskih slojeva.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1726.png" class="align-center" src="../../_images/1726.png" />
</div></blockquote>
</section>
</section>



<!-- Turn on comments on only newer tutorials having 3/ in URL -->

  <!-- Comment Section Powered by utterances -->
<div id="comments">
  <hr />
  <p>If you want to give feedback or share your experience with this tutorial, please comment below. (requires GitHub account)</p>
<script src="https://utteranc.es/client.js"
        repo="spatialthoughts/qgis-tutorials"
        issue-term="title"
        label="comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2025, Ujaval Gandhi.<br/>
      Last updated on авг 08, 2025.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 8.2.3.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a>.<br>
  You are free to use the material for any purpose as long as you give appropriate credit to the original author.</p>
</div>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/3/processing_algorithms_pyqgis.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>