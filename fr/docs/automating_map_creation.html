<!DOCTYPE html>

<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Création automatisée de cartes avec l’Atlas du composeur d’impresson &#8212; QGIS Tutorials and Tips</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="search" title="Recherche" href="../search.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>


<!-- Cookie Notice -->
<!-- Script from https://github.com/AOEpeople/cookie-notice -->
<script type="text/javascript" src="../_static/cookie.notice.min.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1WQ7B80XJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B1WQ7B80XJ');
</script>


  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><span><img src="../_static/logo.png"></span>
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/making_a_map.html">Making a Map (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_attributes.html">Working with Attributes (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/importing_spreadsheets_csv.html">Importing Spreadsheets or CSV files (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_vector_styling.html">Basic Vector Styling (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_line_lengths.html">Calculating Line Lengths and Statistics (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_styling_and_analysis.html">Basic Raster Styling and Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_mosaicing_and_clipping.html">Raster Mosaicing and Clipping (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_terrain.html">Working with Terrain Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_wms.html">Utilisation de données WMS(QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_projections.html">Working with Projections (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/georeferencing_basics.html">Georeferencing Topo Sheets and Scanned Maps (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/advanced_georeferencing.html">Géoréférencer des images aériennes (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/digitizing_basics.html">Digitizing Map Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_table_joins.html">Performing Table Joins (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_joins.html">Performing Spatial Joins (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_queries.html">Performing Spatial Queries (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/nearest_neighbor_analysis.html">Nearest Neighbor Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/sampling_raster_data.html">Sampling Raster Data using Points or Polygons (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_raster_area.html">Calculating Raster Area (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/creating_heatmaps.html">Creating Heatmaps (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/animating_time_series.html">Animating Time Series Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/handling_invalid_geometries.html">Handling Invalid Geometries (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/advanced_raster_analysis.html">Advanced Raster Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/interpolating_point_data.html">Interpolating Point Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_intersection_density.html">Calcul de densité des intersection de rues (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/batch_processing.html">Traitement par lots en utilisant le framework de traitement (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_graphical_modeler.html">Automating Complex Workflows using Processing Modeler (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/automating_map_creation.html">Création automatisée de cartes avec l’Atlas de l’outil de mise en page (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/multi_criteria_overlay.html">Multi Criteria Overlay Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_network_analysis.html">Basic Network Visualization and Routing (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/origin_destination_matrix.html">Locating Nearest Facility with Origin-Destination Matrix (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/service_area_analysis.html">Service Area Analysis using Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/travel_time_analysis.html">Travel Time Analysis with Uber Movement (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/areal_mean_rainfall.html">Calculating Areal Mean Rainfall (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/getting_started_with_pyqgis.html">Getting Started With Python Programming (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_algorithms_pyqgis.html">Running Processing Algorithms via Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/custom_python_functions.html">Using Custom Python Expression Functions (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_scripts.html">Écrire des scripts Python pour la structure de traitement (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/building_a_python_plugin.html">Building a Python Plugin (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_plugin.html">Building a Processing Plugin (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_qgis_jobs.html">Running and Scheduling QGIS Processing Jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/web_mapping_with_qgis2web.html">cartographie web avec QGIS2WEB (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_basemaps_with_qtiles.html">Créer des fonds de carte avec QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/using_plugins.html">Using Plugins (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloading_osm_data.html">Searching and Downloading OpenStreetMap Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="learning_resources.html">Ressources pour l’apprentissage de QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Crédits</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Batch Processing using Processing Framework (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>
<hr>
<p>Want to learn QGIS in a structured way? Check out <a href="https://spatialthoughts.com/" target="_blank">Spatial Thoughts</a> for more learning materials and instructor-led online programs with QGIS.org certification.</p>


<h4>Change Language</h4>
<form role="form" class="sidebar-form sidebar-left">
<select id="languages" class="form-control select-mini">
  <option value="en">English</option>
  <option value="zh_TW">Chinese (Taiwan)</option>
  <option value="nl">Dutch</option>
  <option value="fi_FI">Finnish</option>
  <option value="fr">French</option>
  <option value="de">German</option>
  <option value="el">Greek</option>
  <option value="id">Indonesian</option>
  <option value="it">Italian</option>
  <option value="ko">Korean</option>
  <option value="fa">Persian</option>
  <option value="pt_BR">Portuguese</option>
  <option value="ro">Romanian</option>
  <option value="ru">Russian</option>
  <option value="sl">Slovenian</option>
  <option value="es">Spanish</option>
  <option value="th">Thai</option>
  <option value="tr">Turkish</option>
  <option value="uk">Ukrainian</option>
  <option value="vi">Vietnamese</option>
</select>
</form>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      

  <section id="automating-map-creation-with-print-composer-atlas">
<h1>Création automatisée de cartes avec l’Atlas du composeur d’impresson<a class="headerlink" href="#automating-map-creation-with-print-composer-atlas" title="Lien permanent vers ce titre">¶</a></h1>
<div class="admonition warning">
<p class="admonition-title">Avertissement</p>
<p>A new version of this tutorial is available at <a class="reference internal" href="3/automating_map_creation.html"><span class="doc">Création automatisée de cartes avec l’Atlas de l’outil de mise en page (QGIS3)</span></a></p>
</div>
<p>Si votre organisation publie des cartes papier ou en ligne, vous pouvez avoir besoin de créer plusieurs cartes à partir du même modèle, cela peut être une carte par zone administrative ou sur différentes régions. La création manuelle de ces cartes peut prendre du temps et si vous souhaitez les mettre à jour régulièrement, cela peut devenir une véritable corvée. QGIS dispose de l’outil  <code class="docutils literal notranslate"><span class="pre">Atlas</span></code>  qui peut vous permettre de créer un modèle utilisable pour les différentes régions à cartographier.
Si vous n’êtes pas familier avec le composeur d’impression, vous pouvez reprendre le tutoriel <a class="reference internal" href="making_a_map.html"><span class="doc">Créer une carte</span></a></p>
<section id="overview-of-the-task">
<h2>Description de l’exercice<a class="headerlink" href="#overview-of-the-task" title="Lien permanent vers ce titre">¶</a></h2>
<p>Ce tutoriel vous montre comment créer une carte des zones humides pour chaque région de l’état de Hawaii</p>
<section id="other-skills-you-will-learn">
<h3>Autres compétences que vous allez développer<a class="headerlink" href="#other-skills-you-will-learn" title="Lien permanent vers ce titre">¶</a></h3>
<ul class="simple">
<li><p>Comment utiliser le style « polygones inversé » pour représenter des zones hors des polygones.</p></li>
<li><p>Comment réaliser un style basé sur une règle pour représenter uniquement les entités présentes dans un Atlas</p></li>
<li><p>Appliquer les expressions pour créer des étiquettes dynamiques dans le composeur d’impression.</p></li>
</ul>
</section>
</section>
<section id="get-the-data">
<h2>Récupérer les données<a class="headerlink" href="#get-the-data" title="Lien permanent vers ce titre">¶</a></h2>
<p>Nous allons utiliser les données SIG &lt;<a class="reference external" href="http://planning.hawaii.gov/gis/download-gis-data/">http://planning.hawaii.gov/gis/download-gis-data/</a>&gt;`_ du service de planification de l’état de Hawaii  &lt;<a class="reference external" href="http://planning.hawaii.gov/">http://planning.hawaii.gov/</a>&gt;`_</p>
<p>Téléchargez la couche de   <a class="reference external" href="http://files.hawaii.gov/dbedt/op/gis/data/HI_Wetlands.shp.zip">zones humides</a>  depuis la catégorie  Biologie et écologie.</p>
<p>Télécharger les données du <a class="reference external" href="http://files.hawaii.gov/dbedt/op/gis/data/county10.shp.zip">Recensement County Boundaries 2010</a>
depuis la catégorie culture et démographie</p>
<p>Par soucis de simplicité, les deux jeux de données sont téléchargeables directement aux liens ci-dessous:</p>
<p><a class="reference external" href="http://www.qgistutorials.com/downloads/HI_Wetlands.shp.zip">HI_Wetlands.shp.zip</a></p>
<p><a class="reference external" href="http://www.qgistutorials.com/downloads/county10.shp.zip">county10.shp.zip</a></p>
<p>Source des données <a class="reference internal" href="credits.html#hawaii" id="id1"><span>[HAWAII]</span></a></p>
</section>
<section id="procedure">
<h2>Procédure<a class="headerlink" href="#procedure" title="Lien permanent vers ce titre">¶</a></h2>
<ol class="arabic simple">
<li><p>Ouvrir QGIS et cliquer sur le  :menu:
:<cite>couches –&gt; ajouter une couche –&gt; ajouter une couche vecteur</cite>.</p></li>
</ol>
<img alt="../_images/1150.png" class="align-center" src="../_images/1150.png" />
<ol class="arabic simple" start="2">
<li><p>Ouvrir le fichier <code class="docutils literal notranslate"><span class="pre">HI_Wetlands.shp.zip</span></code> et cliquer sur <span class="guilabel">ouvrir</span>.</p></li>
</ol>
<img alt="../_images/2124.png" class="align-center" src="../_images/2124.png" />
<ol class="arabic simple" start="3">
<li><p>Sélectionner la couche <code class="docutils literal notranslate"><span class="pre">HI_Wetlands_Poly</span></code> et cliquer sur  <span class="guilabel">OK</span>.</p></li>
</ol>
<img alt="../_images/357.png" class="align-center" src="../_images/357.png" />
<ol class="arabic simple" start="4">
<li><p>Vous aller voir les polygones représentant des zones humides sur tout l’état de Hawaii.
Étant donné que nous souhaitons réaliser des cartes différentes pour chaque région de l’état, nous allons utiliser la couche de frontière.
Aller dans le <a href="#id1"><span class="problematic" id="id2">:menu:`couche --&gt; Ajouter une couche --&gt; ajouter une couche vecteur`puis, explorer le fichier ``county10.shp.zip``</span></a> enfin cliquer sur . Click <span class="guilabel">ouvrir</span>.</p></li>
</ol>
<img alt="../_images/434.png" class="align-center" src="../_images/434.png" />
<ol class="arabic simple" start="5">
<li><p>Aller dans le <a href="#id1"><span class="problematic" id="id2">:menu:`Projet --&gt; Nouveau composeur d'impression`</span></a>.</p></li>
</ol>
<img alt="../_images/532.png" class="align-center" src="../_images/532.png" />
<ol class="arabic simple" start="6">
<li><p>Laisser le titre du composeur vide et cliquer sur  <span class="guilabel">OK</span>.</p></li>
</ol>
<img alt="../_images/631.png" class="align-center" src="../_images/631.png" />
<ol class="arabic simple" start="7">
<li><p>aller dans le <a href="#id1"><span class="problematic" id="id2">:menu:`Layout --&gt; Ajouter une carte`</span></a>.</p></li>
</ol>
<img alt="../_images/731.png" class="align-center" src="../_images/731.png" />
<ol class="arabic simple" start="8">
<li><p>Tracer un rectangle pour insérer la carte en maintenant le clique gauche de la souris.</p></li>
</ol>
<img alt="../_images/830.png" class="align-center" src="../_images/830.png" />
<ol class="arabic simple" start="9">
<li><p>Effectuer un mouvement de molette vers le bas dans l’onglet  <span class="guilabel">propriété de l’objet</span> et vérifier que  <span class="guilabel">contrôlé par l’Atlas</span> soit bien coché.
Cela va indiquer au composeur que l’étendue de la carte affichée sera déterminée par l’outil <code class="docutils literal notranslate"><span class="pre">Atlas</span></code>.</p></li>
</ol>
<img alt="../_images/931.png" class="align-center" src="../_images/931.png" />
<ol class="arabic simple" start="10">
<li><p>Cliquez sur l’onglet de  <span class="guilabel">génération d’atlas</span>. Vérifiez que la case <span class="guilabel">générer un atlas est bien cochée. Sélectionner ``county10`</span> comme <span class="guilabel">couche de couverture</span>. Cela indique que nous souhaitons créer un polygone pour chaque entités dans la couche <code class="docutils literal notranslate"><span class="pre">county10</span></code>. Vous pouvez aussi vérifier le la case <span class="guilabel">Cacher la couche de couverture</span> est cochée, cela permettra de cacher cette couche sur la carte.</p></li>
</ol>
<img alt="../_images/1038.png" class="align-center" src="../_images/1038.png" />
<ol class="arabic simple" start="11">
<li><p>Vous remarquerez que la carte de change pas après la configuration de l’atlas. Allez dans l’onglet général <span class="menuselection">Atlas ‣ appeçu de l’Atlas</span>.</p></li>
</ol>
<img alt="../_images/1151.png" class="align-center" src="../_images/1151.png" />
<ol class="arabic simple" start="12">
<li><p>Maintenant vous pouvez voir la carte mise à jour et voir à quoi vont ressembler chacune des cartes. Vous pouvez par ailleurs noter que cela indique le numéro de l’entité affichée en bas à droite.</p></li>
</ol>
<img alt="../_images/1241.png" class="align-center" src="../_images/1241.png" />
<ol class="arabic simple" start="13">
<li><p>Vous pouvez prévisualiser chacun des polygones de l’Atlas. Pour cela, allez dans <span class="menuselection">Atlas ‣  Entité suivante</span>.</p></li>
</ol>
<img alt="../_images/1339.png" class="align-center" src="../_images/1339.png" />
<ol class="arabic simple" start="14">
<li><p>L’atlas va produire une carte basée sur l’étendue de l’entité de la couche d couverture.</p></li>
</ol>
<img alt="../_images/1436.png" class="align-center" src="../_images/1436.png" />
<ol class="arabic simple" start="15">
<li><p>Ajoutons une étiquette à la carte. Allez dans <span class="menuselection">Mise en page ‣ Ajouter une étiquette</span>.</p></li>
</ol>
<img alt="../_images/1534.png" class="align-center" src="../_images/1534.png" />
<ol class="arabic simple" start="16">
<li><p>Dans l’onglet <span class="guilabel">propriétés de l’objet</span>, cliquez sur le bouton  <span class="guilabel">Insérer une expression</span>.</p></li>
</ol>
<img alt="../_images/1632.png" class="align-center" src="../_images/1632.png" />
<ol class="arabic simple" start="17">
<li><p>L’étique de la carte peut disposer des attributs de la couche de couverture.
la fonction <code class="docutils literal notranslate"><span class="pre">concat</span></code> est utilisée pour pour réunir plusieurs textes dans un seul objet.
Ici, nous allons assembler la valeur de l’attribut <code class="docutils literal notranslate"><span class="pre">NAME10</span></code> de la couche <code class="docutils literal notranslate"><span class="pre">county10</span></code>
avec le texte <code class="docutils literal notranslate"><span class="pre">County</span> <span class="pre">of</span></code>.
Ajoutez l’expression ci dessous et cliquez sur <span class="guilabel">OK</span>.</p></li>
</ol>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>concat(&#39;County of &#39;, &quot;NAME10&quot;)
</pre></div>
</div>
<ol class="arabic simple" start="18">
<li><p>Ajustez la taille de la police selon vos envies.</p></li>
</ol>
<img alt="../_images/1827.png" class="align-center" src="../_images/1827.png" />
<ol class="arabic simple" start="19">
<li><p>Ajoutez une autre étiquette et saisissez  <code class="docutils literal notranslate"><span class="pre">Wetlands</span> <span class="pre">Map</span></code> comme <span class="guilabel">propriétés principales</span>.</p></li>
</ol>
<img alt="../_images/1921.png" class="align-center" src="../_images/1921.png" />
<ol class="arabic simple" start="20">
<li><p>Allez dans  <span class="menuselection">Atlas ‣ Entité précédente</span> et vérifiez que les étiquette s’affichent comme désiré.
Vous remarquerez que le polygone des zones humides s’étend dans les océans, ce qui n’est pas très esthétique. Nous pouvons modifier le rendu pour faire en sorte que ce qui dépasse de la limite soit caché.</p></li>
</ol>
<img alt="../_images/2018.png" class="align-center" src="../_images/2018.png" />
<ol class="arabic simple" start="21">
<li><p>Allez dans la fenêtre principale de Qgis. Faites un clic droit sur la couche <code class="docutils literal notranslate"><span class="pre">county10</span></code> layer et sélectionnez <span class="guilabel">Propriétés</span>.</p></li>
</ol>
<img alt="../_images/2125.png" class="align-center" src="../_images/2125.png" />
<ol class="arabic simple" start="22">
<li><p>Dans l’onglet <span class="guilabel">Style</span> , sélectionnez le rendu <span class="guilabel">polygones inversés</span> .
Ce style va donc s’appliquer à l’extérieur du polygone. Sélectionnez blanc comme couleur de remplissage et cliquez sur <span class="guilabel">OK</span>.</p></li>
</ol>
<img alt="../_images/2220.png" class="align-center" src="../_images/2220.png" />
<ol class="arabic simple" start="23">
<li><p>Switch to the Print Composer window. If we want the effect of the inverted
polygons to show, we need to uncheck the <span class="guilabel">Hidden coverage layer</span>
box under <span class="guilabel">Atlas generation</span>. You will now see that the rendered
image is clean and areas outside the coverage polygon is not visible.</p></li>
</ol>
<img alt="../_images/2318.png" class="align-center" src="../_images/2318.png" />
<ol class="arabic simple" start="24">
<li><p>There is one problem though. You can see areas of the map that are outside
the coverage layer boundary but still visible. This is because Atlas
doesn’t automatically hide other features. This can be useful in some
cases, but for our purpose, we only want to show wetlands of the county
whose map is being generated. To fix this, switch back to the main QGIS
window and right-click the <code class="docutils literal notranslate"><span class="pre">county10</span></code> layer and select
<span class="guilabel">Properties</span>.</p></li>
</ol>
<img alt="../_images/2418.png" class="align-center" src="../_images/2418.png" />
<ol class="arabic simple" start="25">
<li><p>In the <span class="guilabel">Style</span> tab, select <span class="guilabel">Rule-based</span> renderer as the
<span class="guilabel">Sub renderer</span>. Double-click the area under <span class="guilabel">Rule</span>.</p></li>
</ol>
<img alt="../_images/2516.png" class="align-center" src="../_images/2516.png" />
<ol class="arabic simple" start="26">
<li><p>Click the <span class="guilabel">…</span> button next to <span class="guilabel">Filter</span>.</p></li>
</ol>
<img alt="../_images/2614.png" class="align-center" src="../_images/2614.png" />
<ol class="arabic simple" start="27">
<li><p>In the <span class="guilabel">Expression string builder</span>, expand the <span class="guilabel">Atlas</span>
group of functions. The <code class="docutils literal notranslate"><span class="pre">$atlasfeatureid</span></code> function will return the
currently selected feature. We will construct an expression that will
select only the currently selected Atlas feature. Enter the expression as
below:</p></li>
</ol>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$id = $atlasfeatureid
</pre></div>
</div>
<img alt="../_images/2714.png" class="align-center" src="../_images/2714.png" />
<ol class="arabic simple" start="28">
<li><p>Back in the Print Composer window, click the <span class="guilabel">Update preview</span>
button under <span class="guilabel">Item properties</span> tab to see the changes. Notice
that now only the area covering the county boundary is shown.</p></li>
</ol>
<img alt="../_images/2814.png" class="align-center" src="../_images/2814.png" />
<ol class="arabic simple" start="29">
<li><p>We will now add another dynamic label to show the current date. Go to
<span class="menuselection">Layout ‣ Add Label</span> and select the area on the map. Click
<span class="guilabel">Insert an expression</span> button.</p></li>
</ol>
<img alt="../_images/2912.png" class="align-center" src="../_images/2912.png" />
<ol class="arabic simple" start="30">
<li><p>Expand the <span class="guilabel">Date and Time</span> functions group and you will find the
<code class="docutils literal notranslate"><span class="pre">$now</span></code> function. This holds the current system time. The function
<code class="docutils literal notranslate"><span class="pre">todate()</span></code> will convert this to a date string. Enter the expression as
below:</p></li>
</ol>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>concat(&#39;Created on: &#39;, todate($now))
</pre></div>
</div>
<img alt="../_images/3010.png" class="align-center" src="../_images/3010.png" />
<ol class="arabic simple" start="31">
<li><p>Add another label citing the data source. You may also add other map
elements such as a north arrow, scalebar etc. as described in
<a class="reference internal" href="making_a_map.html"><span class="doc">Créer une carte</span></a> tutorial.</p></li>
</ol>
<img alt="../_images/3113.png" class="align-center" src="../_images/3113.png" />
<ol class="arabic simple" start="32">
<li><p>Once you are satisfied with the map layout, go to <span class="menuselection">Atlas ‣
Export Atlas as Images</span>.</p></li>
</ol>
<img alt="../_images/3211.png" class="align-center" src="../_images/3211.png" />
<ol class="arabic simple" start="33">
<li><p>Select a directory on your computer and click <span class="guilabel">Choose</span>.</p></li>
</ol>
<img alt="../_images/3310.png" class="align-center" src="../_images/3310.png" />
<ol class="arabic simple" start="34">
<li><p>The Atlas tool will now iterate through each feature in the coverage layer
and create a separate map image based on the template we created. You can
see the images in the directory once the process completes.</p></li>
</ol>
<img alt="../_images/3410.png" class="align-center" src="../_images/3410.png" />
<ol class="arabic simple" start="35">
<li><p>Here are the map images for refeence.</p></li>
</ol>
<img alt="../_images/35_1.jpg" class="align-center" src="../_images/35_1.jpg" />
<img alt="../_images/35_2.jpg" class="align-center" src="../_images/35_2.jpg" />
<img alt="../_images/35_3.jpg" class="align-center" src="../_images/35_3.jpg" />
<img alt="../_images/35_4.jpg" class="align-center" src="../_images/35_4.jpg" />
<img alt="../_images/35_5.jpg" class="align-center" src="../_images/35_5.jpg" />
</section>
</section>





  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2021, Ujaval Gandhi.<br/>
      Mis à jour le août 30, 2022.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.0.1.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/automating_map_creation.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>