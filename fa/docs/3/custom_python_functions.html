<!DOCTYPE html>

<html lang="fa">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>استفاده از بیان توابع عبارتی پایتون (QGIS3) &#8212; QGIS Tutorials and Tips</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/translations.js"></script>
    <link rel="search" title="جستجو" href="../../search.html" />
    <link rel="next" title="Writing Python Scripts for Processing Framework (QGIS3)" href="processing_python_scripts.html" />
    <link rel="prev" title="Running Processing Algorithms via Python (QGIS3)" href="processing_algorithms_pyqgis.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js "></script>


<!-- Cookie Notice -->
<!-- Script from https://github.com/AOEpeople/cookie-notice -->
<script type="text/javascript" src="../../_static/cookie.notice.min.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1WQ7B80XJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B1WQ7B80XJ');
</script>


  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/logo.png"></span>
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">مقدمه</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">Making a Map (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_attributes.html">Working with Attributes (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">Importing Spreadsheets or CSV files (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Basic Vector Styling (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_line_lengths.html">محاسبه طول خط و آمار (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Basic Raster Styling and Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Raster Mosaicing and Clipping (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Working with Terrain Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">Working with WMS Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_projections.html">کار با پروژکشن</a></li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">زمین مرجع کردن نقشه  شیت توپوگرافی اسکن شده (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">زمین مرجع کردن عکس هوایی (QGIS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">رقومی کردن داده های نقشه (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins.html">اجرای اتصال جدول (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_joins.html">اجرای اتصال مکانی (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Performing Spatial Queries (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="nearest_neighbor_analysis.html">Nearest Neighbor Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_raster_data.html">Sampling Raster Data using Points or Polygons (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_raster_area.html">Calculating Raster Area (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_heatmaps.html">Creating Heatmaps (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="animating_time_series.html">Animating Time Series Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="handling_invalid_geometries.html">Handling Invalid Geometries (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_raster_analysis.html">Advanced Raster Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolating_point_data.html">Interpolating Point Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_intersection_density.html">محاسبه تراکم تقاطع خیابان(QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Batch Processing using Processing Framework (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_graphical_modeler.html">گردش کار خودکار با استفاده از مدل پردازش (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="automating_map_creation.html">Automating Map Creation with Print Layout Atlas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="multi_criteria_overlay.html">تحلیل همپوشانی چندمعیار­ه (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_network_analysis.html">Basic Network Visualization and Routing (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="origin_destination_matrix.html">Locating Nearest Facility with Origin-Destination Matrix (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="service_area_analysis.html">Service Area Analysis using Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="travel_time_analysis.html">Travel Time Analysis with Uber Movement (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="areal_mean_rainfall.html">محاسبه منطقه ای میانگین بارش(QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_with_pyqgis.html">شروع برنامه نویسی پایتون (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_algorithms_pyqgis.html">Running Processing Algorithms via Python (QGIS3)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">استفاده از بیان توابع عبارتی پایتون (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_scripts.html">Writing Python Scripts for Processing Framework (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_a_python_plugin.html">ساخت پلاگین پایتون (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_plugin.html">Building a Processing Plugin (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_qgis_jobs.html">اجرا و برنامه ریزی پردازش وظیفه ای در QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_mapping_with_qgis2web.html">Web Mapping with QGIS2Web (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_basemaps_with_qtiles.html">Creating Basemaps with QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Using Plugins (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../downloading_osm_data.html">Searching and Downloading OpenStreetMap Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learning_resources.html">منابع آموزشی QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Data Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../batch_processing.html">Batch Processing using Processing Framework (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="processing_algorithms_pyqgis.html" title="Previous Chapter: Running Processing Algorithms via Python (QGIS3)"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Running Proce...</span>
    </a>
  </li>
  <li>
    <a href="processing_python_scripts.html" title="Next Chapter: Writing Python Scripts for Processing Framework (QGIS3)"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Writing Pytho... &raquo;</span>
    </a>
  </li>
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>
<hr>
<p>Want to learn QGIS in a structured way? Check out <a href="https://spatialthoughts.com/" target="_blank">Spatial Thoughts</a> for more learning materials and instructor-led online programs with QGIS.org certification.</p>


<h4>Change Language</h4>
<form role="form" class="sidebar-form sidebar-left">
<select id="languages" class="form-control select-mini">
  <option value="en">English</option>
  <option value="zh_TW">Chinese (Taiwan)</option>
  <option value="nl">Dutch</option>
  <option value="fi_FI">Finnish</option>
  <option value="fr">French</option>
  <option value="de">German</option>
  <option value="el">Greek</option>
  <option value="id">Indonesian</option>
  <option value="it">Italian</option>
  <option value="ko">Korean</option>
  <option value="fa">Persian</option>
  <option value="pt_BR">Portuguese</option>
  <option value="ro">Romanian</option>
  <option value="ru">Russian</option>
  <option value="sl">Slovenian</option>
  <option value="es">Spanish</option>
  <option value="th">Thai</option>
  <option value="tr">Turkish</option>
  <option value="uk">Ukrainian</option>
  <option value="vi">Vietnamese</option>
</select>
</form>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      

  <section id="using-custom-python-expression-functions-qgis3">
<h1>استفاده از بیان توابع عبارتی پایتون (QGIS3)<a class="headerlink" href="#using-custom-python-expression-functions-qgis3" title="پیوند ثابت به این سر مقاله">¶</a></h1>
<p>عبارات در QGIS قدرت زیادی دارند و در بسیاری از عارضه های اصلی  ازقبیل : انتخاب ، محاسبه مقادیر فیلد ،نمایش قالب ، برچسب گذاری و غیره QGIS مورد استفاده قرار می گیرند همچنینQGIS  از عبارات تعریف شده توسط کاربر پشتیبانی می کند. با کمی برنامه نویسی پایتون ، می توانید توابع  خود  در موتور عبارت تعریف کنید.</p>
<section id="overview-of-the-task">
<h2>نمای کلی  تمرین<a class="headerlink" href="#overview-of-the-task" title="پیوند ثابت به این سر مقاله">¶</a></h2>
<p>ما یک تابع سفارشی را تعریف خواهیم کرد که عدد زون UTM  یک عارضه در نقشه  <a class="reference external" href="http://www.dmap.co.uk/utmworld.htm">UTM zone number</a> را پیدا کند و  با استفاده از این تابع عبارتی، وقتی روی نقطه قرار گرفتید عدد منطقه UTM نمایش داده  شود.</p>
<section id="other-skills-you-will-learn">
<h3>مهارت های دیگری که خواهید آموخت<a class="headerlink" href="#other-skills-you-will-learn" title="پیوند ثابت به این سر مقاله">¶</a></h3>
<ul class="simple">
<li><p>نحوه استفاده از ابزار <code class="docutils literal notranslate"><span class="pre">Map</span> <span class="pre">Tips</span></code> برای نمایش متن سفارشی هنگام قرار دادن روی عارضه.</p></li>
</ul>
</section>
</section>
<section id="get-the-data">
<h2>اخذ داده<a class="headerlink" href="#get-the-data" title="پیوند ثابت به این سر مقاله">¶</a></h2>
<p>ما از مجموعه  داده مکانی وبگاه  <a class="reference external" href="http://www.naturalearthdata.com/downloads/10m-cultural-vectors/10m-populated-places/">Populated Places</a>  استفاده خواهیم کرد. مجموعه داده های ساده شده  (با ستون کمتر) &lt;<a class="reference external" href="http://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/cultural/ne_10m_populated_places_simple.zip">http://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/cultural/ne_10m_populated_places_simple.zip</a>&gt;`__ را دونلود نمایید.</p>
</section>
<section id="procedure">
<h2>مراحل<a class="headerlink" href="#procedure" title="پیوند ثابت به این سر مقاله">¶</a></h2>
<ol class="arabic simple">
<li><p>فایل  <code class="docutils literal notranslate"><span class="pre">ne_10m_populated_places_simple.zip</span></code> را در QGIS Browser پیدا کرده و آن را باز دهید. فایل  <code class="docutils literal notranslate"><span class="pre">ne_10m_populated_places_simple.shp</span></code> را انتخاب کرده و به پنجره اصلی بکشید.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/140.png" class="align-center" src="../../_images/140.png" />
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>به منوی   <span class="menuselection">Edit ‣ Select ‣ Select Features By Expression...</span>  بروید یا دکمه <span class="guilabel">Select features using an expression</span>  برای انتخاب عارضه ها با استفاده از عبارت  در  ابزار  <span class="guilabel">Attributes Toolbar</span>. کلیک کنید.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/229.png" class="align-center" src="../../_images/229.png" />
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>در کادر محاوره ای    <span class="guilabel">Select by Expression</span> ، به تب:guilabel:<cite>Function Editor</cite>  بروید. در اینجا می توانید کد PyQGIS بنویسید که توسط موتور عبارت اجرا می شود.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/319.png" class="align-center" src="../../_images/319.png" />
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>ما یک تابع به نام &quot;GetUtmZone&quot; تعریف خواهیم کرد که شماره منطقه UTM را برای هر عارضه محاسبه می کند. از آنجا که توابع سفارشی در QGIS در سطح عارضه کار می کنند. ما از مرکز هندسه عارضه استفاده خواهیم کرد و منطقه UTM را از عرض و طول هندسه مرکز محاسبه خواهیم کرد. همچنین برای تعیین وجود منطقه در نیمکره شمالی یا جنوبی ،  حرف  'N' یا 'S' به منطقه اضافه خواهیم کرد. دکمه <span class="guilabel">+`را در پایین سمت چپ صفحه فشار دهید ونام ``utm_zones.py`</span> را به عنوان فایل خروجی  تایپ کنید. جهت بستن راهنما،  بر روی برچسب <span class="guilabel">Help</span> در پانل پایین کلیک کنید. پانل کد  را باز کنید.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/4.gif" class="align-center" src="../../_images/4.gif" />
</div></blockquote>
<ol class="arabic" start="5">
<li><p>زون UTM پروژکشن  بر حسب  طول جغرافیایی  تعیین  می شود که از 1 تا 60 شماره گذاری شده اند. هر زون UTM  به مقدار 6 درجه است. در اینجا ما از یک فرمول ساده ریاضی برای پیدا کردن منطقه مناسب برای یک مقدار طول مشخص استفاده می کنیم. این فرمول برای همه به جز چند منطقه ویژه <a class="reference external" href="https://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate_system#Exceptions">https://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate_system#Exceptions</a>&gt;`_ درست عمل می کند. کد زیر را در پنجره ویرایشگر تایپ کنید. پس از اتمام کار ، بر دکمه  <span class="guilabel">Save and Load Functions</span>. کلیک کنید تا کد ذخیره   و بارگذاری شود</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">qgis.core</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">qgis.gui</span> <span class="kn">import</span> <span class="o">*</span>

<span class="nd">@qgsfunction</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="s1">&#39;Custom&#39;</span><span class="p">,</span> <span class="n">usesgeometry</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">GetUtmZone</span><span class="p">(</span><span class="n">value1</span><span class="p">,</span> <span class="n">feature</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the UTM Zone of the feature&#39;s geometry as a String&quot;&quot;&quot;</span>
    <span class="n">centroid</span> <span class="o">=</span> <span class="n">feature</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span>
    <span class="n">longitude</span> <span class="o">=</span> <span class="n">centroid</span><span class="o">.</span><span class="n">asPoint</span><span class="p">()</span><span class="o">.</span><span class="n">x</span><span class="p">()</span>
    <span class="n">latitude</span> <span class="o">=</span> <span class="n">centroid</span><span class="o">.</span><span class="n">asPoint</span><span class="p">()</span><span class="o">.</span><span class="n">y</span><span class="p">()</span>
    <span class="n">zone_number</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(((</span><span class="n">longitude</span> <span class="o">+</span> <span class="mi">180</span><span class="p">)</span> <span class="o">/</span> <span class="mi">6</span><span class="p">)</span> <span class="o">%</span> <span class="mi">60</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>

    <span class="k">if</span> <span class="n">latitude</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">zone_letter</span> <span class="o">=</span> <span class="s1">&#39;N&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">zone_letter</span> <span class="o">=</span> <span class="s1">&#39;S&#39;</span>

    <span class="k">return</span> <span class="s1">&#39;</span><span class="si">%d%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">zone_number</span><span class="p">),</span> <span class="n">zone_letter</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../../_images/58.png" class="align-center" src="../../_images/58.png" />
</div></blockquote>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">توجه</p>
<p>در حال حاضر هیچ راهی برای حذف یک فایل عبارت از GUI وجود ندارد. اگر می خواهید فایل &quot;utm_zone.py&quot; را حذف کنید ، می توانید به منوی  <span class="menuselection">Settings ‣ User Profiles ‣ Open Active Profile Folder</span> بروید و فایل را از  <span class="menuselection">python ‣ expressions</span> پاک کنید.</p>
</div>
<ol class="arabic" start="6">
<li><p>در کادر محاوره ای انتخاب با عبارت به تب Expression بروید. گروه: guilabel: <cite>Custom</cite> را در بخش توابع پیدا و باز کنید. شما یک تابع جدید``GetUtmZone`` را در لیست مشاهده خواهید کرد. اکنون می توانیم از این تابع دقیقاً مانند سایر توابع استفاده کنیم. عبارت زیر را در ویرایشگر تایپ کنید. این عبارت تمام نقاطی را که در زون <cite>33N`</cite> پر.ژکشن UTM قرار می گیرند انتخاب می کند.  جهت  بزرگنمایی  عارضه ها <span class="guilabel">Zoom to Features</span>  کلیک کنید. اگر  روی نقشه کلیک کنید تغییر می کند <span class="guilabel">Select Features</span> را انتخاب کنید باید ببینید نقاط موجود در منطقه UTM 33N به زرد تغییر رنگ می دهند.</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>GetUtmZone() = &#39;33N&#39;
</pre></div>
</div>
<img alt="../../_images/68.png" class="align-center" src="../../_images/68.png" />
</div></blockquote>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">توجه</p>
<p>به دلیل اشکال ، این تابع در نسخه های قبلی QGIS 3 کار نمی کند.  این مشکل، از نسخه 3.4.5 به بعد برطرف شده است.</p>
</div>
<ol class="arabic" start="7">
<li><p>به پنجره اصلی QGIS برگردید ، باید برخی نقاط با رنگ زرد  مشاهده می کنید. اینها نقاطی هستند که در زون UTM قرار می گیرند و ما در عبارت مشخص کردیم.</p>
<blockquote>
<div><img alt="../../_images/78.png" class="align-center" src="../../_images/78.png" />
</div></blockquote>
</li>
<li><p>شما دیدید که چگونه یک تابع را برای انتخاب عارضه ها توسط عبارت تعریف و استفاده کردیم. اکنون از همین تابع در جای دیگری استفاده خواهیم کرد. یکی از ابزارهای مهم پنهان در QGIS ابزار**Map Tip**  است. این ابزار هنگامی که بر روی یک عارضه حرکت می کنید متن تعریف شده توسط کاربر را نشان می دهد. روی لایه``ne_10m_populated_places_simple`` راست کلیک کرده و گزینه Properties را انتخاب کنید.</p>
<img alt="../../_images/88.png" class="align-center" src="../../_images/88.png" />
</li>
<li><p>به تب Display بروید. در اینجا می توانید هر متنی را وارد کنید که وقتی روی عارضه های لایه می روید. حتی ، می توانید از مقادیر و اصطلاحات فیلد لایه برای تعریف یک پیام بسیار مفیدتر استفاده کنید. روی دکمه <span class="guilabel">Ɛ</span>  کلیک کنید.</p>
<img alt="../../_images/98.png" class="align-center" src="../../_images/98.png" />
</li>
<li><p>ویرایشگر  عبارت را دوباره خواهید دید. ما  تابع concat  استفاده خواهیم کرد تا نتایح  تابع  <code class="docutils literal notranslate"><span class="pre">GetUtmZone</span></code> به ستون <code class="docutils literal notranslate"><span class="pre">name</span></code>  افزوده شود . عبارت زیر را وارد کرده و عبارت  <span class="guilabel">OK</span> کلیک کنید.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">concat</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span><span class="s1">&#39; | UTM Zone: &#39;</span><span class="p">,</span> <span class="n">GetUtmZone</span><span class="p">())</span>
</pre></div>
</div>
<img alt="../../_images/1012.png" class="align-center" src="../../_images/1012.png" />
</li>
<li><p>عبارت وارد شده را به عنوان مقدار متن نمایش مشاهده خواهید کرد. <span class="guilabel">Insert</span> را کلیک کنید تا آن را به جعبه HTML اضافه کنید و سپس :guilabel:<a href="#id1"><span class="problematic" id="id2">`</span></a>OK`را فشار دهید.</p>
<img alt="../../_images/1115.png" class="align-center" src="../../_images/1115.png" />
</li>
<li><p>قبل از ادامه کار  ، اجازه دهید عارضه هایی را که در مرحله قبل انتخاب شده اند ، لغو کنیم . برای لغو انتخاب عارضه های  لایه ها&quot; به منوی <span class="menuselection">Edit ‣ Select ‣ Deselect Features From All Layers</span>  برویید.  یا روی دکمه &quot;لغو انتخاب <span class="guilabel">Deselect Features From All Layers</span> کلیک کنید.</p>
<img alt="../../_images/1213.png" class="align-center" src="../../_images/1213.png" />
</li>
<li><p>ابزار &quot;Map Tips&quot; را با رفتن به منوی:menuselection:<cite>View --&gt; Map Tips</cite>  یا کلیک  بر روی دکمه  <span class="guilabel">Show Map Tips</span>  ابزار  در :guilabel:<a href="#id1"><span class="problematic" id="id2">`</span></a>Attributes Toolbar فعال کنید.</p>
<img alt="../../_images/1311.png" class="align-center" src="../../_images/1311.png" />
</li>
<li><p>به هر منطقه از نقشه بزرگنمایی کرده و نشانگر موس را روی هر عارضه قرار دهید. نام شهر و زون UTM مربوطه در کادر نمایش مشاهده خواهید کرد.</p>
<img alt="../../_images/14.gif" class="align-center" src="../../_images/14.gif" />
</li>
</ol>
</section>
</section>





  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2021, Ujaval Gandhi.<br/>
      آخرین بروز رسانی در سپتامبر 01, 2022 .<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.0.1.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/3/custom_python_functions.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>