<!DOCTYPE html>

<html lang="fa" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>انجام پرس و جوهای فضایی &#8212; QGIS Tutorials and Tips</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=0bf093e7" />
    <script src="../_static/documentation_options.js?v=40f7bd05"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=35c83baa"></script>
    <link rel="search" title="جستجو" href="../search.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>


<!-- Cookie Notice -->
<!-- Script from https://github.com/AOEpeople/cookie-notice -->
<script type="text/javascript" src="../_static/cookie.notice.min.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1WQ7B80XJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B1WQ7B80XJ');
</script>


  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">مقدمه</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/making_a_map.html">Making a Map (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_attributes.html">Working with Attributes (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/importing_spreadsheets_csv.html">Importing Spreadsheets or CSV files (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_vector_styling.html">استایل برداری پایه (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_line_lengths.html">محاسبه طول خط و آمار (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_styling_and_analysis.html">استایل‌سازی و تحلیل شطرنجی پایه (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_mosaicing_and_clipping.html">Raster Mosaicing and Clipping (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_terrain.html">Working with Terrain Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_wms.html">Working with WMS Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_projections.html">کار با پروژکشن</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/georeferencing_basics.html">زمین مرجع کردن نقشه  شیت توپوگرافی اسکن شده (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/advanced_georeferencing.html">زمین مرجع کردن عکس هوایی (QGIS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/digitizing_basics.html">رقومی کردن داده های نقشه (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_table_joins.html">اجرای اتصال جدول (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_joins.html">اجرای اتصال مکانی (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_queries.html">Performing Spatial Queries (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/nearest_neighbor_analysis.html">Nearest Neighbor Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/sampling_raster_data.html">Sampling Raster Data using Points or Polygons (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_raster_area.html">Calculating Raster Area (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/creating_heatmaps.html">Creating Heatmaps (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/animating_time_series.html">متحرک سازی داده های سری زمانی (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/handling_invalid_geometries.html">Handling Invalid Geometries (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/advanced_raster_analysis.html">تجزیه و تحلیل شطرنجی پیشرفته (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/interpolating_point_data.html">Interpolating Point Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/batch_processing.html">Batch Processing using Processing Framework (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_graphical_modeler.html">گردش کار خودکار با استفاده از مدل پردازش (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/automating_map_creation.html">ایجاد خودکار نقشه با اطلس طرح بندی چاپی (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/multi_criteria_overlay.html">تحلیل همپوشانی چندمعیار­ه (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/vector_styling_expressions.html">Basic Filtering and Styling with Expressions (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/block_world_styling.html">Creating a Block World Map (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/river_styling_expressions.html">Styling a River Network with Expressions (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/contour_3d_styling.html">Styling Contours in 3D (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/isometric_buildings.html">Creating Isometric Buildings (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/interactive_canvas_maps.html">Making Interactive Canvas Maps (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/interactive_reveal_maps.html">Making Interactive Reveal Maps (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/cartogram_animation.html">Creating an Animated Cartogram (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_network_analysis.html">تجسم و مسیریابی شبکه پایه (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/origin_destination_matrix.html">Locating Nearest Facility with Origin-Destination Matrix (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/service_area_analysis.html">Service Area Analysis using Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/travel_time_analysis.html">Travel Time Analysis with Uber Movement (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/areal_mean_rainfall.html">محاسبه منطقه ای میانگین بارش(QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/colorized_river_basin_map.html">ایجاد یک نقشه حوضه رودخانه رنگی (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/creating_landuse_map.html">ایجاد نقشه کاربری اراضی(QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_intersection_density.html">محاسبه تراکم تقاطع خیابان(QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/landuse_buffer.html">تعیین مناطق بافر کاربری اراضی (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/solidwaste_mapping.html">نقشه برداری حجم دفع زباله (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/getting_started_with_pyqgis.html">شروع برنامه نویسی پایتون (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_algorithms_pyqgis.html">Running Processing Algorithms via Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/custom_python_functions.html">استفاده از بیان توابع عبارتی پایتون (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_scripts.html">Writing Python Scripts for Processing Framework (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/building_a_python_plugin.html">ساخت پلاگین پایتون (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_plugin.html">Building a Processing Plugin (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_qgis_jobs.html">اجرا و برنامه ریزی پردازش وظیفه ای در QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/web_mapping_with_qgis2web.html">نقشه برداری وب با QGIS2Web (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_basemaps_with_qtiles.html">Creating Basemaps with QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/using_plugins.html">Using Plugins (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloading_osm_data.html">جستجو و دانلود داده های OpenStreetMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="learning_resources.html">منابع آموزشی QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">اعتبار داده ها</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">پردازش دسته ای با استفاده از چارچوب پردازش (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p><a href="https://www.linkedin.com/in/spatialthoughts/"><img src="../_static/ujaval.png">Ujaval Gandhi</a></p>

<hr>
<p>Want to learn QGIS in a structured way? Check out <a href="https://spatialthoughts.com/" target="_blank">Spatial Thoughts</a> for more learning materials and instructor-led online programs with QGIS.org certification.</p>

<hr>
<p>These tutorials are also available in many other languages. Please see <a href="https://www.qgistutorials.com/en/docs/introduction.html#translations" target="_blank">translations</a> page.
</p>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      

  <section id="performing-spatial-queries">
<h1>انجام پرس و جوهای فضایی<a class="headerlink" href="#performing-spatial-queries" title="Link to this heading">¶</a></h1>
<div class="admonition warning">
<p class="admonition-title">هشدار</p>
<p>این آموزش در حال حاضر منسوخ شده است. نسخه جدید و به روز شده در <a class="reference internal" href="3/performing_spatial_queries.html"><span class="doc">Performing Spatial Queries (QGIS3)</span></a> موجود است.</p>
</div>
<p>پرس و جوهای فضایی هسته اصلی بسیاری از انواع تجزیه و تحلیل GIS هستند. در QGIS، این قابلیت از طریق افزونه <strong>Spatial Query</strong> در دسترس است.</p>
<section id="overview-of-the-task">
<h2>بررسی اجمالی کار<a class="headerlink" href="#overview-of-the-task" title="Link to this heading">¶</a></h2>
<p>ما با 2 مجموعه داده کار خواهیم کرد - یک لایه خطوط نشان دهنده رودخانه ها و یک لایه نقطه نشان دهنده شهرها. وظیفه این است که یک پرس و جو فضایی را برای یافتن همه شهرهایی که در 10 کیلومتری رودخانه قرار دارند، اجرا کنید.</p>
<section id="other-skills-you-will-learn">
<h3>مهارت های دیگری که یاد خواهید گرفت<a class="headerlink" href="#other-skills-you-will-learn" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>باز کردن فایل های .zip به طور مستقیم در QGIS.</p></li>
<li><p>باز کردن فایل های .zip به طور مستقیم در QGIS.</p></li>
<li><p>ایجاد بافر</p></li>
<li><p>انتخاب ویژگی ها با استفاده از عبارات مشابه SQL.</p></li>
<li><p>تبدیل شکل فایل به فایل KML.</p></li>
<li><p>اعتبارسنجی نتایج خود با استفاده از Google Earth.</p></li>
</ul>
</section>
</section>
<section id="get-the-data">
<h2>داده ها را دریافت کنید<a class="headerlink" href="#get-the-data" title="Link to this heading">¶</a></h2>
<p>ما از مجموعه داده های «ne_10m_rivers_lake_centerlines» و «10m_populated_places_simple» از زمین طبیعی استفاده خواهیم کرد.</p>
<p>دانلود <a class="reference external" href="http://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/physical/ne_10m_rivers_lake_centerlines.zip">Rivers and Lake Centerlines</a></p>
<p>«مکان‌های پرجمعیت &lt;<a class="reference external" href="http://www.naturalearthdata.com/http//www.naturalearthdata.com/download/">http://www.naturalearthdata.com/http//www.naturalearthdata.com/download/</a> 10m/cultural/ne_10m_populated_places_simple.zip&gt;`_ را دانلود کنید.</p>
<p>منبع داده: <a class="reference internal" href="credits.html#naturalearth" id="id1"><span>[NATURALEARTH]</span></a></p>
</section>
<section id="procedure">
<h2>روش<a class="headerlink" href="#procedure" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>منبع داده: [NATURAL EARTH] هنگامی که داده ها را دانلود کردید، QGIS را باز کنید. به :menu selection:<cite>Layer --&gt; Add Vector Layer</cite> بروید.</p></li>
</ol>
<img alt="../_images/1207.png" class="align-center" src="../_images/1207.png" />
<ol class="arabic simple" start="2">
<li><p>روی :guilabel:'Browse' کلیک کنید و به پوشه ای که فایل های فشرده را دانلود کرده اید بروید.</p></li>
</ol>
<img alt="../_images/2170.png" class="align-center" src="../_images/2170.png" />
<ol class="arabic simple" start="3">
<li><p>کلید :kbd:<a href="#id1"><span class="problematic" id="id2">`</span></a>Shift را نگه دارید و روی هر دو فایل فشرده کلیک کنید تا آنها را انتخاب کنید. روی :guilabel:'Open' کلیک کنید.</p></li>
</ol>
<img alt="../_images/3106.png" class="align-center" src="../_images/3106.png" />
<ol class="arabic simple" start="4">
<li><p>از شما خواسته می شود که یک لایه را از آرشیو فشرده انتخاب کنید. &quot;ne_10m_rivers_lake_centerlines.shp&quot; را انتخاب کنید و روی :guilabel:&quot;OK&quot; کلیک کنید.</p></li>
</ol>
<img alt="../_images/471.png" class="align-center" src="../_images/471.png" />
<ol class="arabic simple" start="5">
<li><p>از آنجایی که چندین فایل را انتخاب کرده اید، این فرآیند را برای فایل بعدی تکرار کنید. 10m_populated_places_simple.shp را انتخاب کنید و روی :guilabel:'OK' کلیک کنید.</p></li>
</ol>
<img alt="../_images/565.png" class="align-center" src="../_images/565.png" />
<ol class="arabic simple" start="6">
<li><p>شما هر دو شکل فایل را که اکنون در QGIS بارگذاری شده اند خواهید دید.</p></li>
</ol>
<img alt="../_images/663.png" class="align-center" src="../_images/663.png" />
<ol class="arabic simple" start="7">
<li><p>ما بافرهایی در اطراف لایه های نقطه و خط ایجاد خواهیم کرد. ابزار geoprocessing &quot;Buffer&quot; در QGIS از &quot;واحدهای لایه&quot; برای محاسبه فواصل بافر استفاده می کند. لایه هایی که ما داریم در «سیستم مرجع مختصات جغرافیایی (CRS)» با واحد «درجات» هستند. این مناسب نیست زیرا می‌خواهیم تحلیل ما از «متر» یا «کیلومتر» استفاده کند. برای دستیابی به این هدف، باید لایه‌های خود را دوباره به یک «سیستم مرجع مختصات پیش‌بینی‌شده (CRS)» بازتاب دهیم. روی &quot;لایه 10m_populated_places_simple&quot; کلیک راست کرده و :guilabel:&quot;Save As&quot; را انتخاب کنید.</p></li>
</ol>
<img alt="../_images/762.png" class="align-center" src="../_images/762.png" />
<ol class="arabic simple" start="8">
<li><p>در گفتگوی <span class="guilabel">ذخیره لایه برداری به عنوان...</span> روی <span class="guilabel">Browse</span> در کنار <span class="guilabel">Save as کلیک کنید و محل فایل خروجی را انتخاب کنید. فایل خروجی را به عنوان &quot;populated_places_reprojected.shp&quot; نامگذاری کنید. سپس روی دکمه :guilabel:`Browse</span> در کنار :guilabel:<a href="#id1"><span class="problematic" id="id2">`</span></a>CRS کلیک کنید.</p></li>
</ol>
<img alt="../_images/860.png" class="align-center" src="../_images/860.png" />
<ol class="arabic simple" start="9">
<li><p>اکنون باید یک CRS مناسب برای هدف خود انتخاب کنیم. برای ایجاد بافرها، یک برجستگی Azimuthal Equidistant به بهترین وجه مناسب است زیرا فواصل شعاعی اطراف مرکز طرح دقیق هستند. در مورد ما، از آنجایی که مجموعه داده جهانی است، ما یک طرح جهانی را انتخاب می کنیم. در گفتگوی <span class="guilabel">Coordinate Reference System Selector</span>، جستجوی &quot;world az..&quot; را شروع کنید و نتایج را خواهید دید. &quot;World_Azimuthal_Equidistant&quot; را انتخاب کنید و روی :guilabel:&quot;OK&quot; کلیک کنید.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">توجه</p>
<p>نمایاندن &quot;World_Azimuthal_Equidistant&quot; 90 درجه نسبت به مبدأ باز می شود. در اینجا مبدا 0 درجه طول جغرافیایی است، تنها داده های موجود در طول جغرافیایی +/- 90 درجه تبدیل می شوند.</p>
</div>
<img alt="../_images/959.png" class="align-center" src="../_images/959.png" />
<ol class="arabic simple" start="10">
<li><p>در گفتگوی <span class="guilabel">ذخیره لایه برداری به عنوان ...</span>، کادر کنار :guilabel:<a href="#id1"><span class="problematic" id="id2">`</span></a>افزودن فایل ذخیره شده به نقشه را علامت بزنید و روی &quot;OK&quot; کلیک کنید.</p></li>
</ol>
<img alt="../_images/1067.png" class="align-center" src="../_images/1067.png" />
<ol class="arabic simple" start="11">
<li><p>فرآیند پروجکشن مجدد را برای لایه <code class="docutils literal notranslate"><span class="pre">ne_10m_rivers_lake_centerlines</span></code> تکرار کنید و لایه جدید را به عنوان <code class="docutils literal notranslate"><span class="pre">rivers_lake_reprojected.shp</span></code> ذخیره کنید.</p></li>
</ol>
<img alt="../_images/11105.png" class="align-center" src="../_images/11105.png" />
<ol class="arabic simple" start="12">
<li><p>اکنون 4 لایه در <span class="guilabel">Layers Panel خود خواهید داشت. تیک کادرهای کنار لایه های اصلی را بردارید تا فقط لایه های بازپخش شده نمایش داده شوند. لایه‌های بازپخش‌شده همچنان به دلیل تنظیمی در «سی آر اس جغرافیایی» نشان داده می‌شوند. بیایید آن را خاموش کنیم. روی دکمه :guilabel: `Project Properties</span> کلیک کنید. این تنظیمات را می توان از <span class="menuselection">Project ‣ Project Properties</span> نیز مشاهده کرد.</p></li>
</ol>
<img alt="../_images/1269.png" class="align-center" src="../_images/1269.png" />
<ol class="arabic simple" start="13">
<li><p>در برگه <span class="guilabel">CRS</span> در گفتگوی <span class="guilabel">Project Properties</span> علامت کادر کنار <span class="guilabel">Enable on-the-fly CRS transformation را بردارید. روی :guilabel:`OK</span> کلیک کنید.</p></li>
</ol>
<img alt="../_images/1366.png" class="align-center" src="../_images/1366.png" />
<ol class="arabic simple" start="14">
<li><p>در پنجره اصلی QGIS، بر روی هر یک از لایه‌های بازپخش‌شده کلیک راست کرده و :guilabel: «Zoom to Layer Extent» را انتخاب کنید.</p></li>
</ol>
<img alt="../_images/1462.png" class="align-center" src="../_images/1462.png" />
<ol class="arabic simple" start="15">
<li><p>اکنون داده ها را در CRS لایه خواهید دید. اکنون برای هر دو مجموعه داده بافر ایجاد می کنیم. روی :menuselection:'Vector --&gt; Geoprocessing Tools --&gt; Buffer' کلیک کنید.</p></li>
</ol>
<img alt="../_images/1555.png" class="align-center" src="../_images/1555.png" />
<ol class="arabic simple" start="16">
<li><p>در ابزار <span class="guilabel">Buffer</span> لایه &quot;populated_places_reprojected&quot; را به عنوان ورودی انتخاب کنید. فاصله بافر را به عنوان &quot;10000&quot; وارد کنید. توجه داشته باشید که ما یک بافر 10 کیلومتری می خواهیم و از آنجایی که واحدهای CRS متر هستند، باید 10000 را وارد کنیم. نام فایل خروجی را به صورت &quot;populated_places_buffer.shp&quot; وارد کنید. روی <span class="guilabel">OK</span> کلیک کنید.</p></li>
</ol>
<img alt="../_images/1651.png" class="align-center" src="../_images/1651.png" />
<ol class="arabic simple" start="17">
<li><p>پس از پایان پردازش بافر، روی <span class="guilabel">Yes</span> کلیک کنید تا لایه ایجاد شده جدید به TOC اضافه شود.</p></li>
</ol>
<img alt="../_images/1749.png" class="align-center" src="../_images/1749.png" />
<ol class="arabic simple" start="18">
<li><p>همان فرآیند بافر را برای لایه «rivers_lake_reprojected» تکرار کنید و یک فایل خروجی با نام «rivers_lake_buffer.shp» ایجاد کنید.</p></li>
</ol>
<img alt="../_images/1845.png" class="align-center" src="../_images/1845.png" />
<ol class="arabic simple" start="19">
<li><p><code class="docutils literal notranslate"><span class="pre">rivers_lake_buffer</span></code> حاوی ویژگی هایی است که هم رودخانه هستند و هم دریاچه. تجزیه و تحلیل ما فقط استفاده از ویژگی های رودخانه را می طلبد، بنابراین ما یک پرس و جو برای انتخاب فقط ویژگی های رودخانه اجرا می کنیم. روی لایه &quot;rivers_lake_buffer&quot; کلیک راست کرده و :guilabel:&quot;Open Attribute Table&quot; را انتخاب کنید.</p></li>
</ol>
<img alt="../_images/1936.png" class="align-center" src="../_images/1936.png" />
<ol class="arabic simple" start="20">
<li><p>خواهید دید که ویژگی &quot;featurecla&quot; حاوی اطلاعاتی است که می توانیم برای انتخاب ویژگی های رودخانه استفاده کنیم. روی دکمه &quot;انتخاب ویژگی ها با استفاده از یک عبارت&quot; کلیک کنید.</p></li>
</ol>
<img alt="../_images/2031.png" class="align-center" src="../_images/2031.png" />
<ol class="arabic simple" start="21">
<li><p>عبارت &quot;featurecla&quot; = &quot;River&quot; را وارد کنید و روی :guilabel:'Select' کلیک کنید و سپس برای بازگشت به پنجره اصلی QGIS روی :guilabel:'Close کلیک کنید.</p></li>
</ol>
<img alt="../_images/2171.png" class="align-center" src="../_images/2171.png" />
<ol class="arabic simple" start="22">
<li><p>اکنون آماده انجام پرس و جو فضایی هستیم. برای استفاده از این قابلیت باید &quot;افزونه پرس و جو فضایی&quot; را فعال کنید. برای جزئیات بیشتر به <a class="reference internal" href="using_plugins.html"><span class="doc">استفاده از پلاگین Plugins</span></a> مراجعه کنید. پس از فعال شدن، به <span class="menuselection">Vector ‣ Spatial Query ‣ Spatial Query</span> بروید.</p></li>
</ol>
<img alt="../_images/2231.png" class="align-center" src="../_images/2231.png" />
<ol class="arabic simple" start="23">
<li><p>برای جستجوی خود، می‌خواهیم ویژگی‌هایی را از مکان‌های بافری انتخاب کنیم که با خطوط رودخانه بافر تلاقی می‌کنند. مطمئن شوید که کادر کنار «هندسه‌های انتخاب شده» علامت زده شده است. این برای اطمینان از این است که پرس و جو فقط از ویژگی های رودخانه ای استفاده می کند که قبلاً انتخاب کردیم. روی :guilabel:'Apply' کلیک کنید.</p></li>
</ol>
<img alt="../_images/2328.png" class="align-center" src="../_images/2328.png" />
<ol class="arabic simple" start="24">
<li><p>پس از تکمیل پرس و جو، بخش جدیدی به نام :guilabel:` ویژگی های انتخاب شده را مشاهده خواهید کرد. روی دکمه :guilabel:<a href="#id1"><span class="problematic" id="id2">`</span></a>Create layer with selected کلیک کنید. یک لایه جدید به &quot;پنل لایه ها&quot; اضافه می شود. روی :guilabel:'Close' کلیک کنید.</p></li>
</ol>
<img alt="../_images/2428.png" class="align-center" src="../_images/2428.png" />
<ol class="arabic simple" start="25">
<li><p>بزرگنمایی در هر منطقه و مقایسه نتایج. متوجه خواهید شد که لایه جدید فقط دارای ویژگی هایی است که با بافرهای رودخانه تلاقی می کنند.</p></li>
</ol>
<img alt="../_images/2526.png" class="align-center" src="../_images/2526.png" />
<ol class="arabic simple" start="26">
<li><p>ما همیشه باید نتایج من را تأیید کنیم تا مطمئن شویم تجزیه و تحلیل ناقص نیست. یکی از راه‌های تأیید نتایج این است که این لایه را به عنوان یک فایل KML صادر کنید و آن را در Google Earth بارگذاری کنید. می توانید بررسی کنید که آیا مناطقی که پیدا کردید واقعاً در 10 کیلومتری رودخانه هستند یا خیر. روی لایه کلیک راست کنید و <span class="guilabel">Save As...</span>.</p></li>
</ol>
<img alt="../_images/2623.png" class="align-center" src="../_images/2623.png" />
<ol class="arabic simple" start="27">
<li><p>در <span class="guilabel">ذخیره لایه برداری به عنوان...</span>، &quot;WGS84&quot; را به عنوان CRS انتخاب کنید. این به این دلیل است که فرمت KML باید مختصات در این CRS باشد. KML خود را به عنوان &quot;cities_near_river.kml&quot; نامگذاری کنید.</p></li>
</ol>
<img alt="../_images/2723.png" class="align-center" src="../_images/2723.png" />
<ol class="arabic simple" start="28">
<li><p>Google Earth را باز کنید و بررسی کنید که شهرهایی که توسط این بافرها نشان داده شده اند واقعاً نزدیک به رودخانه هستند</p></li>
</ol>
<img alt="../_images/2822.png" class="align-center" src="../_images/2822.png" />
</section>
</section>





  <!-- Comment Section Powered by utterances -->
<div id="comments">
  <hr />
  <p>If you want to give feedback or share your experience with this tutorial, please comment below. (requires GitHub account)</p>
<script src="https://utteranc.es/client.js"
        repo="spatialthoughts/qgis-tutorials"
        issue-term="title"
        label="comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2023, Ujaval Gandhi.<br/>
      آخرین بروز رسانی در مارس 06, 2025 .<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.2.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/performing_spatial_queries.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>