<!DOCTYPE html>

<html lang="nl" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Heatmaps maken (QGIS3) &#8212; QGIS Tutorials and Tips</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css?v=0bf093e7" />
    <script src="../../_static/documentation_options.js?v=abdfb6f9"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/translations.js?v=83e0b41b"></script>
    <link rel="search" title="Zoeken" href="../../search.html" />
    <link rel="next" title="Geanimeerde gegevens tijdreeks (QGIS3)" href="animating_time_series.html" />
    <link rel="prev" title="Rastergebied berekenen (QGIS3)" href="calculating_raster_area.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>


<!-- Cookie Notice -->
<!-- Script from https://github.com/AOEpeople/cookie-notice -->
<script type="text/javascript" src="../../_static/cookie.notice.min.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1WQ7B80XJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B1WQ7B80XJ');
</script>


  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introductie</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">Een kaart maken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_attributes.html">Werken met attributen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">Werkbladen of CSV-bestanden importeren (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Basis opmaken van vectoren (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_line_lengths.html">Lengten van lijnen en statistieken berekenen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Basis opmaken en analyses van rasters (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Rasters mozaïeken en clippen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Werken met gegevens over het terrein (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">Werken met gegevens van WMS (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_projections.html">Werken met projecties (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">Topobladen en gescande kaarten voorzien van geoverwijzingen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">Geo-verwijzingen voor satellietbeelden (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">Kaartgegevens digitaliseren</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins.html">Samenvoegen van tabellen uitvoeren (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_joins.html">Ruimtelijke samenvoegingen uitvoeren (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Ruimtelijke query’s uitvoeren (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="nearest_neighbor_analysis.html">Analyse Nearest Neighbor (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_raster_data.html">Monsters nemen van rastergegevens met behulp van punten of polygonen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_raster_area.html">Rastergebied berekenen (QGIS3)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Heatmaps maken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="animating_time_series.html">Geanimeerde gegevens tijdreeks (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="handling_invalid_geometries.html">Ongeldige geometrieën afhandelen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_raster_analysis.html">Gevorderde rasteranalyses (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolating_point_data.html">Interpoleren van puntgegevens</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Massa verwerken met behulp van Framework Processing (QGIS 3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_graphical_modeler.html">Complexe werkstromen automatiseren met behulp van Grafische modellen bouwen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="automating_map_creation.html">Maken van kaarten automatiseren met Atlas van afdruklay-out (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="multi_criteria_overlay.html">Multi Criteria Overlay Analyse (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="vector_styling_expressions.html">Basis filteren en opmaken met expressies (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="block_world_styling.html">Een geblokte kaart van de wereld maken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="river_styling_expressions.html">Een netwerk van rivieren opmaken met expressies (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="contour_3d_styling.html">Contouren opmaken in 3D (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="isometric_buildings.html">Isometrische gebouwen maken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactive_canvas_maps.html">Een interactief kaartvenster maken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactive_reveal_maps.html">Een interactieve onthullende kaart maken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="cartogram_animation.html">Een geanimeerd cartogram maken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_network_analysis.html">Basis netwerk visualisatie en routeren (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="origin_destination_matrix.html">Dichtstbijzijnde faciliteit zoeken met Origin-Destination Matrix (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="service_area_analysis.html">Analyse Servicegebied met Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="travel_time_analysis.html">Reistijd-analyse met Uber Movement (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="areal_mean_rainfall.html">Berekenen gemiddelde regenval voor gebied (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="colorized_river_basin_map.html">Een gekleurde rivierbekken-kaart maken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_landuse_map.html">Een kaart voor gebruik van land maken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_intersection_density.html">Dichtheid van straatkruisingen berekenen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="landuse_buffer.html">Bufferzones voor landgebruik bepalen  (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="solidwaste_mapping.html">In kaart brengen volumes afvalverwerking (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_with_pyqgis.html">Beginnen met programmeren in Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_algorithms_pyqgis.html">Algoritmes van Processing uitvoeren via Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_python_functions.html">Aangepaste Python expressie-functies gebruiken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_scripts.html">Python-scripts schrijven voor framework Processing (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_a_python_plugin.html">Een plug-in in Python bouwen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_plugin.html">Een plug-in voor Processing bouwen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_qgis_jobs.html">Taken voor QGIS uitvoeren en in schema zetten</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_mapping_with_qgis2web.html">In kaart brengen op het web met QGIS2Web (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_basemaps_with_qtiles.html">Basiskaarten maken met QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Plug-ins gebruiken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../downloading_osm_data.html">Zoeken en downloaden van gegevens van OpenStreetMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learning_resources.html">QGIS bronnen om te leren</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Gebruik van gegevens</a></li>
<li class="toctree-l1"><a class="reference internal" href="../batch_processing.html">Massa verwerken met behulp van Framework Processing (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="calculating_raster_area.html" title="Previous Chapter: Rastergebied berekenen (QGIS3)"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Rastergebied ...</span>
    </a>
  </li>
  <li>
    <a href="animating_time_series.html" title="Next Chapter: Geanimeerde gegevens tijdreeks (QGIS3)"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Geanimeerde g... &raquo;</span>
    </a>
  </li>
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>
<hr>
<p>Want to learn QGIS in a structured way? Check out <a href="https://spatialthoughts.com/" target="_blank">Spatial Thoughts</a> for more learning materials and instructor-led online programs with QGIS.org certification.</p>

<hr>
<p>These tutorials are also available in many other languages. Please see <a href="https://www.qgistutorials.com/en/docs/introduction.html#translations" target="_blank">translations</a> page.
</p>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      

  <section id="creating-heatmaps-qgis3">
<h1>Heatmaps maken (QGIS3)<a class="headerlink" href="#creating-heatmaps-qgis3" title="Link to this heading">¶</a></h1>
<p>Heatmaps zijn een van de beste gereedschappen voor visualisatie van puntgegevens met een hoge dichtheid. Heatmap is een techniek van interpolatie die handig is bij het bepalen van de dichtheid van invoerobjecten. Heatmaps worden heel vaak gebruikt voor het visualiseren van gegevens over criminaliteit, verkeersongevallen, dichtheid van huizen etc. QGIS heeft een renderer voor heatmap die kan worden gebruikt voor het opmaken van een puntenlaag en een algoritme voor Processing <strong>Heatmap (Kernel Density Estimation)</strong> dat kan worden gebruikt om een raster uit een puntenlaag te maken.</p>
<section id="overview-of-the-task">
<h2>Overzicht van de taak<a class="headerlink" href="#overview-of-the-task" title="Link to this heading">¶</a></h2>
<p>We zullen werken met een gegevensset van misdaadlocaties in Surrey, UK en een heatmap maken voor het visualiseren van regio’s met een hoge dichtheid aan criminaliteit.</p>
<section id="other-skills-you-will-learn">
<h3>Andere vaardigheden die u zult leren<a class="headerlink" href="#other-skills-you-will-learn" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Virtuele velden en voorwaardelijke expressies gebruiken</p></li>
</ul>
</section>
</section>
<section id="get-the-data">
<h2>De gegevens ophalen<a class="headerlink" href="#get-the-data" title="Link to this heading">¶</a></h2>
<p><a class="reference external" href="https://data.police.uk">data.police.uk</a> verschaft gegevens over criminaliteit op straat, uitkomst, en gegevens over stoppen en doorzoeken in eenvoudige indeling CSV. Download de gegevens voor <a class="reference external" href="https://data.police.uk/data/">Surrey Police</a> en pak het gedownloade archief uit om het CSV-bestand uit te nemen.</p>
<p>Voor het gemak kunt u direct een kopie van de gegevensset downloaden vanaf de link hieronder:</p>
<p><a class="reference external" href="https://www.qgistutorials.com/downloads/2019-02-surrey-street.csv">2019-02-surrey-street.csv</a></p>
<p>Gegevensbron <a class="reference internal" href="../credits.html#policeuk" id="id1"><span>[POLICEUK]</span></a></p>
</section>
<section id="procedure">
<h2>Procedure<a class="headerlink" href="#procedure" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>We will first load a basemap layer from <em>OpenStreetMap</em> and then import the CSV data. In the <span class="guilabel">Browser</span> tab, scroll down and locate the <span class="guilabel">XYZ Tiles</span> section.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/170.png" class="align-center" src="../../_images/170.png" />
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Expand it to see the <span class="guilabel">OpenStreetMap</span> tile layer. Drag and drop it to the main canvas. Next we will load the CSV file. Click the <span class="guilabel">Open Data Source Manager</span> button.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/238.png" class="align-center" src="../../_images/238.png" />
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Schakel naar de tab <span class="guilabel">Tekengescheiden tekst</span>. Hier zullen we de gegevens over de criminaliteit importeren die worden aangeboden als een tekstbestand in de indeling CSV. Klik op de knop <span class="guilabel">…</span> naast <span class="guilabel">Bestandsnaam</span> en blader naar het gedownloade bestand <code class="docutils literal notranslate"><span class="pre">2019-02-surrey-street.csv</span></code>. Het <span class="guilabel">X-veld</span> en <span class="guilabel">Y-veld</span> in het gedeelte <span class="guilabel">Geometrie definitie</span> zouden automatisch moeten worden gevuld met de kolommen <code class="docutils literal notranslate"><span class="pre">Longitude</span></code> en <code class="docutils literal notranslate"><span class="pre">Latitude</span></code>. Het <span class="guilabel">Geometrie CRS</span> zou moeten blijven staan op de standaard definitie <code class="docutils literal notranslate"><span class="pre">EPSG:4326</span> <span class="pre">-</span> <span class="pre">WGS</span> <span class="pre">84</span></code>. Zorg er voor dat de gegevens er goed uitzien in het paneel <span class="guilabel">Voorbeeldgegevens</span> er goed uitzien en klik op <span class="guilabel">Toevoegen</span>, gevolgd door <span class="guilabel">Close</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/326.png" class="align-center" src="../../_images/326.png" />
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>U zult 2 lagen - <code class="docutils literal notranslate"><span class="pre">OpenStreetMap</span></code> en <code class="docutils literal notranslate"><span class="pre">2019-02-surrey-street</span></code> - zien geladen in het paneel van QGIS <span class="guilabel">Lagen</span>. Klik met rechts op de laag <code class="docutils literal notranslate"><span class="pre">2019-02-surrey-street</span></code> en selecteer <span class="guilabel">Op kaartlaag inzoomen</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/412.png" class="align-center" src="../../_images/412.png" />
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p>U zult de puntenlaag met criminaliteitsincidenten zien bovenop de basiskaart OpenStreetMap. Zoom en verschuif om de gegevens te verkennen. De gegevens zijn behoorlijk dicht en het is moeilijk om een idee te krijgen over waar een hoge concentratie criminaliteit is. Dit is waar visualisatie met een heatmap handig kan zijn. Selecteer de laag <code class="docutils literal notranslate"><span class="pre">2019-02-surrey-street</span></code> en klik op de knop <span class="guilabel">Paneel Laag opmaken openen</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/511.png" class="align-center" src="../../_images/511.png" />
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p>Selecteer <code class="docutils literal notranslate"><span class="pre">Heatmap</span></code> als de renderer in het keuzemenu. Het <span class="guilabel">paneel Laag opmaken</span> is interactief en u kunt het effect van uw wijzigingen direct zien in het kaartvenster. De laag zal nu worden weergegeven in het standaard kleurverloop van grijswaarden.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/611.png" class="align-center" src="../../_images/611.png" />
</div></blockquote>
<ol class="arabic simple" start="7">
<li><p>Een heatmap is gewoonlijk een renderer met een kleurverloop van geel-naar-rood of wit-naar-rood waar een  hogere concentratie van punten zal resulteren in meer <strong>heat</strong>. Klik op het keuzemenu van <span class="guilabel">Kleurverloop</span> en selecteer het kleurverloop <code class="docutils literal notranslate"><span class="pre">Reds</span></code>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/711.png" class="align-center" src="../../_images/711.png" />
</div></blockquote>
<ol class="arabic simple" start="8">
<li><p>Vervolgens dient u een <span class="guilabel">Straal</span> te kiezen. Deze parameter bepaalt de cirkelvormige buurt rondom elk punt waar dat punt invloed heeft. Deze waarde zal grotendeels afhangen van het type invoergegevens dat u gebruikt. Laten we voor onze gegevens aannemen dat een criminaliteitsincident een invloed heeft tot maximaal 5 kilometers vanaf de locatie. Merk op dat het huidige project-CRS is ingesteld op <code class="docutils literal notranslate"><span class="pre">EPSG:</span> <span class="pre">3857</span></code> in de rechter benedenhoek. Dit CRS heeft de eenheid meter, dus zouden we <code class="docutils literal notranslate"><span class="pre">5000</span></code> meters als de straal moeten invullen. Een andere parameter die in dit menu is verborgen is de <span class="guilabel">Kernel-vorm</span>. Dit is een functie die bepaalt hoe de invloed van een punt zou moeten worden verspreid over de opgegeven straal. De renderer Heatmap gebruikt de functie <code class="docutils literal notranslate"><span class="pre">Vierdegraads</span></code> voor deze berekening. Er zijn andere types van kernels, zoals <code class="docutils literal notranslate"><span class="pre">Triangular</span></code>, <code class="docutils literal notranslate"><span class="pre">Uniform</span></code>, <code class="docutils literal notranslate"><span class="pre">Triweight</span></code> en <code class="docutils literal notranslate"><span class="pre">Epanechnikov</span></code> die kunnen worden gespecificeerd bij het gebruiken van een andere methode voor het maken van een heatmap zoals later beschreven in deze handleiding. Bekijk <a class="reference external" href="https://www.geodose.com/2017/11/qgis-heatmap-using-kernel-density.html">deze post</a> voor een goede uitleg en richtlijnen voor het selecteren van de juiste straal en vorm voor de kernel.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/811.png" class="align-center" src="../../_images/811.png" />
</div></blockquote>
<ol class="arabic simple" start="9">
<li><p>De visualisatie met de heatmap is klaar. We kunnen de <span class="guilabel">Doorzichtbaarheid</span> van de heatmap aanpassen in het gedeelte <span class="guilabel">Renderen van lagen</span> aan de onderzijde. Stel de doorzichtbaarheid in op <code class="docutils literal notranslate"><span class="pre">60</span> <span class="pre">%</span></code> zodat u de basiskaart ziet samen met de heatmap.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/911.png" class="align-center" src="../../_images/911.png" />
</div></blockquote>
<ol class="arabic simple" start="10">
<li><p>Voor veel types analyses is het slechts overwegen van de dichtheid van punten goed genoeg. Maar soms zou u een verschillende belangrijkheid aan elk punt willen geven. Een meer gewelddadiger misdrijf zou meer invloed moeten hebben op de heatmap van de uitvoer dan een straatroof. Soortgelijk zou een punt soms meerdere waarnemingen op één enkele locatie weergeven waarmee in de analyse rekening moet worden gehouden. U kunt, om dat te doen, een optioneel numeriek veld <strong>weging</strong> opgeven dat een waarde specificeert voor elk punt. Laten we een veld voor weging toevoegen en dat gebruiken om de heatmap te verbeteren. Klik met rechts op de laag <code class="docutils literal notranslate"><span class="pre">2019-02-surrey-street</span></code> en selecteer <span class="guilabel">Attributentabel openen</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1015.png" class="align-center" src="../../_images/1015.png" />
</div></blockquote>
<ol class="arabic simple" start="11">
<li><p>U zult een tekstveld zien, genaamd <code class="docutils literal notranslate"><span class="pre">Crime</span> <span class="pre">type</span></code>, in de invoergegevens dat het type misdaad beschrijft. We kunnen dat gebruiken om de verschillende types misdrijven te categoriseren en een hoger gewicht toekennen aan meer gewelddadiger misdaden.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1118.png" class="align-center" src="../../_images/1118.png" />
</div></blockquote>
<ol class="arabic simple" start="12">
<li><p>Klik op de knop <span class="guilabel">Open veldberekening</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1216.png" class="align-center" src="../../_images/1216.png" />
</div></blockquote>
<ol class="arabic simple" start="13">
<li><p>We zullen nu een formule invoeren die het veld <code class="docutils literal notranslate"><span class="pre">Crime</span> <span class="pre">type</span></code> gebruikt en de waarde voor de weging bepaalt. QGIS heeft een handige manier om dergelijke berekende velden toe te voegen met behulp van <em>Virtuele velden</em>. Het virtuele veld wordt opgeslagen in het project van QGIS en past de brongegevens niet aan. Het wordt ook dynamisch berekend en kan overal elders in QGIS worden gebruikt, net als elke andere waarde van een attribuut. Voer <code class="docutils literal notranslate"><span class="pre">weging</span></code> in als de <span class="guilabel">Naam voor veld</span> en stel het <span class="guilabel">Type voor veld</span> in op <code class="docutils literal notranslate"><span class="pre">Geheel</span> <span class="pre">getal</span> <span class="pre">(integer)</span></code>. Voer de volgende expressie in in het veld <span class="guilabel">Expressie</span>. Hier gebruiken we het argument <strong>CASE</strong> om verschillende waarden toe te wijzen onder verschillende voorwaarden. Klik op <span class="guilabel">OK</span>.</p></li>
</ol>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CASE
WHEN &quot;Crime type&quot; LIKE &#39;Violence%&#39; THEN 10
WHEN &quot;Crime type&quot; LIKE &#39;Criminal%&#39; THEN 5
ELSE 1
END
</pre></div>
</div>
<img alt="../../_images/1314.png" class="align-center" src="../../_images/1314.png" />
</div></blockquote>
<ol class="arabic simple" start="14">
<li><p>Een nieuw attribuut zal worden toegevoegd voor elk object met de van toepassing zijnde waarde voor de weging.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1413.png" class="align-center" src="../../_images/1413.png" />
</div></blockquote>
<ol class="arabic simple" start="15">
<li><p>Klik, terug in het paneel <span class="guilabel">Laag opmaken</span>, op het keuzemenu voor <span class="guilabel">Punten wegen op</span> en selecteer het nieuw toegevoegde veld <code class="docutils literal notranslate"><span class="pre">Weging</span></code>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1512.png" class="align-center" src="../../_images/1512.png" />
</div></blockquote>
<ol class="arabic simple" start="16">
<li><p>U zult het renderen van de heatmap wijzigen om rekening te houden met de parameter voor de weging. Sluit het paneel <span class="guilabel">Laag opmaken</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1611.png" class="align-center" src="../../_images/1611.png" />
</div></blockquote>
<ol class="arabic simple" start="17">
<li><p>Wanneer u de visualisatie met de heatmap dient op te slaan als een permanente rasterlaag of de heatmap wilt aanpassen met gevorderde opties zoals verschillende kernels of dynamische straal, kunt u de <strong>Heatmap (Kernel Density Estimation)</strong> uit de Processing Toolbox gebruiken. We zullen dit algoritme nu gaan gebruiken. Ga naar <span class="menuselection">Processing ‣ Toolbox</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1712.png" class="align-center" src="../../_images/1712.png" />
</div></blockquote>
<ol class="arabic simple" start="18">
<li><p>Voor we de heatmap kunnen maken, dienen we de brongegevens opnieuw te projecteren naar een geprojecteerd CRS. Het is niet juist om een geografisch CRS te gebruiken, omdat afstand een belangrijke rol in het berekenen van de heatmap speelt. Zoek naar het algoritme <span class="menuselection">Vector algemeen ‣ Laag opnieuw projecteren</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1810.png" class="align-center" src="../../_images/1810.png" />
</div></blockquote>
<ol class="arabic simple" start="19">
<li><p>Klik, in het dialoogvenster <span class="guilabel">Laag opnieuw projecteren</span>, op de knop <span class="guilabel">CRS selecteren</span> voor <span class="guilabel">Doel CRS</span>. Zoek en selecteer het CRS <code class="docutils literal notranslate"><span class="pre">EPSG:27700</span> <span class="pre">OSGB</span> <span class="pre">1936</span> <span class="pre">/</span> <span class="pre">British</span> <span class="pre">National</span> <span class="pre">Grid</span></code>. Dit geprojecteerde CRS is een goede keuze voor gegevens in het VK. Klik op <span class="guilabel">Uitvoeren</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/199.png" class="align-center" src="../../_images/199.png" />
</div></blockquote>
<ol class="arabic simple" start="20">
<li><p>Een nieuwe laag, genaamd <code class="docutils literal notranslate"><span class="pre">Opnieuw</span> <span class="pre">geprojecteerd</span></code> zal worden toegevoegd aan het paneel <span class="guilabel">Lagen</span>. Deselecteer het vak naast de oude laag <code class="docutils literal notranslate"><span class="pre">2019-02-surrey-street</span></code> om die te verbergen.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/209.png" class="align-center" src="../../_images/209.png" />
</div></blockquote>
<ol class="arabic simple" start="21">
<li><p>Zoek naar het algoritme <span class="menuselection">Interpolatie ‣ Heatmap (Schatting dichtheid kernel KDE)</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/2114.png" class="align-center" src="../../_images/2114.png" />
</div></blockquote>
<ol class="arabic simple" start="22">
<li><p>In het dialoogvenster <span class="guilabel">Heatmap (Kernel Density Estimation)</span> zullen we dezelfde parameters als eerder gebruiken. Selecteer <span class="guilabel">Straal</span> als <code class="docutils literal notranslate"><span class="pre">5000</span></code> meters en <span class="guilabel">Weight from field</span> as <code class="docutils literal notranslate"><span class="pre">Weging</span></code>. Stel <span class="guilabel">Grootte pixel X</span> en <span class="guilabel">Grootte pixel Y</span> in op <code class="docutils literal notranslate"><span class="pre">50</span></code> meters. Laat de <span class="guilabel">Kernel shape</span> staan op de standaard waarde <code class="docutils literal notranslate"><span class="pre">Vierdegraads</span></code>. Klik op <span class="guilabel">Uitvoeren</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/2211.png" class="align-center" src="../../_images/2211.png" />
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Notitie</p>
<p>De parameter <span class="guilabel">Radius uit veld</span> stelt u in staat een dynamische zoekradius te specificeren voor elk punt. Dit kan naast <span class="guilabel">Weight from field</span> worden gebruikt om een fijnmaziger beheer te krijgen over hoe de invloed van elk punt is verspreid.</p>
</div>
<ol class="arabic simple" start="23">
<li><p>Als de verwerking is voltooid zal een nieuwe rasterlaag, genaamd  <code class="docutils literal notranslate"><span class="pre">HEATMAP</span></code> worden geladen. De standaard visualisatie is uitermate lelijk omdat het de renderer <code class="docutils literal notranslate"><span class="pre">Enkelbands</span> <span class="pre">grijs</span></code> gebruikt. Klik op de knop <span class="guilabel">Paneel Laag opmaken openen</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/239.png" class="align-center" src="../../_images/239.png" />
</div></blockquote>
<ol class="arabic simple" start="24">
<li><p>Wijzig de renderer naar <code class="docutils literal notranslate"><span class="pre">Enkelbands</span> <span class="pre">pseudokleur</span></code> en selecteer het kleurverloop <code class="docutils literal notranslate"><span class="pre">Reds</span></code>. De laag ziet er nu uit zoals de visualisatie met de heatmap die we eerder hebben gemaakt.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/249.png" class="align-center" src="../../_images/249.png" />
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Notitie</p>
<p>Merk op dat de laag <code class="docutils literal notranslate"><span class="pre">HEATMAP</span></code> in het paneel <span class="guilabel">Lagen</span> een legenda heeft, maar de laag <code class="docutils literal notranslate"><span class="pre">2019-02-surrey-street</span></code> niet. Een veel voorkomend probleem met het gebruiken van een laag met een heatmap die is gemaakt met de renderer Heatmap is het ontbreken van een legenda. Stel dat u de heatmap wilt gebruiken in de <span class="guilabel">Afdruklay-out</span> en er een legenda aan wilt toevoegen. Een raster heatmap, gemaakt met het algoritme Heatmap voor Processing maakt dit mogelijk.</p>
</div>
</section>
</section>





  <!-- Comment Section Powered by utterances -->
<div id="comments">
  <hr />
  <p>If you want to give feedback or share your experience with this tutorial, please comment below. (requires GitHub account)</p>
<script src="https://utteranc.es/client.js"
        repo="spatialthoughts/qgis-tutorials"
        issue-term="title"
        label="comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2023, Ujaval Gandhi.<br/>
      Laatste aanpassing op okt 13, 2024.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.2.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/3/creating_heatmaps.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>