<!DOCTYPE html>

<html lang="nl" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Een interactief kaartvenster maken (QGIS3) &#8212; QGIS Tutorials and Tips</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css?v=0bf093e7" />
    <script src="../../_static/documentation_options.js?v=abdfb6f9"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/translations.js?v=83e0b41b"></script>
    <link rel="search" title="Zoeken" href="../../search.html" />
    <link rel="next" title="Een interactieve onthullende kaart maken (QGIS3)" href="interactive_reveal_maps.html" />
    <link rel="prev" title="Isometrische gebouwen maken (QGIS3)" href="isometric_buildings.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>


<!-- Cookie Notice -->
<!-- Script from https://github.com/AOEpeople/cookie-notice -->
<script type="text/javascript" src="../../_static/cookie.notice.min.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1WQ7B80XJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B1WQ7B80XJ');
</script>


  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introductie</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">Een kaart maken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_attributes.html">Werken met attributen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">Werkbladen of CSV-bestanden importeren (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Basis opmaken van vectoren (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_line_lengths.html">Lengten van lijnen en statistieken berekenen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Basis opmaken en analyses van rasters (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Rasters mozaïeken en clippen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Werken met gegevens over het terrein (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">Werken met gegevens van WMS (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_projections.html">Werken met projecties (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">Topobladen en gescande kaarten voorzien van geoverwijzingen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">Geo-verwijzingen voor satellietbeelden (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">Kaartgegevens digitaliseren</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins.html">Samenvoegen van tabellen uitvoeren (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_joins.html">Ruimtelijke samenvoegingen uitvoeren (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Ruimtelijke query’s uitvoeren (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="nearest_neighbor_analysis.html">Analyse Nearest Neighbor (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_raster_data.html">Monsters nemen van rastergegevens met behulp van punten of polygonen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_raster_area.html">Rastergebied berekenen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_heatmaps.html">Heatmaps maken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="animating_time_series.html">Geanimeerde gegevens tijdreeks (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="handling_invalid_geometries.html">Ongeldige geometrieën afhandelen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_raster_analysis.html">Gevorderde rasteranalyses (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolating_point_data.html">Interpoleren van puntgegevens</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Massa verwerken met behulp van Framework Processing (QGIS 3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_graphical_modeler.html">Complexe werkstromen automatiseren met behulp van Grafische modellen bouwen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="automating_map_creation.html">Maken van kaarten automatiseren met Atlas van afdruklay-out (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="multi_criteria_overlay.html">Multi Criteria Overlay Analyse (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="vector_styling_expressions.html">Basis filteren en opmaken met expressies (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="block_world_styling.html">Een geblokte kaart van de wereld maken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="river_styling_expressions.html">Een netwerk van rivieren opmaken met expressies (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="contour_3d_styling.html">Contouren opmaken in 3D (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="isometric_buildings.html">Isometrische gebouwen maken (QGIS3)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Een interactief kaartvenster maken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactive_reveal_maps.html">Een interactieve onthullende kaart maken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="cartogram_animation.html">Een geanimeerd cartogram maken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_network_analysis.html">Basis netwerk visualisatie en routeren (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="origin_destination_matrix.html">Dichtstbijzijnde faciliteit zoeken met Origin-Destination Matrix (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="service_area_analysis.html">Analyse Servicegebied met Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="travel_time_analysis.html">Reistijd-analyse met Uber Movement (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="areal_mean_rainfall.html">Berekenen gemiddelde regenval voor gebied (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="colorized_river_basin_map.html">Een gekleurde rivierbekken-kaart maken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_landuse_map.html">Een kaart voor gebruik van land maken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_intersection_density.html">Dichtheid van straatkruisingen berekenen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="landuse_buffer.html">Bufferzones voor landgebruik bepalen  (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="solidwaste_mapping.html">In kaart brengen volumes afvalverwerking (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_with_pyqgis.html">Beginnen met programmeren in Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_algorithms_pyqgis.html">Algoritmes van Processing uitvoeren via Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_python_functions.html">Aangepaste Python expressie-functies gebruiken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_scripts.html">Python-scripts schrijven voor framework Processing (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_a_python_plugin.html">Een plug-in in Python bouwen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_plugin.html">Een plug-in voor Processing bouwen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_qgis_jobs.html">Taken voor QGIS uitvoeren en in schema zetten</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_mapping_with_qgis2web.html">In kaart brengen op het web met QGIS2Web (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_basemaps_with_qtiles.html">Basiskaarten maken met QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Plug-ins gebruiken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../downloading_osm_data.html">Zoeken en downloaden van gegevens van OpenStreetMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learning_resources.html">QGIS bronnen om te leren</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Gebruik van gegevens</a></li>
<li class="toctree-l1"><a class="reference internal" href="../batch_processing.html">Massa verwerken met behulp van Framework Processing (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="isometric_buildings.html" title="Previous Chapter: Isometrische gebouwen maken (QGIS3)"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Isometrische ...</span>
    </a>
  </li>
  <li>
    <a href="interactive_reveal_maps.html" title="Next Chapter: Een interactieve onthullende kaart maken (QGIS3)"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Een interacti... &raquo;</span>
    </a>
  </li>
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p><a href="https://www.linkedin.com/in/spatialthoughts/"><img src="../../_static/ujaval.png">Ujaval Gandhi</a></p>

<hr>
<p>Want to learn QGIS in a structured way? Check out <a href="https://spatialthoughts.com/" target="_blank">Spatial Thoughts</a> for more learning materials and instructor-led online programs with QGIS.org certification.</p>

<hr>
<p>These tutorials are also available in many other languages. Please see <a href="https://www.qgistutorials.com/en/docs/introduction.html#translations" target="_blank">translations</a> page.
</p>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      

  <section id="making-interactive-canvas-maps-qgis3">
<h1>Een interactief kaartvenster maken (QGIS3)<a class="headerlink" href="#making-interactive-canvas-maps-qgis3" title="Link to this heading">¶</a></h1>
<p>Deze handleiding laat zien hoe objecten te maken die dynamisch worden bijgewerkt als u uw cursor verplaatst over jet kaartvenster van QGIS. We zullen het borstelen van het kaartvenster maken met expressies om objecten te laten reageren op de bewegingen van de cursor.</p>
<section id="overview-of-the-task">
<h2>Overzicht van de taak<a class="headerlink" href="#overview-of-the-task" title="Link to this heading">¶</a></h2>
<p>We zullen een raster maken van pictogrammen van QGIS en een data-bepaalde ‘override’ toepassen voor het draaien van de pictogrammen om ervoor te zorgen dat de pictogrammen de bewegingen van de cursor volgen.</p>
<img alt="../../_images/output1.gif" class="align-center" src="../../_images/output1.gif" />
</section>
<section id="procedure">
<h2>Procedure<a class="headerlink" href="#procedure" title="Link to this heading">¶</a></h2>
<p>We zullen beginnen door een raster te maken. Om ons raster een globaal bereik te geven, kunnen we de kaart van de wereld laden in het kaartvenster. U kunt <code class="docutils literal notranslate"><span class="pre">world</span></code> typen in het van voor de coördinaten aan de onderzijde van het venster van QGIS en drukken op <span class="guilabel">Enter</span>. Dit is een van de verscheidene verborgen <em>easter eggs</em> in QGIS. U kunt andere easter eggs ontdekken op ons <a class="reference external" href="https://www.youtube.com/watch?v=3zLb8ar7jvg&amp;list=PLppGmFLhQ1HIqNiNWxVqs5wBLiA_UrKTQ&amp;index=13">kanaal van YouTube</a>.</p>
<blockquote>
<div><img alt="../../_images/1103.png" class="align-center" src="../../_images/1103.png" />
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Een nieuwe laag <code class="docutils literal notranslate"><span class="pre">Wereldkaart</span></code> zal worden toegevoegd aan het paneel <span class="guilabel">Lagen</span> van QGIS. Ga naar <span class="menuselection">Processing ‣ Toolbox</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/290.png" class="align-center" src="../../_images/290.png" />
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Zoek en lokaliseer het algoritme <span class="menuselection">Vector maken ‣ Grid maken</span>. Dubbelklik om het te openen.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/337.png" class="align-center" src="../../_images/337.png" />
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>Klik, in het dialoogvenster <span class="guilabel">Grid maken</span>, op het keuzemenu <span class="menuselection">Uit laag berekenen ‣ Wereldkaart</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/418.png" class="align-center" src="../../_images/418.png" />
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p>Stel vervolgens de <span class="guilabel">Horizonale afstand</span> en de <span class="guilabel">Verticale afstand</span> in op <code class="docutils literal notranslate"><span class="pre">20</span></code> graden. Klik op de knop <code class="docutils literal notranslate"><span class="pre">…</span></code> naast <span class="guilabel">Raster</span> en selecteer <span class="guilabel">Opslaan als bestand</span>. Blader naar een map op uw computer en voer de naam <code class="docutils literal notranslate"><span class="pre">grid.gpkg</span></code> in. Klik op <span class="guilabel">Uitvoeren</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/517.png" class="align-center" src="../../_images/517.png" />
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p>Een nieuwe laag <code class="docutils literal notranslate"><span class="pre">grid</span></code> zal worden toegevoegd. Klik op de knop <span class="guilabel">Paneel Laag opmaken openen</span> in het paneel <span class="guilabel">Lagen</span>. Klik op de <span class="guilabel">Eenvoudige markering</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/617.png" class="align-center" src="../../_images/617.png" />
</div></blockquote>
<ol class="arabic simple" start="7">
<li><p>Selecteer, in het keuzemenu, <code class="docutils literal notranslate"><span class="pre">SVG-markering</span></code> als het symboollaagtype.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/716.png" class="align-center" src="../../_images/716.png" />
</div></blockquote>
<ol class="arabic simple" start="8">
<li><p>Scroll naar beneden naar het gedeelte <span class="guilabel">SVG-browser</span> en selecteer de map <span class="guilabel">logos</span>. Selecteer het pictogram van QGIS.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/816.png" class="align-center" src="../../_images/816.png" />
</div></blockquote>
<ol class="arabic simple" start="9">
<li><p>Scroll naar de optie <span class="guilabel">Grootte</span> en stel de Breedte in op <code class="docutils literal notranslate"><span class="pre">5</span></code>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/916.png" class="align-center" src="../../_images/916.png" />
</div></blockquote>
<ol class="arabic simple" start="10">
<li><p>Zoek vervolgens de optie <span class="guilabel">Rotatie</span> en klik op de knop <span class="guilabel">data-bepaalde ‘override’</span>. Selecteer <span class="guilabel">Bewerken…</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1022.png" class="align-center" src="../../_images/1022.png" />
</div></blockquote>
<ol class="arabic simple" start="11">
<li><p>We zullen een expressie toevoegen die dynamisch het draaien van het pictogram zal berekenen, gebaseerd op de huidige positie van de cursor. Omdat ons pictogram wijst naar het azimut 135°, zal dat de rotatie 0 zijn. Als de cursor beweegt, zal de expressie de hoek van het azimut tussen het pictogram en de locatie van de cursor berekenen en de hoek berekenen waarmee het moet worden gedraaid om naar de cursor te wijzen. Voer de volgende expressie en klik op <span class="guilabel">OK</span>.</p></li>
</ol>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>degrees(azimuth(@geometry,  @canvas_cursor_point)) - 135
</pre></div>
</div>
<img alt="../../_images/1125.png" class="align-center" src="../../_images/1125.png" />
</div></blockquote>
<ol class="arabic simple" start="12">
<li><p>Het kaartvenster reageert nog niet op de beweging van de cursor, omdat het niet vernieuwt, tenzij u de kaart verplaatst. Laten we het automatisch vernieuwen. Klik met rechts op de laag <code class="docutils literal notranslate"><span class="pre">grid</span></code> en selecteer <span class="guilabel">Eigenschappen</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1223.png" class="align-center" src="../../_images/1223.png" />
</div></blockquote>
<ol class="arabic simple" start="13">
<li><p>Schakel naar de tab <span class="guilabel">Renderen</span>. Scroll naar beneden en selecteer <span class="guilabel">Laag vernieuwen met interval</span>. Stel het interval in op een klein getal, zoals <code class="docutils literal notranslate"><span class="pre">0.1</span></code> (d.i. 100ms) en klik op <span class="guilabel">OK</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1321.png" class="align-center" src="../../_images/1321.png" />
</div></blockquote>
<ol class="arabic simple" start="14">
<li><p>Terug in het hoofdvenster, schakel de laag <code class="docutils literal notranslate"><span class="pre">Wereldkaart</span></code> uit. Als u nu de cursor verplaatst, zullen alle pictogrammen naar uw huidige positie van de cursor wijzen.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1419.png" class="align-center" src="../../_images/1419.png" />
</div></blockquote>
<ol class="arabic simple" start="15">
<li><p>Deze leuke oefening werd ontworpen om u te helpen begrijpen hoe de variabele <cite>&#64;canvas_cursor_point</cite> te gebruiken om dynamische lagen te maken die reageren op de beweging van de muis.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/output1.gif" class="align-center" src="../../_images/output1.gif" />
</div></blockquote>
</section>
</section>





  <!-- Comment Section Powered by utterances -->
<div id="comments">
  <hr />
  <p>If you want to give feedback or share your experience with this tutorial, please comment below. (requires GitHub account)</p>
<script src="https://utteranc.es/client.js"
        repo="spatialthoughts/qgis-tutorials"
        issue-term="title"
        label="comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2023, Ujaval Gandhi.<br/>
      Laatste aanpassing op nov 16, 2024.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.2.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/3/interactive_canvas_maps.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>