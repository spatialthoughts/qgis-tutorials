<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Leaflet Web Maps with qgis2leaf &#8212; QGIS Tutorials and Tips</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=0bf093e7" />
    <script src="../_static/documentation_options.js?v=29a6c3e3"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="search" title="Search" href="../search.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>


<!-- Cookie Notice -->
<!-- Script from https://github.com/AOEpeople/cookie-notice -->
<script type="text/javascript" src="../_static/cookie.notice.min.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1WQ7B80XJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B1WQ7B80XJ');
</script>


  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/making_a_map.html">Making a Map (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_attributes.html">Working with Attributes (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/importing_spreadsheets_csv.html">Importing Spreadsheets or CSV files (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_vector_styling.html">Basic Vector Styling (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_line_lengths.html">Calculating Line Lengths and Statistics (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_styling_and_analysis.html">Basic Raster Styling and Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_mosaicing_and_clipping.html">Raster Mosaicing and Clipping (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_terrain.html">Working with Terrain Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_wms.html">Working with WMS Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_projections.html">Working with Projections (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/georeferencing_basics.html">Georeferencing Topo Sheets and Scanned Maps (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/advanced_georeferencing.html">Georeferencing Aerial Imagery (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/digitizing_basics.html">Digitizing Map Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_table_joins.html">Performing Table Joins (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_joins.html">Performing Spatial Joins (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_queries.html">Performing Spatial Queries (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/nearest_neighbor_analysis.html">Nearest Neighbor Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/sampling_raster_data.html">Sampling Raster Data using Points or Polygons (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_raster_area.html">Calculating Raster Area (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/creating_heatmaps.html">Creating Heatmaps (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/animating_time_series.html">Animating Time Series Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/handling_invalid_geometries.html">Handling Invalid Geometries (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/advanced_raster_analysis.html">Advanced Raster Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/interpolating_point_data.html">Interpolating Point Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/batch_processing.html">Batch Processing using Processing Framework (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_graphical_modeler.html">Automating Complex Workflows using Processing Modeler (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/automating_map_creation.html">Automating Map Creation with Print Layout Atlas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/multi_criteria_overlay.html">Multi Criteria Overlay Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_network_analysis.html">Basic Network Visualization and Routing (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/origin_destination_matrix.html">Locating Nearest Facility with Origin-Destination Matrix (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/service_area_analysis.html">Service Area Analysis using Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/travel_time_analysis.html">Travel Time Analysis with Uber Movement (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/areal_mean_rainfall.html">Calculating Areal Mean Rainfall (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/colorized_river_basin_map.html">Creating a Colorized River Basin Map (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/creating_landuse_map.html">Creating a Landuse Map (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_intersection_density.html">Calculating Street Intersection Density (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/landuse_buffer.html">Determining Landuse Buffer Zones (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/solidwaste_mapping.html">Mapping Waste Disposal Volumes (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/getting_started_with_pyqgis.html">Getting Started With Python Programming (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_algorithms_pyqgis.html">Running Processing Algorithms via Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/custom_python_functions.html">Using Custom Python Expression Functions (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_scripts.html">Writing Python Scripts for Processing Framework (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/building_a_python_plugin.html">Building a Python Plugin (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_plugin.html">Building a Processing Plugin (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_qgis_jobs.html">Running and Scheduling QGIS Processing Jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/web_mapping_with_qgis2web.html">Web Mapping with QGIS2Web (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_basemaps_with_qtiles.html">Creating Basemaps with QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/using_plugins.html">Using Plugins (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloading_osm_data.html">Searching and Downloading OpenStreetMap Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="learning_resources.html">QGIS Learning Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Data Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Batch Processing using Processing Framework (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>
<hr>
<p>Want to learn QGIS in a structured way? Check out <a href="https://spatialthoughts.com/" target="_blank">Spatial Thoughts</a> for more learning materials and instructor-led online programs with QGIS.org certification.</p>

<hr>
<p>These tutorials are also available in many other languages. Please see <a href="https://www.qgistutorials.com/en/docs/introduction.html#translations" target="_blank">translations</a> page.
</p>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      

  <section id="leaflet-web-maps-with-qgis2leaf">
<h1>Leaflet Web Maps with qgis2leaf<a class="headerlink" href="#leaflet-web-maps-with-qgis2leaf" title="Link to this heading">¶</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>qgis2leaf plugin is no longer in active development. The functionality of
this plugin is folded into a new plugin called <strong>qgis2web</strong>.</p>
<p>See <a class="reference internal" href="web_mapping_with_qgis2web.html"><span class="doc">Web Mapping with QGIS2Web</span></a> tutorial for an updated version of
this tutorial.</p>
</div>
<p>Leaflet is a popular open-source Javascript library for building web mapping
applications. <strong>qgis2leaf</strong> plugin provides a simple way to export your QGIS
map to a functioning leaflet-based web map. This plugin is a useful way to get
started with web mapping and create an interactive web map from your static GIS
data layers.</p>
<section id="overview-of-the-task">
<h2>Overview of the task<a class="headerlink" href="#overview-of-the-task" title="Link to this heading">¶</a></h2>
<p>We will create a leaflet web map of world’s airports.</p>
<section id="other-skills-you-will-learn">
<h3>Other skills you will learn<a class="headerlink" href="#other-skills-you-will-learn" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Using <code class="docutils literal notranslate"><span class="pre">CASE</span></code> SQL statement in Field Calculator to create new field values
based on different conditions.</p></li>
<li><p>Locating and using SVG custom icons in QGIS.</p></li>
</ul>
</section>
</section>
<section id="get-the-data">
<h2>Get the data<a class="headerlink" href="#get-the-data" title="Link to this heading">¶</a></h2>
<p>We will use the <a class="reference external" href="http://www.naturalearthdata.com/downloads/10m-cultural-vectors/airports/">Airports</a>
dataset from Natural Earth.</p>
<p>Download the <a class="reference external" href="http://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/cultural/ne_10m_airports.zip">Airports shapefile</a>.</p>
<p>Data Source <a class="reference internal" href="credits.html#naturalearth" id="id1"><span>[NATURALEARTH]</span></a></p>
</section>
<section id="procedure">
<h2>Procedure<a class="headerlink" href="#procedure" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Install the <code class="docutils literal notranslate"><span class="pre">qgis2leaf</span></code> plugin by going to <span class="menuselection">Plugins ‣
Manage and Install Plugin</span>. Note that the plugin is currently marked
<strong>experimental</strong>, so you will need to check <span class="guilabel">Show also
experimental plugins</span> in Plugin Settings. (See <a class="reference internal" href="using_plugins.html"><span class="doc">Using Plugins</span></a> for more details on
installing plugins in QGIS)</p></li>
</ol>
<img alt="../_images/1186.png" class="align-center" src="../_images/1186.png" />
<ol class="arabic simple" start="2">
<li><p>Unzip the downloaded <code class="docutils literal notranslate"><span class="pre">ne_10m_airports.zip</span></code> file. Open QGIS and go to
<span class="menuselection">Layer ‣ Add Vector Layer</span>. Browse to the location when the
files were extracted and select <code class="docutils literal notranslate"><span class="pre">ne_10m_airports.shp</span></code>. Click
<span class="guilabel">OK</span>.</p></li>
</ol>
<img alt="../_images/2152.png" class="align-center" src="../_images/2152.png" />
<ol class="arabic simple" start="3">
<li><p>Once the <code class="docutils literal notranslate"><span class="pre">ne_10m_airports</span></code> layer is loaded, use the <span class="guilabel">Identify</span>
tool to click on any feature and look at the attributes. We will create an
airport map where we classify the airports into 3 categories. The attribute
<code class="docutils literal notranslate"><span class="pre">type</span></code> will be useful when classifying the features.</p></li>
</ol>
<img alt="../_images/396.png" class="align-center" src="../_images/396.png" />
<ol class="arabic simple" start="4">
<li><p>Right-click the <code class="docutils literal notranslate"><span class="pre">ne_10m_airports</span></code> layer and select <span class="guilabel">Open
Attribute Table</span>.</p></li>
</ol>
<img alt="../_images/459.png" class="align-center" src="../_images/459.png" />
<ol class="arabic simple" start="5">
<li><p>In the attribute table dialog, click the <span class="guilabel">Toggle Editing</span> button.
Once the layer is in editing mode, click the <span class="guilabel">Open Field
Calculator</span> button.</p></li>
</ol>
<img alt="../_images/552.png" class="align-center" src="../_images/552.png" />
<ol class="arabic simple" start="6">
<li><p>We want to create a new attribute called <code class="docutils literal notranslate"><span class="pre">type_code</span></code> where we give major
airports a value of 3, mid-sized airports a value of 2 and all others a
value of 1. We can use the <em>CASE</em> statement and write an expression that
will look at the value of <code class="docutils literal notranslate"><span class="pre">type</span></code> attribute and create a <code class="docutils literal notranslate"><span class="pre">type_code</span></code>
attribute based on the condition. Check the <span class="guilabel">Create a new field</span>
box and enter <code class="docutils literal notranslate"><span class="pre">type_code</span></code> as the <span class="guilabel">Output field name</span>. Select
<span class="guilabel">Whole number (integer)</span> as the <span class="guilabel">Output field type</span>. In
the <span class="guilabel">Expression</span> window, enter the following text.</p></li>
</ol>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CASE  WHEN &quot;type&quot; LIKE &#39;%major%&#39;  THEN 3
 WHEN &quot;type&quot; LIKE &#39;%mid%&#39; THEN 2
 ELSE 1
END
</pre></div>
</div>
<img alt="../_images/650.png" class="align-center" src="../_images/650.png" />
<ol class="arabic simple" start="7">
<li><p>Back in the <span class="guilabel">Attribute Table</span> window, you will see a new column at
the end. Verify that your expression worked correctly and click the
<span class="guilabel">Toggle Editing</span> button to save the changes.</p></li>
</ol>
<img alt="../_images/749.png" class="align-center" src="../_images/749.png" />
<ol class="arabic simple" start="8">
<li><p>Now we will style the airports layer using the newly created <code class="docutils literal notranslate"><span class="pre">type_code</span></code>
attribute. Right-click the <code class="docutils literal notranslate"><span class="pre">ne_10m_airports</span></code> layer and select
<span class="guilabel">Properties</span>.</p></li>
</ol>
<img alt="../_images/848.png" class="align-center" src="../_images/848.png" />
<ol class="arabic simple" start="9">
<li><p>Select the <span class="guilabel">Style</span> tab in the <span class="guilabel">Layer Properties</span> dialog.
Select <span class="guilabel">Categorized</span> style from the drop-down menu and choose
<code class="docutils literal notranslate"><span class="pre">type_code</span></code> as the <span class="guilabel">Column</span>. Choose a color ramp of your choice
and click <span class="guilabel">Classify</span>. Click <span class="guilabel">OK</span> to go back to the main
QGIS window.</p></li>
</ol>
<img alt="../_images/948.png" class="align-center" src="../_images/948.png" />
<ol class="arabic simple" start="10">
<li><p>Here you will see a nicely styled airport map. Let’s export this to create
an interactive web map. Go to <span class="menuselection">Web ‣ qgis2leaf ‣ Exports
a QGIS Project to a working leaflet webmap</span>.</p></li>
</ol>
<img alt="../_images/1055.png" class="align-center" src="../_images/1055.png" />
<ol class="arabic simple" start="11">
<li><p>In the <span class="guilabel">QGIS 2 Leaflet</span> dialog, click <span class="guilabel">Get Layers</span> to
get the refreshed layer list. Select the <span class="guilabel">Full screen</span> option to
have a full screen web map. Choose <span class="guilabel">layer extent</span> as the
<span class="guilabel">Extent</span> of the exported map. Choose a <span class="guilabel">Output project
folder</span> on your system where the plugin will write the output files. Click
<span class="guilabel">OK</span>.</p></li>
</ol>
<img alt="../_images/1187.png" class="align-center" src="../_images/1187.png" />
<ol class="arabic simple" start="12">
<li><p>Once the export process finishes, locate the output folder on your disk.
Open the <code class="docutils literal notranslate"><span class="pre">index.html</span></code> file in a browser. You will see an interactive web
map that is a replica of the QGIS map. You can zoom and pan around the map
and also click on any feature to get an popup window with attribute
information. You can copy the contents of this folder to a web server to
have a full featured web map.</p></li>
</ol>
<img alt="../_images/1257.png" class="align-center" src="../_images/1257.png" />
<ol class="arabic simple" start="13">
<li><p>Now we will explore some advanced features of this plugin that will allow
you to customize the map further. If you noticed, the popup contained all
the attributes of the feature. Some attributes are not very useful and
overall the pop up looks ugly. We can replace the default popup with our
own custom HTML to make it much better. This is achieved by added the
custom HTML in a column named <code class="docutils literal notranslate"><span class="pre">html_exp</span></code>. Right-click the
<code class="docutils literal notranslate"><span class="pre">ne_10m_airports</span></code> layer and select <span class="guilabel">Open Attribute Table</span>.</p></li>
</ol>
<img alt="../_images/1355.png" class="align-center" src="../_images/1355.png" />
<ol class="arabic simple" start="14">
<li><p>In the attribute table dialog, click the <span class="guilabel">Toggle Editing</span> button.
Once the layer is in editing mode, click the <span class="guilabel">Open Field
Calculator</span> button.</p></li>
</ol>
<img alt="../_images/1451.png" class="align-center" src="../_images/1451.png" />
<ol class="arabic simple" start="15">
<li><p>Check the <span class="guilabel">Create a new field</span> box and enter <code class="docutils literal notranslate"><span class="pre">html_exp</span></code> as the
<span class="guilabel">Output field name</span>. Choose <span class="guilabel">Text (string)</span> as the
<span class="guilabel">Output field type</span>. Since we will be creating a long HTML
string, choose <code class="docutils literal notranslate"><span class="pre">200</span></code> as the <span class="guilabel">Output field width</span>. Enter the
following expression in the <span class="guilabel">Expression</span> area. The
complex-looking expression simply defines a HTML table and substitutes cell
values from attributes <code class="docutils literal notranslate"><span class="pre">iata_code</span></code>, <code class="docutils literal notranslate"><span class="pre">name</span></code> and <code class="docutils literal notranslate"><span class="pre">type</span></code>. Check the
<span class="guilabel">Output preview</span> to ensure the expression is correct.</p></li>
</ol>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>concat(&#39;&lt;h3&gt;&#39;, &quot;iata_code&quot;, &#39;&lt;/h3&gt;&lt;table&gt;&#39;, &#39;&lt;tr&gt;&lt;td&gt;Airport Name: &lt;b&gt; &#39;,
&quot;name&quot;, &#39;&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Category: &lt;b&gt; &#39;, &quot;type&quot;,
&#39;&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#39;)
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The shapefile format can contain a maximum of 254 characters in a field. If
you want to store longer text in the field, choose another format.</p>
</div>
<img alt="../_images/1548.png" class="align-center" src="../_images/1548.png" />
<ol class="arabic simple" start="16">
<li><p>Back in the <span class="guilabel">Attribute Table</span> window, you will see a new column at
the end. Verify that your expression worked correctly and click the
<span class="guilabel">Toggle Editing</span> button to save the changes.</p></li>
</ol>
<img alt="../_images/1645.png" class="align-center" src="../_images/1645.png" />
<ol class="arabic simple" start="17">
<li><p>Now export the map again using <span class="menuselection">Web ‣ qgis2leaf ‣
Exports a QGIS Project to a working leaflet webmap</span>.</p></li>
</ol>
<img alt="../_images/1742.png" class="align-center" src="../_images/1742.png" />
<ol class="arabic simple" start="18">
<li><p>Choose the options as before.</p></li>
</ol>
<img alt="../_images/1839.png" class="align-center" src="../_images/1839.png" />
<ol class="arabic simple" start="19">
<li><p>Go to the output folder once the export process finishes. You will have a
subfolder with the present timestamp. Locate the <code class="docutils literal notranslate"><span class="pre">index.html</span></code> file inside
it and open it in a browser. Click on any feature and look at the popup.
You will notice that it looks a lot cleaner and informative.</p></li>
</ol>
<img alt="../_images/1931.png" class="align-center" src="../_images/1931.png" />
<ol class="arabic simple" start="20">
<li><p>Another useful feature of the <code class="docutils literal notranslate"><span class="pre">qgis2leaf</span></code> plugin is the ability to
specify a custom icon to use with the web map. This is accomplished by
specifying the path to the custom icon in a field called <code class="docutils literal notranslate"><span class="pre">icon_exp</span></code>. We
will create a new layer containing only the major airports and style using
a custom SVG icon.  Locate the <span class="guilabel">Select features using an
expression</span> tool from the toolbar.</p></li>
</ol>
<img alt="../_images/2026.png" class="align-center" src="../_images/2026.png" />
<ol class="arabic simple" start="21">
<li><p>Enter the expression below and press <span class="guilabel">Select</span> to select all major
airports.</p></li>
</ol>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;type_code&quot; = 3
</pre></div>
</div>
<img alt="../_images/2153.png" class="align-center" src="../_images/2153.png" />
<ol class="arabic simple" start="22">
<li><p>Right-click the <code class="docutils literal notranslate"><span class="pre">ne_10m_airports</span></code> airports and select <span class="guilabel">Save
Selection As…</span>.</p></li>
</ol>
<img alt="../_images/2227.png" class="align-center" src="../_images/2227.png" />
<ol class="arabic simple" start="23">
<li><p>In the <span class="guilabel">Save vector layer as…</span> dialog, name the output file as
<code class="docutils literal notranslate"><span class="pre">major_airports.shp</span></code>. Check the <span class="guilabel">Add saved file to map</span> and
click <span class="guilabel">OK</span>.</p></li>
</ol>
<img alt="../_images/2324.png" class="align-center" src="../_images/2324.png" />
<ol class="arabic simple" start="24">
<li><p>Once the <code class="docutils literal notranslate"><span class="pre">major_airports</span></code> layer is loaded in QGIS, right-click it and
select <span class="guilabel">Open Attribute Table</span>.</p></li>
</ol>
<img alt="../_images/2424.png" class="align-center" src="../_images/2424.png" />
<ol class="arabic simple" start="25">
<li><p>In the attribute table dialog, click the <span class="guilabel">Toggle Editing</span> button.
Once the layer is in editing mode, click the <span class="guilabel">Open Field
Calculator</span> button.</p></li>
</ol>
<img alt="../_images/2522.png" class="align-center" src="../_images/2522.png" />
<ol class="arabic simple" start="26">
<li><p>In <span class="guilabel">Field Calculator</span> dialog, enter <code class="docutils literal notranslate"><span class="pre">icon_exp</span></code> as the
<span class="guilabel">Output field name</span>. Make it a <span class="guilabel">Text (string)</span> type. In
the <span class="guilabel">Expression</span> area, enter the following expression.</p></li>
</ol>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;airport.svg&#39;
</pre></div>
</div>
<img alt="../_images/2620.png" class="align-center" src="../_images/2620.png" />
<ol class="arabic simple" start="27">
<li><p>Save your edits by clicking the <span class="guilabel">Toggle Editing</span> button in the
<span class="guilabel">Attribute Table</span>.</p></li>
</ol>
<img alt="../_images/2719.png" class="align-center" src="../_images/2719.png" />
<ol class="arabic simple" start="28">
<li><p>Open the <code class="docutils literal notranslate"><span class="pre">qgis2leaf</span></code> plugin from <span class="menuselection">Web ‣ qgis2leaf ‣ Exports
a QGIS Project to a working leaflet webmap</span>. Click <span class="guilabel">Get Layers</span>
button to fetch both the layers from QGIS. There are many different pre-made tile layers
availalbe for basemaps. In this map, we can try something different and load the <span class="guilabel">Stamen Watercolor</span> as the
<span class="guilabel">Basemap</span>. Click <span class="guilabel">OK</span>.</p></li>
</ol>
<img alt="../_images/2818.png" class="align-center" src="../_images/2818.png" />
<ol class="arabic simple" start="29">
<li><p>If you remember we specified <code class="docutils literal notranslate"><span class="pre">airport.svg</span></code> as the icon for the airports.
We need to add that icon manually to the output directory. QGIS comes with
a large collection of icons. On Windows, these icons are located at
<span class="menuselection">C: ‣ OSGEO4W64 ‣ apps ‣ qgis ‣ svg</span>. The path may
differ depending on your platform and install type. Locate that directory
and choose an icon you like. For our map, we can try the
<code class="docutils literal notranslate"><span class="pre">amenity=airport.svg</span></code> icon located under <code class="docutils literal notranslate"><span class="pre">transport</span></code> category.</p></li>
</ol>
<img alt="../_images/2917.png" class="align-center" src="../_images/2917.png" />
<ol class="arabic simple" start="30">
<li><p>Copy and paste this icon in the output directory you had specified when exporting
the map. Rename it as <code class="docutils literal notranslate"><span class="pre">airport.svg</span></code>.</p></li>
</ol>
<img alt="../_images/3016.png" class="align-center" src="../_images/3016.png" />
<ol class="arabic simple" start="31">
<li><p>Now open the <code class="docutils literal notranslate"><span class="pre">index.html</span></code> file located in the folder. You will see a
beautiful basemap with our custom icons for the major airports. Also notice
the layer panel at top-right corner which has layer display control for
both the layers.</p></li>
</ol>
<img alt="../_images/3118.png" class="align-center" src="../_images/3118.png" />
<p>Hope this tutorial gives you a head start in creating web maps. Below is the
live interactive map created for this tutorial.</p>
<div>
<iframe
src="http://spatialthoughts.github.io/qgis2leaf-maps/airports_with_custom_popup/"
width="100%" height="600px"></iframe>
</div></section>
</section>





  <!-- Comment Section Powered by utterances -->
<div id="comments">
  <hr />
  <p>If you want to give feedback or share your experience with this tutorial, please comment below. (requires GitHub account)</p>
<script src="https://utteranc.es/client.js"
        repo="spatialthoughts/qgis-tutorials"
        issue-term="title"
        label="comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2023, Ujaval Gandhi.<br/>
      Last updated on Mar 08, 2024.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.2.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/leaflet_maps_with_qgis2leaf.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>