<!DOCTYPE html>

<html lang="de" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Multikriterielle Überlagerungs-Analyse (QGIS3) &#8212; QGIS Tutorials and Tips</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css?v=0bf093e7" />
    <script src="../../_static/documentation_options.js?v=54d918e9"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/translations.js?v=70a09b52"></script>
    <link rel="search" title="Suche" href="../../search.html" />
    <link rel="next" title="Grundlagen für Filterung und Gestaltung mit Ausdrücken (QGIS3)" href="vector_styling_expressions.html" />
    <link rel="prev" title="Automatisierung der Kartenerstellung mit dem Drucklayout Atlas (QGIS3)" href="automating_map_creation.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>


<!-- Cookie Notice -->
<!-- Script from https://github.com/AOEpeople/cookie-notice -->
<script type="text/javascript" src="../../_static/cookie.notice.min.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1WQ7B80XJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B1WQ7B80XJ');
</script>


  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Einleitung</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">Erstellung einer Karte (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_attributes.html">Arbeit mit Attributen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">Import von Tabellenblättern oder CSV-Dateien (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Einfache Vektor Gestaltung (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_line_lengths.html">Berechnung der Länge von Linien und Statistiken (QGSI3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Einfache Visualisierung und Analyse von Rasterdaten (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Erstellen und Zuschneiden eines Raster-Mosaiks (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Working with Terrain Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">Working with WMS Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_projections.html">Working with Projections (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">Georeferenzierung von Kartenblättern und eingescannten Karten (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">Georeferenzierung von Luftbildern (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">Digitizing Map Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins.html">Tabellen verbinden (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_joins.html">Räumliche Verknüpfungen erstellen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Räumliche Abfragen ausführen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="nearest_neighbor_analysis.html">Nächster-Nachbar-Analyse (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_raster_data.html">Stichproben aus Rasterdaten mit Hilfe von Punkten und Polygonen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_raster_area.html">Calculating Raster Area (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_heatmaps.html">Heatmaps erstellen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="animating_time_series.html">Animierte Zeitreihen-Daten (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="handling_invalid_geometries.html">Handling Invalid Geometries (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_raster_analysis.html">Fortgeschrittene Raster-Analyse (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolating_point_data.html">Interpolation von Punktdaten (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Stapelverarbeitung mit dem Processing Framework (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_graphical_modeler.html">Komplexe Arbeitsabläufe mit Hilfe der Verarbeitungsmodellierung (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="automating_map_creation.html">Automatisierung der Kartenerstellung mit dem Drucklayout Atlas (QGIS3)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Multikriterielle Überlagerungs-Analyse (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="vector_styling_expressions.html">Grundlagen für Filterung und Gestaltung mit Ausdrücken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="block_world_styling.html">Erstellung einer Weltkarte im Gitter-Stil (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="river_styling_expressions.html">Styling a River Network with Expressions (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="contour_3d_styling.html">Styling Contours in 3D (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactive_canvas_maps.html">Making Interactive Canvas Maps (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactive_reveal_maps.html">Making Interactive Reveal Maps (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="cartogram_animation.html">Creating an Animated Cartogram (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_network_analysis.html">Einfache Netzwerkvisualisierung und Routing (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="origin_destination_matrix.html">Lokalisierung der nächstgelegenen Einrichtung mit einer Quelle-Ziel-Matrix (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="service_area_analysis.html">Einzugsgebietsanalyse mit dem Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="travel_time_analysis.html">Travel Time Analysis with Uber Movement (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="areal_mean_rainfall.html">Calculating Areal Mean Rainfall (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="colorized_river_basin_map.html">Erzeugen einer farbigen Karte für ein Einzugsgebiet (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_landuse_map.html">Erstellung einer Karte zur Landnutzung (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_intersection_density.html">Calculating Street Intersection Density (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="landuse_buffer.html">Determining Landuse Buffer Zones (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="solidwaste_mapping.html">Mapping Waste Disposal Volumes (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_with_pyqgis.html">Mit der Pythonprogrammierung loslegen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_algorithms_pyqgis.html">Verarbeitungsroutinen mit Python ausführen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_python_functions.html">Angepasste Python Funktionsausdrücke verwenden (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_scripts.html">Pythonscripts für die Verarbeitungswerkzeuge schreiben (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_a_python_plugin.html">Ein Python-Plugin erstellen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_plugin.html">Ein Verarbeitungsplugin erstellen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_qgis_jobs.html">Running and Scheduling QGIS Processing Jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_mapping_with_qgis2web.html">Web Mapping with QGIS2Web (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_basemaps_with_qtiles.html">Creating Basemaps with QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Using Plugins (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../downloading_osm_data.html">Suchen und Laden von OpenStreetMap Daten</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learning_resources.html">QGIS Learning Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Data Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../batch_processing.html">Batch Processing using Processing Framework (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="automating_map_creation.html" title="Previous Chapter: Automatisierung der Kartenerstellung mit dem Drucklayout Atlas (QGIS3)"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Automatisieru...</span>
    </a>
  </li>
  <li>
    <a href="vector_styling_expressions.html" title="Next Chapter: Grundlagen für Filterung und Gestaltung mit Ausdrücken (QGIS3)"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Grundlagen fü... &raquo;</span>
    </a>
  </li>
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>
<hr>
<p>Want to learn QGIS in a structured way? Check out <a href="https://spatialthoughts.com/" target="_blank">Spatial Thoughts</a> for more learning materials and instructor-led online programs with QGIS.org certification.</p>

<hr>
<p>These tutorials are also available in many other languages. Please see <a href="https://www.qgistutorials.com/en/docs/introduction.html#translations" target="_blank">translations</a> page.
</p>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      

  <section id="multi-criteria-overlay-analysis-qgis3">
<h1>Multikriterielle Überlagerungs-Analyse (QGIS3)<a class="headerlink" href="#multi-criteria-overlay-analysis-qgis3" title="Link to this heading">¶</a></h1>
<p>Unter gewichteter multikriterieller Überlagerungs-Analyse wird die Auswahl von Flächen auf der Basis mehrerer Attribute verstanden, die im Untersuchungsgebiet definiert sein sollten. Obwohl es sich um eine verbreitete GIS-Technik handelt, wird diese am effizientesten mit einem gitterbasierten Ansatz auf Rasterdaten ausgeführt.</p>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>Vektor- vs. Raster-Überlagerungen</p>
<p>Man kann Überlagerungs-Analysen auf Vektordaten ausführen, indem Verarbeitungswerkzeuge für Geodaten wie Puffer, Überblendungen, Differenzbildungen oder Überschneidungen eingesetzt werden. Diese Methoden sind perfekt geeignet, wenn ein binäres Ergebnis wie <strong>geeignet / nicht geeignet</strong> erzeugt werden soll und mit einigen wenigen Layern gearbeitet wird.</p>
<p>Die Arbeit mit Rasterdaten ergibt eine <strong>Rangfolge</strong> der Eignung und nicht nur die am besten geeignete Fläche. Sie ermöglicht es auch, einfach eine beliebige Anzahl an Eingabelayern zu kombinieren und jedem verwendeten Kriterium eine unterschiedliche Wichtung zuzuweisen. Es handelt sich um das allgemein bevorzugte Vorgehen für die Bewertung der Eignung von Flächen.</p>
</div>
<p>Dieses Tutorial behandelt den typischen Arbeitsablauf für die Ausführung einer Flächeneignungsanalyse. Es werden Vektor-Quelldaten zu geeigneten Rasterdaten konvertiert. Letztere werden re-klassifiziert und mathematischen Operationen unterzogen.</p>
<section id="overview-of-the-task">
<h2>Überblick über die Aufgabe<a class="headerlink" href="#overview-of-the-task" title="Link to this heading">¶</a></h2>
<p>In diesem Tutorial bestimmen wir geeignete Flächen für die Erschließung, welche sich</p>
<ul class="simple">
<li><p>nah an Straßen und</p></li>
<li><p>abseits von Gewässern und</p></li>
<li><p>nicht in Schutzgebieten befinden.</p></li>
</ul>
</section>
<section id="get-the-data">
<h2>Beschaffung der Daten<a class="headerlink" href="#get-the-data" title="Link to this heading">¶</a></h2>
<p>Wir verwenden Layer von Vektordaten aus dem <a class="reference external" href="http://www.openstreetmap.org/">OpenStreetMap-Projekt (OSM)</a>. OSM ist eine Datenbank weltweit frei verfügbarer Basis-Kartendaten. <a class="reference external" href="http://download.geofabrik.de/">Geofabrik</a> vertreibt täglich aktualisierte Shapefiles der OpenStreetMap-Datensätze.</p>
<p>Wir verwenden die OSM-Datenlayer für den indischen Bundesstaat Assam. Die von Geofabrik heruntergeladenen <a class="reference external" href="http://download.geofabrik.de/asia/india.html">India Shapefiles</a> sind auf die Grenzen des Bundesstaats zugeschnitten und in einer einzigen GeoPackage-Datei zusammengefasst worden. Eine Kopie der Daten kann von folgendem Link heruntergeladen werden:</p>
<p><a class="reference external" href="https://www.qgistutorials.com/downloads/assam.gpkg">assam.gpkg</a></p>
<p>Datenquelle: <a class="reference internal" href="../credits.html#geofabrik" id="id1"><span>[GEOFABRIK]</span></a></p>
</section>
<section id="procedure">
<h2>Arbeitsablauf<a class="headerlink" href="#procedure" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Wir suchen die heruntergeladene Datei <code class="docutils literal notranslate"><span class="pre">assam.gpkg</span></code> im QGIS-Browser, erweitern sie und ziehen jeden der 5 Datenlayer in den Arbeitsbereich.  Die Layer <code class="docutils literal notranslate"><span class="pre">boundary</span></code>, <code class="docutils literal notranslate"><span class="pre">roads</span></code>, <code class="docutils literal notranslate"><span class="pre">protected_regions</span></code>, <code class="docutils literal notranslate"><span class="pre">water_polygons</span></code> und <code class="docutils literal notranslate"><span class="pre">water_polylines</span></code> werden in das <span class="guilabel">Layer</span>-Panel geladen.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1108.png" class="align-center" src="../../_images/1108.png" />
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Der erste Schritt der Überlagerungs-Analyse besteht darin, jeden der Datenalyer in einen Rasterlayer zu konvertieren. Es ist wichtig, dass alle entstehenden Rasterlayer dieselbe Ausdehnung haben. Wir verwenden den <code class="docutils literal notranslate"><span class="pre">boundary</span></code>-Layer als Begrenzung für die Rasterlayer. wir wählen <span class="menuselection">Verarbeitung ‣ Werkzeugkiste</span> und suchen den Algorithmus <span class="menuselection">GDAL ‣ Vektorkonvertierung ‣ Rastern (Vektor nach Raster)</span> und starten ihn per Doppelklick.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/2104.png" class="align-center" src="../../_images/2104.png" />
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Im Dialogfenster <span class="guilabel">Rastern (Vektor nach Raster)</span> wählen wir <code class="docutils literal notranslate"><span class="pre">roads</span></code> als <span class="guilabel">Eingabelayer</span>. Wir wollen ein Ausgaberaster erzeugen, in welchem der Pixelwert 1 die Straßen und der Wert 0 keine Straßen darstellt. Wir geben <code class="docutils literal notranslate"><span class="pre">1</span></code> als <span class="guilabel">Festen Wert einbrennen</span> an. Die Eingabelayer sind in einem KBS definiert, welches Meter als Einheit verwendet. Wir wählen <code class="docutils literal notranslate"><span class="pre">Georeferenzierte</span> <span class="pre">Einheiten</span></code> als <span class="guilabel">Ausgaberastergrößeneinheiten</span>. Die Auflösung des Ausgaberasters soll 15 Meter betragen. Dazu setzen wir sowohl die <span class="guilabel">Breite/Horizontale Ausflösung</span> als auch die <span class="guilabel">Höhe/Vertikale Auflösung</span> auf <code class="docutils literal notranslate"><span class="pre">15</span></code>. Danach öffnen wir die Drop-Down-Liste neben <span class="guilabel">Ausgabegröße</span> und wählen <span class="guilabel">Aus Layer berechnen -&gt; boundary</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/347.png" class="align-center" src="../../_images/347.png" />
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>Wir scrollen weiter nach unten und löschen den Wert bei <span class="guilabel">Legt den Leerwert des Ausgabekanals fest</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/425.png" class="align-center" src="../../_images/425.png" />
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p>Dieser Wert sollte nun als <code class="docutils literal notranslate"><span class="pre">Nicht</span> <span class="pre">gesetzt</span></code> angezeigt werden. Das ist wichtig, weil der später benutzte Rasterrechner einen NULL-Wert (engl. nodata value) für ein Pixel in irgendeinem Layer in einen NULL-Wert in der Ausgabe umsetzt, was ein falsches Ergebnis darstellt.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/522.png" class="align-center" src="../../_images/522.png" />
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p>Im Abschnitt <span class="guilabel">Fortgeschrittene Parameter</span> weiter unten wählen wir als <span class="guilabel">Profil</span> <code class="docutils literal notranslate"><span class="pre">Hohe</span> <span class="pre">Kompression</span></code>, um das Bild zu komprimieren. Das komprimierte Rasterbild wird dadurch nach Anwenden des Werkzeugs weniger Speicherplatz beanspruchen. Eine verlustlose Kompression ist für die Arbeit mit Rasterdatan dringend zu empfehlen.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/622.png" class="align-center" src="../../_images/622.png" />
</div></blockquote>
<ol class="arabic simple" start="7">
<li><p>Unter <span class="guilabel">Gerastert -&gt; In Datei speichern…</span> geben wir <code class="docutils literal notranslate"><span class="pre">raster_roads.tif</span></code> als Ausgaberaster an und betätigen die Schaltfläche <span class="guilabel">Starte</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/721.png" class="align-center" src="../../_images/721.png" />
</div></blockquote>
<ol class="arabic simple" start="8">
<li><p>Nach Ende der Verarbeitung wird der neue Layer <span class="guilabel">raster_roads</span> in das <span class="guilabel">Layer</span>-Panel geladen. Die Voreinstellung zeigt Pixel mit Straßen in weiß und den Rest in schwarz an. Auf dieselbe Art und Weise wollen wir die anderen 4 Vektorlayer konvertieren. Statt den Rastern-Algorithmus jedesmal neu zu starten, können wir auch die eingebaute Stapelverarbeitungsfunktion benutzen, um alle Layer auf einmal zu konvertieren. Weiterführende Informationen zur Stapelverarbeitung enthält das Tutorial <a class="reference internal" href="batch_processing.html"><span class="doc">Stapelverarbeitung mit dem Processing Framework (QGIS3)</span></a>. Per Rechtsklick öffnen wir das Kontextmenü des Algorithmus <code class="docutils literal notranslate"><span class="pre">Rastern</span> <span class="pre">(Vektor</span> <span class="pre">nach</span> <span class="pre">Raster)</span></code> und wählen <span class="guilabel">Als Stapelprozess ausführen</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/821.png" class="align-center" src="../../_images/821.png" />
</div></blockquote>
<ol class="arabic simple" start="9">
<li><p>Im Dialogfenster <span class="guilabel">Stapelverarbeitung</span> ist als erster <span class="guilabel">Eingabelayer</span> der im <span class="guilabel">Layer</span>-Panel des QGIS-Hauptfensters ausgewählte Layer ausgewählt. Mithilfe der Drodown-Liste <span class="guilabel">Autofüllung…</span> in der Spalte <span class="guilabel">Eingabelayer</span> wählen wir <span class="guilabel">Aus geöffneten Layern wählen…</span>. Wir wählen die noch nicht angezeigten Rasterlayer aus <code class="docutils literal notranslate"><span class="pre">boundary</span></code>, <code class="docutils literal notranslate"><span class="pre">protected_regions</span></code>, <code class="docutils literal notranslate"><span class="pre">water_polygons</span></code> und <code class="docutils literal notranslate"><span class="pre">water_polylines</span></code> aus und klicken <span class="guilabel">OK</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/921.png" class="align-center" src="../../_images/921.png" />
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>Die Option <span class="guilabel">Fortgeschrittene Parameter</span> sind bei der Ausführung des Algorithmus im Stapel-Modus nicht verfügbar. Wir müssen alle oben beschriebenen Schritte außer denen zur Kompression für alle Ausgabelayer wiederholen.</p>
</div>
<ol class="arabic simple" start="10">
<li><p>Dazu geben wir in die erste Zeile dieselben Werte für die Parameter wie für den <code class="docutils literal notranslate"><span class="pre">roads</span></code>-Layer ein und verwenden die Schaltflächen <span class="menuselection">Autofüllung ‣ Nach unten füllen</span>, um die Werte auf alle Layer anzuwenden.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1027.png" class="align-center" src="../../_images/1027.png" />
</div></blockquote>
<ol class="arabic simple" start="11">
<li><p>In der letzten Spalte <span class="guilabel">Gerastert</span> betätigen wir die Schaltfläche <span class="guilabel">…</span> in der ersten Zeile. Wir geben <code class="docutils literal notranslate"><span class="pre">raster_</span></code> als Dateinamen ein und <span class="guilabel">Speichern</span>. Im Pop-Up-Fenster wählen wir als <span class="guilabel">Autofüllmodus</span> <code class="docutils literal notranslate"><span class="pre">Mit</span> <span class="pre">Parameterwerten</span> <span class="pre">füllen</span></code> und in <span class="guilabel">Zu benutzender Parameter</span> <code class="docutils literal notranslate"><span class="pre">Eingabelayer</span></code>; wir bestätigen mit <span class="guilabel">OK</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1130.png" class="align-center" src="../../_images/1130.png" />
</div></blockquote>
<ol class="arabic simple" start="12">
<li><p>Die Schnittstelle zur Stapelverarbeitung ergänzt den Dateinamen mit den Layernamen und füllt alle Zeilen aus. Wir sollten sicherstellen, dass die Option <span class="guilabel">Layer bei Abschluss laden</span> gesetzt ist, bevor wir die Schaltfläche <span class="guilabel">Starte</span> betätigen.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1228.png" class="align-center" src="../../_images/1228.png" />
</div></blockquote>
<ol class="arabic simple" start="13">
<li><p>Nach Abschluss der Verarbeitung sind 4 neue Layer im <span class="guilabel">Layer</span>-Panel geladen. Offensichtlich gibt es 2 Layer mit Bezug zu Gewässern. Wir können beide Layer zu einem verschmelzen, welcher die Gewässer der Region repräsentiert. Wir suchen den Algorithmus <span class="menuselection">Rasteranalyse ‣ Rasterrechner</span> in den Verarbeitungswerkzeugen und starten ihn per Doppelklick.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1326.png" class="align-center" src="../../_images/1326.png" />
</div></blockquote>
<ol class="arabic simple" start="14">
<li><p>Wir öffnen das Dialogfenster <span class="guilabel">Rasterrechnerausdruck</span> durch Betätigen der Schaltfläche <code class="docutils literal notranslate"><span class="pre">Ɛ</span></code> und geben den unten stehenden Ausdruck ein. Der Ausdruck besagt, dass die Pixelwerte des jeweils ersten Kanals der Wasser-Layer summiert werden sollen. Wir wählen mithilfe der Schaltfläche <code class="docutils literal notranslate"><span class="pre">...</span></code> neben <span class="guilabel">Eingabelayer</span> die zu verschmelzenden Layer <code class="docutils literal notranslate"><span class="pre">raster_water_polygons</span></code> und <code class="docutils literal notranslate"><span class="pre">raster_water_polylines</span></code> aus. Mithilfe der Schaltfläche <span class="guilabel">…</span> neben <span class="guilabel">Berechnet</span> setzen wir als Namen für den Ausgabelayer <code class="docutils literal notranslate"><span class="pre">raster_water_merged.tif</span></code> und betätigen die Schaltfläche <span class="guilabel">Starte</span>.</p></li>
</ol>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;raster_water_polygons@1&quot; + &quot;raster_water_polylines@1&quot;
</pre></div>
</div>
<img alt="../../_images/1424.png" class="align-center" src="../../_images/1424.png" />
</div></blockquote>
<ol class="arabic simple" start="15">
<li><p>Das Ergebnis enthält Pixel mit dem Wert 1 für alle Gebiete mit Wasserflächen. Es gibt jedoch auch einige Regionen, in denen sowohl Wasser-Polygone als auch -Linien verzeichnet sind. Dort werden sich Pixel mit dem Wert 2 finden lassen ‒ was nicht korrekt ist. Wir können dies aber mit einem einfachen Ausdruck beheben. Wir wählen den <span class="menuselection">Rasteranalyse ‣ Rasterrechner</span> erneut.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1521.png" class="align-center" src="../../_images/1521.png" />
</div></blockquote>
<ol class="arabic simple" start="16">
<li><p>Wir geben den folgenden Ausdruck ein, der allen Pixeln, für die er <code class="docutils literal notranslate"><span class="pre">wahr</span></code> ist, den Wert 1 zuordnet und allen übrigen den Wert 0.  Mithilfe der Schaltfläche <span class="guilabel">…</span> neben <span class="guilabel">Eingabelayer</span> wählen wir <code class="docutils literal notranslate"><span class="pre">raster_water_merged</span></code>. Die Ausgabe nennen wir <code class="docutils literal notranslate"><span class="pre">raster_water.tif</span></code> und betätigen die Schaltfläche <span class="guilabel">Starte</span>.</p></li>
</ol>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;raster_water_merged@1&quot; &gt; 0
</pre></div>
</div>
<img alt="../../_images/1620.png" class="align-center" src="../../_images/1620.png" />
</div></blockquote>
<ol class="arabic simple" start="17">
<li><p>Der Ergebnislayer <code class="docutils literal notranslate"><span class="pre">raster_water</span></code> hat nur noch Pixel mit den Werten 0 und 1.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1721.png" class="align-center" src="../../_images/1721.png" />
</div></blockquote>
<ol class="arabic simple" start="18">
<li><p>Mithilfe der Layer für Straßen und Gewässer können wir nun Nachbarschaftsraster erstellen. Diese werden auch Euklidische Distanzen genannt, bei denen jeder Pixel im Ausgaberaster den Abstand zum nächstgelegenen Pixel im Eingaberaster repräsentiert. Das Ergebnisraster kann anschließend verwendet werden, um geeignete Gebiete innerhalb eines bestimmten Abstandes von den Eingabepixeln zu definieren. Wir suchen den Algorithmus <span class="menuselection">GDAL ‣ Rasteranalyse ‣ Nähe (Rasterabstand)</span> und starten ihn per Doppelklick.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1818.png" class="align-center" src="../../_images/1818.png" />
</div></blockquote>
<ol class="arabic simple" start="19">
<li><p>Im Dialogfenster <span class="guilabel">Nähe (Rasterabstand)</span> wählen wir <code class="docutils literal notranslate"><span class="pre">raster_roads</span></code> als <span class="guilabel">Eingabelayer</span> und <code class="docutils literal notranslate"><span class="pre">Georeferenzierte</span> <span class="pre">Koordinaten</span></code> als <span class="guilabel">Distanzeinheit</span>. Da in den Eingabelayern durch das projizierte KBS <code class="docutils literal notranslate"><span class="pre">Meter</span></code> als Einheit verwendet werden, geben wir <code class="docutils literal notranslate"><span class="pre">5000</span></code> (5 Kilometer) als <span class="guilabel">Maximal zu generierender Abstand</span> ein. Es muss sichergestellt sein, dass <span class="guilabel">Für Zielnäheraster zu verwendender Leerwert</span> <code class="docutils literal notranslate"><span class="pre">Nicht</span> <span class="pre">gesetzt</span></code> ist.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1915.png" class="align-center" src="../../_images/1915.png" />
</div></blockquote>
<ol class="arabic simple" start="20">
<li><p>Nach Erweiterung des Bereichs <span class="guilabel">Fortgeschrittene Parameter</span> wählen wir als <span class="guilabel">Profil</span> <code class="docutils literal notranslate"><span class="pre">Hohe</span> <span class="pre">Kompression</span></code> aus. Die Ausgabedatei benennen wir mit <code class="docutils literal notranslate"><span class="pre">roads_proximity.tif</span></code> und betätigen die Schaltfläche <span class="guilabel">Starte</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/2015.png" class="align-center" src="../../_images/2015.png" />
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>Die Verarbeitung kann bis zu 15 Minuten in Anspruch nehmen. Es handelt sich um einen rechenintensiven Algorithmus, mit dem der Abstand jedes Pixels des Eingaberasters berechnet wird, und unser Eingaberaster enthält über 1 Milliarde Pixel.</p>
</div>
<ol class="arabic simple" start="21">
<li><p>Nach Abschluss der Berechnungen wird ein neuer Layer <code class="docutils literal notranslate"><span class="pre">roads_proximity</span></code> zum <span class="guilabel">Layer</span>-Panel hinzugefügt. Um ihn besser zu visualisieren, sollten wir die Voreinstellung für die Darstellung ändern. Wir betätigen die Schaltfläche <span class="guilabel">Layergestaltungsfenster öffnen</span> im <span class="guilabel">Layer</span>-Panel und ändern den <span class="guilabel">Max</span>-Wert unter <span class="guilabel">Farbverlauf</span> auf <code class="docutils literal notranslate"><span class="pre">5000</span></code>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/2119.png" class="align-center" src="../../_images/2119.png" />
</div></blockquote>
<ol class="arabic simple" start="22">
<li><p>Wir wiederholen die Anwendung des Algorithmus‘ <span class="guilabel">Nähe (Rasterabstand)</span> für den Layer <code class="docutils literal notranslate"><span class="pre">raster_water</span></code> mit denselben Parametern und nennen die Ausgabedatei <code class="docutils literal notranslate"><span class="pre">water_proximity.tif</span></code>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/2217.png" class="align-center" src="../../_images/2217.png" />
</div></blockquote>
<ol class="arabic simple" start="23">
<li><p>Nach Abschluss der Verarbeitung kann die gleiche Darstellung wie zuvor angewandt werden, um das Ergebnis besser zu visualisieren. Wenn wir in den Pixeln des Rasters herumklicken, können wir erkennen, dass es sich bei den Werten um ein Kontinuum der Werte zwischen 0 und 5000 handelt. Um das Raster für die Überlagerungs-Analyse verwenden zu können, müssen wir es zuerst reklassifizieren, um diskrete Werte zu erzeugen. Dazu öffnen wir den Algorithmus <span class="menuselection">Rasteranalyse ‣ Rasterrechner</span> erneut.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/2315.png" class="align-center" src="../../_images/2315.png" />
</div></blockquote>
<ol class="arabic simple" start="24">
<li><p>Auf näher an der Straße gelegene Pixel wollen wir höhere Bewertungen anwenden; dazu benutzen wir das folgende Schema.</p></li>
</ol>
<ul>
<li><p>0 - 1000 m –&gt; 100</p></li>
<li><p>1000 - 5000 m –&gt; 50</p></li>
<li><p>&gt; 5000 m –&gt; 10</p>
<p>Wir geben den folgenden Ausdruck ein, der die oben definierten Kriterien anwendet. Mithilfe der Schaltfläche <span class="guilabel">…</span> neben <span class="guilabel">Eingabelayer</span> wählen wir <code class="docutils literal notranslate"><span class="pre">roads_proximity</span></code>. Die Ausgabe nennen wir <code class="docutils literal notranslate"><span class="pre">roads_reclass.tif</span></code> und betätigen die Schaltfläche <span class="guilabel">Starte</span>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>100*(&quot;roads_proximity@1&quot;&lt;=1000) + 50*(&quot;roads_proximity@1&quot;&gt;1000)*(&quot;roads_proximity@1&quot;&lt;=5000) + 10*(&quot;roads_proximity@1&quot;&gt;5000)
</pre></div>
</div>
<img alt="../../_images/2414.png" class="align-center" src="../../_images/2414.png" />
</li>
</ul>
<ol class="arabic simple" start="25">
<li><p>Nach Abschluss der Reklassifizierung wird dem <span class="guilabel">Layer</span>-Panel ein neuer Layer <code class="docutils literal notranslate"><span class="pre">roads_reclass</span></code> hinzugefügt. Dieser Layer hat nur 3 verschiedene Werte ‒ 10, 50 und 100, welche welche die relative Eignung dieser Pixel in Bezug auf die Entfernung zu Straßen repräsentieren. Wir öffnen den <span class="menuselection">Rasteranalyse ‣ Rasterrechner</span> erneut.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/2513.png" class="align-center" src="../../_images/2513.png" />
</div></blockquote>
<ol class="arabic simple" start="26">
<li><p>Wir wiederholen die Reklassifizierung für den Layer <code class="docutils literal notranslate"><span class="pre">water_proximity</span></code>. Hier ist das Schema umgekehrt, weil die Pixel mit größerer Entfernung zu den Wasserflächen höhere Werte erhalten sollen.</p></li>
</ol>
<ul>
<li><p>0 - 1000 m –&gt; 10</p></li>
<li><p>1000 - 5000 m —&gt; 50</p></li>
<li><p>&gt; 5000 m –&gt; 100</p>
<p>Wir geben den folgenden Ausdruck ein, der die oben definierten Kriterien anwendet. Mithilfe der Schaltfläche <span class="guilabel">…</span> neben <span class="guilabel">Eingabelayer</span> wählen wir <code class="docutils literal notranslate"><span class="pre">water_proximity</span></code>. Die Ausgabe nennen wir <code class="docutils literal notranslate"><span class="pre">water_reclass.tif</span></code> und betätigen die Schaltfläche <span class="guilabel">Starte</span>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>100*(&quot;water_proximity@1&quot;&gt;5000) + 50*(&quot;water_proximity@1&quot;&gt;1000)*(&quot;water_proximity@1&quot;&lt;=5000) + 10*(&quot;water_proximity@1&quot;&lt;1000)
</pre></div>
</div>
<img alt="../../_images/2612.png" class="align-center" src="../../_images/2612.png" />
</li>
</ul>
<ol class="arabic simple" start="27">
<li><p>Nun ist alles für die abschließende Überlagerungs-Analyse vorbereitet. Hier sind noch einmal die Kriterien, die eine Eignung für eine Erschließung abbilden: nahe an Straßen, abseits von Wasserflächen und nicht in Schutzgebieten gelegen. Wir öffnen den <span class="menuselection">Rasteranalyse ‣ Rasterrechner</span> und geben den folgenden Ausdruck ein, der diese Kriterien anwendet. Wichtig ist die Multiplikation des Ergebnisses mit <code class="docutils literal notranslate"><span class="pre">raster_boundary&#64;1</span></code>  am Ende, um Pixel außerhalb der Grenzen des Bundesstaates auszuschließen. Wir betätigen die Schaltfläche <span class="guilabel">…</span> neben <span class="guilabel">Eingabelayer</span> und wählen die Layer <code class="docutils literal notranslate"><span class="pre">roads_reclass</span></code>, <code class="docutils literal notranslate"><span class="pre">water_reclass</span></code>, <code class="docutils literal notranslate"><span class="pre">raster_protected_regions</span></code> und <code class="docutils literal notranslate"><span class="pre">raster_boundary</span></code>. Unter <span class="guilabel">Ausgabegröße -&gt; Aus Layer berechnen…</span> wählen wir <code class="docutils literal notranslate"><span class="pre">raster_boundary</span></code>. Die Ausgabe nennen wir <code class="docutils literal notranslate"><span class="pre">overlay.tif</span></code> und betätigen die Schaltfläche <span class="guilabel">Starte</span>.</p></li>
</ol>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(&quot;roads_reclass@1&quot; + &quot;water_reclass@1&quot;)*(&quot;raster_protected_regions@1&quot;  !=  1 )*&quot;raster_boundary@1&quot;
</pre></div>
</div>
<img alt="../../_images/2713.png" class="align-center" src="../../_images/2713.png" />
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>In unserem Beispiel haben wir die Nähe zu Straßen und zu Gewässern gleich gewichtet. In einem realen Szenario mag es vielfältige Kriterien mit unterschiedlicher Bedeutsamkeit geben. Man kann das dadurch nachbilden, dass die verschiedenen Raster im obigen Ausdruck mit entsprechenden <em>Wichtungen</em> multipliziert werden. Wenn z. B. die Nähe zu Straßen doppelt so wichtig ist wie der Abstand zu Gewässern, müsste das Raster <code class="docutils literal notranslate"><span class="pre">roads_reclass</span></code> mit <code class="docutils literal notranslate"><span class="pre">2</span></code> multipliziert werden.</p>
</div>
<ol class="arabic simple" start="28">
<li><p>Nach Abschluss der Verarbeitung wird das Raster <code class="docutils literal notranslate"><span class="pre">overlay</span></code> zum <span class="guilabel">Layer</span>-Panel hinzugefügt. Die Pixelwerte variieren von 0 bis 200, wobei Werte von 0 die am wenigsten geeigneten und Werte von 200 die geeignetsten Gebiete für eine Erschließung kennzeichnen. Wir betätigen die Schaltfläche <span class="guilabel">Layergestaltungsfenster öffnen</span> für den Layer <code class="docutils literal notranslate"><span class="pre">overlay</span></code>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/2813.png" class="align-center" src="../../_images/2813.png" />
</div></blockquote>
<ol class="arabic simple" start="29">
<li><p>Wir wählen den Renderer <code class="docutils literal notranslate"><span class="pre">Einkanalpseudofarbe</span></code> und den Farbverlauf <code class="docutils literal notranslate"><span class="pre">Spectral</span></code>. Wir betätigen die Schaltfläche <span class="guilabel">Klassifizieren</span>, um den Farbverlauf auf das Raster anzuwenden.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/2912.png" class="align-center" src="../../_images/2912.png" />
</div></blockquote>
<ol class="arabic simple" start="30">
<li><p>Durch Doppelklick auf die voreingestellten Beschriftungen können wir jeder Farbe geeignete Werte zuordnen. Die Beschriftungen werden als Legende unter dem <code class="docutils literal notranslate"><span class="pre">overlay</span></code>-Layer angezeigt.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/3011.png" class="align-center" src="../../_images/3011.png" />
</div></blockquote>
<ol class="arabic simple" start="31">
<li><p>Rasterlayer bestehen aus rechteckigen Gittern. Wir wollen die Pixel ausßerhalb der Staatsgrenze verbergen. Eine einfache Methode dafür ist die Anwendung <code class="docutils literal notranslate"><span class="pre">Invertierter</span> <span class="pre">Polygone</span></code>, die auf den Vektorlayer mit der Grenze gerendert werden. Wir scrollen im <span class="guilabel">Layer</span>-Panel nach unten bis zum Layer <code class="docutils literal notranslate"><span class="pre">boundary</span></code>. Wir wählen in den Layereigenschaften <code class="docutils literal notranslate"><span class="pre">Invertierte</span> <span class="pre">Polygone</span></code> als Renderer und belassen bei allen anderen Optionen die Voreinstellungen.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/3115.png" class="align-center" src="../../_images/3115.png" />
</div></blockquote>
<ol class="arabic simple" start="32">
<li><p>Um die Auswirkung des Renderers anzuzeigen, ist es nötig, dass der Layer nach oben sortiert wird. Dazu öffnen wir per Rechtsklick das Kontextmenü des Layers <code class="docutils literal notranslate"><span class="pre">boundary</span></code> und wählen <span class="guilabel">Nach oben bringen</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/3212.png" class="align-center" src="../../_images/3212.png" />
</div></blockquote>
<ol class="arabic simple" start="33">
<li><p>Wir schalten den Layer sichtbar, und im Kartenbereich sollte das <code class="docutils literal notranslate"><span class="pre">overlay</span></code>-Raster auf den <code class="docutils literal notranslate"><span class="pre">boundary</span></code>-Layer zugeschnitten sein. Dies stellt die endgültige Ausgabe dar, in der die Flächen innerhalb des Bundesstaates in ihrer Eignung für die Erschließung angezeigt werden.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/3311.png" class="align-center" src="../../_images/3311.png" />
</div></blockquote>
</section>
</section>





  <!-- Comment Section Powered by utterances -->
<div id="comments">
  <hr />
  <p>If you want to give feedback or share your experience with this tutorial, please comment below. (requires GitHub account)</p>
<script src="https://utteranc.es/client.js"
        repo="spatialthoughts/qgis-tutorials"
        issue-term="title"
        label="comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2023, Ujaval Gandhi.<br/>
      Zuletzt aktualisiert am Sept. 11, 2024.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.2.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/3/multi_criteria_overlay.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>