<!DOCTYPE html>

<html lang="de" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Fortgeschrittene Raster-Analyse (QGIS3) &#8212; QGIS Tutorials and Tips</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css?v=0bf093e7" />
    <script src="../../_static/documentation_options.js?v=54d918e9"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/translations.js?v=70a09b52"></script>
    <link rel="search" title="Suche" href="../../search.html" />
    <link rel="next" title="Interpolation von Punktdaten (QGIS3)" href="interpolating_point_data.html" />
    <link rel="prev" title="Handling Invalid Geometries (QGIS3)" href="handling_invalid_geometries.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>


<!-- Cookie Notice -->
<!-- Script from https://github.com/AOEpeople/cookie-notice -->
<script type="text/javascript" src="../../_static/cookie.notice.min.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1WQ7B80XJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B1WQ7B80XJ');
</script>


  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Einleitung</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">Erstellung einer Karte (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_attributes.html">Arbeit mit Attributen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">Import von Tabellenblättern oder CSV-Dateien (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Einfache Vektor Gestaltung (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_line_lengths.html">Berechnung der Länge von Linien und Statistiken (QGSI3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Einfache Visualisierung und Analyse von Rasterdaten (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Erstellen und Zuschneiden eines Raster-Mosaiks (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Working with Terrain Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">Working with WMS Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_projections.html">Working with Projections (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">Georeferenzierung von Kartenblättern und eingescannten Karten (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">Georeferenzierung von Luftbildern (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">Digitizing Map Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins.html">Tabellen verbinden (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_joins.html">Räumliche Verknüpfungen erstellen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Räumliche Abfragen ausführen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="nearest_neighbor_analysis.html">Nächster-Nachbar-Analyse (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_raster_data.html">Stichproben aus Rasterdaten mit Hilfe von Punkten und Polygonen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_raster_area.html">Calculating Raster Area (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_heatmaps.html">Heatmaps erstellen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="animating_time_series.html">Animierte Zeitreihen-Daten (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="handling_invalid_geometries.html">Handling Invalid Geometries (QGIS3)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Fortgeschrittene Raster-Analyse (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolating_point_data.html">Interpolation von Punktdaten (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Stapelverarbeitung mit dem Processing Framework (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_graphical_modeler.html">Komplexe Arbeitsabläufe mit Hilfe der Verarbeitungsmodellierung (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="automating_map_creation.html">Automatisierung der Kartenerstellung mit dem Drucklayout Atlas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="multi_criteria_overlay.html">Multikriterielle Überlagerungs-Analyse (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="vector_styling_expressions.html">Grundlagen für Filterung und Gestaltung mit Ausdrücken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="block_world_styling.html">Erstellung einer Weltkarte im Gitter-Stil (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="river_styling_expressions.html">Styling a River Network with Expressions (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="contour_3d_styling.html">Styling Contours in 3D (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_network_analysis.html">Einfache Netzwerkvisualisierung und Routing (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="origin_destination_matrix.html">Lokalisierung der nächstgelegenen Einrichtung mit einer Quelle-Ziel-Matrix (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="service_area_analysis.html">Einzugsgebietsanalyse mit dem Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="travel_time_analysis.html">Travel Time Analysis with Uber Movement (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="areal_mean_rainfall.html">Calculating Areal Mean Rainfall (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="colorized_river_basin_map.html">Erzeugen einer farbigen Karte für ein Einzugsgebiet (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_landuse_map.html">Erstellung einer Karte zur Landnutzung (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_intersection_density.html">Calculating Street Intersection Density (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="landuse_buffer.html">Determining Landuse Buffer Zones (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="solidwaste_mapping.html">Mapping Waste Disposal Volumes (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_with_pyqgis.html">Mit der Pythonprogrammierung loslegen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_algorithms_pyqgis.html">Verarbeitungsroutinen mit Python ausführen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_python_functions.html">Angepasste Python Funktionsausdrücke verwenden (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_scripts.html">Pythonscripts für die Verarbeitungswerkzeuge schreiben (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_a_python_plugin.html">Ein Python-Plugin erstellen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_plugin.html">Ein Verarbeitungsplugin erstellen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_qgis_jobs.html">Running and Scheduling QGIS Processing Jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_mapping_with_qgis2web.html">Web Mapping with QGIS2Web (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_basemaps_with_qtiles.html">Creating Basemaps with QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Using Plugins (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../downloading_osm_data.html">Suchen und Laden von OpenStreetMap Daten</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learning_resources.html">QGIS Learning Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Data Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../batch_processing.html">Batch Processing using Processing Framework (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="handling_invalid_geometries.html" title="Previous Chapter: Handling Invalid Geometries (QGIS3)"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Handling Inva...</span>
    </a>
  </li>
  <li>
    <a href="interpolating_point_data.html" title="Next Chapter: Interpolation von Punktdaten (QGIS3)"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Interpolation... &raquo;</span>
    </a>
  </li>
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>
<hr>
<p>Want to learn QGIS in a structured way? Check out <a href="https://spatialthoughts.com/" target="_blank">Spatial Thoughts</a> for more learning materials and instructor-led online programs with QGIS.org certification.</p>

<hr>
<p>These tutorials are also available in many other languages. Please see <a href="https://www.qgistutorials.com/en/docs/introduction.html#translations" target="_blank">translations</a> page.
</p>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      

  <section id="advanced-raster-analysis-qgis3">
<h1>Fortgeschrittene Raster-Analyse (QGIS3)<a class="headerlink" href="#advanced-raster-analysis-qgis3" title="Link to this heading">¶</a></h1>
<p>Im vorigen Tutorial <a class="reference internal" href="raster_styling_and_analysis.html"><span class="doc">Einfache Visualisierung und Analyse von Rasterdaten (QGIS3)</span></a> haben wir den Umgang mit dem <em>Rasterrechner</em> bei Operationen auf Rasterdaten kennengelernt. Dieses Tutorial baut auf diesen Kenntnissen auf und zeigt, wie die Raster-Analysetools aus den Verarbeitungswerkzeugen verwendet werden. Wir werden lernen, wie Rasterdaten aus Landnutzungskartierungen (engl.: Land Use Land Cover ‒ LULC) in QGIS verarbeitet werden, um verschiedene Klassen der Landbedeckung zu gewinnen und Karten anzupassen.</p>
<section id="overview-of-the-task">
<h2>Überblick über die Aufgabe<a class="headerlink" href="#overview-of-the-task" title="Link to this heading">¶</a></h2>
<p>Wir werden den Datensatz des <em>South African National Land Cover</em> verwenden, um informelle Siedlungen im Stadtgebiet von Johannesburg in Südafrika zu identifizieren und zu extrahieren. Außerdem werden wir einen Datensatz zur Bewertung des Wandels verwenden, um Muster im urbanen Wachstum der Stadt von 2014 bis 2018 zu identifizieren.</p>
<section id="other-skills-you-will-learn">
<h3>Weitere Fähigkeiten, die wir erlernen:<a class="headerlink" href="#other-skills-you-will-learn" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>die Abbildung von Rasterdaten in einer anderen Projektion</p></li>
<li><p>den Import einer Excel-Datei in QGIS</p></li>
<li><p>die Anpassung der Transparenz eines Raster-Layers in QGIS</p></li>
</ul>
</section>
</section>
<section id="get-the-data">
<h2>Beschaffung der Daten<a class="headerlink" href="#get-the-data" title="Link to this heading">¶</a></h2>
<p>Wir werden folgende Datensätze zur Verwendung in diesem Tutorial herunterladen:</p>
<ol class="arabic simple">
<li><p><em>The South African National Land Cover 2018 dataset</em>: Dieser Datensatz wurde aus den Sentinel-2-Satellitenbildern mehrerer Jahreszeiten mit einer Auflösung von 20 Metern generiert und enthält 73 Klassen der Landbedeckung.</p></li>
<li><p><em>The South African National Land Cover 2018 Change Assessments</em>: Dieser Datensatz vergleicht die Änderungen in 20 Klassen der Landbedeckung von 2014 bis 2018.</p></li>
<li><p><em>COJ Boundary</em>: ein Shapefile für die Grenzen der Stadt Johannesburg in Südafrika</p></li>
</ol>
<p>Das <a class="reference external" href="https://egis.environment.gov.za/">Environmental Geographical Information Systems (E-GIS)</a> bietet Zugang zu umweltbezogenen Geodaten für Südafrika. Wir werden die Rasterdaten des South African National Land-Cover (SANLC) aus diesem Portal herunterladen.</p>
<ol class="arabic simple">
<li><p>Dazu rufen wir die Website <a class="reference external" href="https://egis.environment.gov.za/gis_data_downloads">GIS Data Download</a> auf und klicken auf <span class="guilabel">I agree</span>, um die <em>Nutzungsbedingungen</em> zu akzeptieren und fortzufahren.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/data1.png" class="align-center" src="../../_images/data1.png" />
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Um die Daten herunterladen zu können, ist es erforderlich, ein kostenloses Nutzerkonto anzulegen. Wir klicken auf <span class="guilabel">I want to create an account</span> und folgen den Anweisungen zur Anlage eines Nutzerkontos.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/data2.png" class="align-center" src="../../_images/data2.png" />
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Nach dem Login suchen wir nach <em>South African National Land Cover (SANLC) 2018 Computer Automated Land Cover (CALC)</em>. Dieser Datensatz wird mit zwei unterschiedlichen Projektionen ausgeliefert. Für dieses Tutorial laden wir den <cite>ALBERS</cite>-Datensatz herunter und klicken auf den Link zum Download der Datei <cite>SA_NLC_2018_Albers_CALC_data.zip</cite>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/data3.png" class="align-center" src="../../_images/data3.png" />
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>Danach suchen wir nach <em>New South African National Land Cover (SANLC) 2014 and 2018 Change Assessment Datasets Computer Automated Land Cover (CALC)</em> und klicken auf <cite>SA_NLC_2014_2018_CLASS_CHANGE_CALC (DATASET AND REPORT)</cite>, um die Datei <cite>SA_NLC_2014_2018_CLASS_CHANGE_ALBERS_CALC.tif.vat.zip</cite> herunterzuladen.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/data4.png" class="align-center" src="../../_images/data4.png" />
</div></blockquote>
<p>Die <a class="reference external" href="https://www.joburg.org.za/">City of Johannesburg</a> veröffentlicht räumlich zuordenbare Datensätze als Teil des <a class="reference external" href="https://www.joburg.org.za/documents_/Pages/Key%20Documents/policies/Development%20Planning%20F%BC%86%20Urban%20Management/Citywide%20Spatial%20Policies/Spatial-Development-Framework-2040.aspx">Spatial Development Framework 2040 (SDF) for Johannesburg</a>. Wir werden das Shapefile mit den Grenzen der Stadt von dieser Website herunterladen.</p>
<ol class="arabic simple">
<li><p>Dazu klicken wir auf den Download-Link <a class="reference external" href="http://bit.ly/joburg-sdf-16">http://bit.ly/joburg-sdf-16</a>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/data5.png" class="align-center" src="../../_images/data5.png" />
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Wir wählen das Verzeichnis <code class="docutils literal notranslate"><span class="pre">SDF</span> <span class="pre">Shapefiles</span></code>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/data6.png" class="align-center" src="../../_images/data6.png" />
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Wir laden die Datei <cite>SDF Shapefiles.zip`</cite> herunter und entpacken sie in ein Verzeichnis unserer Wahl.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/data7.png" class="align-center" src="../../_images/data7.png" />
</div></blockquote>
<p>Der Einfachheit halber sind die zugeschnittenen Versionen der erforderlichen Layer unter den folgenden Links verfügbar:</p>
<p><a class="reference external" href="https://www.qgistutorials.com/downloads/SA_NLC_2018_ALBERS_CALC.tif">SA_NLC_2018_ALBERS_CALC.tif</a></p>
<p><a class="reference external" href="https://www.qgistutorials.com/downloads/SA_NLC_2014_2018_CLASS_CHANGE_ALBERS_CALC.tif">SA_NLC_2014_2018_CLASS_CHANGE_ALBERS_CALC.tif</a></p>
<p><a class="reference external" href="https://www.qgistutorials.com/downloads/COJ_Boundary.zip">COJ_Boundary.zip</a></p>
<p>Datenquelle: <a class="reference internal" href="../credits.html#sanlc" id="id1"><span>[SANLC]</span></a> <a class="reference internal" href="../credits.html#coj" id="id2"><span>[COJ]</span></a></p>
</section>
<section id="procedure">
<h2>Arbeitsablauf<a class="headerlink" href="#procedure" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Wir suchen nach dem heruntergeladenen und extrahierten Ordner im <span class="guilabel">Browser</span>, öffnen ihn und ziehen <code class="docutils literal notranslate"><span class="pre">SA_NLC_2018_ALBERS_CALC.tif</span></code> in den Arbeitsbereich.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/011.png" class="align-center" src="../../_images/011.png" />
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Sobald der Layer geladen wurde, kann man feststellen, dass das KBS als <span class="guilabel">Unbekanntes KBS</span> in der Statusleiste unten rechts deklariert wurde. Wir führen darauf einen Doppelklick aus, um das Dialog-Fenster <span class="guilabel">Projekteeigenschaften - KBS</span> zu öffnen.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/021.png" class="align-center" src="../../_images/021.png" />
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Im unteren Teil wird eine Vorschau auf die Ausdehnung der Projektion angezeigt. Dieses <em>Unbekannte KBS</em> verwendet eine benutzerdefinierte Methode <em>Albers Equal Area</em> für Südafrika. Wir werden den Layer später reprojizieren und klicken zunächst auf <span class="guilabel">OK</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/031.png" class="align-center" src="../../_images/031.png" />
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>Wir laden die anderen beiden Layer <code class="docutils literal notranslate"><span class="pre">SA_NLC_2014_2018_CLASS_CHANGE_ALBERS_CALC.tif</span></code> und <code class="docutils literal notranslate"><span class="pre">COJ_Boundary</span></code>. Die Raster-Layer überdecken das gesamte Land. Für unsere Analyse interessiert jedoch nur die Fläche, die vom Layer <code class="docutils literal notranslate"><span class="pre">COJ_Boundary</span></code> abgedeckt wird. Daher werden wir die Raster-Layer auf diese Region zuschneiden und wählen <span class="menuselection">Verarbeitung ‣ Werkzeugkiste</span> und darin <span class="menuselection">GDAL ‣ Rasterextraktion ‣ Raster auf Layermaske zuschneiden</span>. Wir öffnen das Werkzeug mit einem Doppelklick.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/041.png" class="align-center" src="../../_images/041.png" />
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p>Im Dialog <span class="guilabel">Raster auf Layermaske zuschneiden</span>, wählen wir <code class="docutils literal notranslate"><span class="pre">SA_NLC_2018_ALBERS_CALC</span></code> als <span class="guilabel">Eingabelayer</span>, danach <code class="docutils literal notranslate"><span class="pre">COJ_Boundary</span></code> als <span class="guilabel">Maskenlayer</span>. Wir haben hier auch die Möglichkeit, die Daten zu reprojizieren. Es zeugt von guter Praxis, alle Daten-Layer in derselben Projektion vorzuhalten. Wir werden die Raster so reprojizieren, dass sie der Projektion des <code class="docutils literal notranslate"><span class="pre">COJ_Boundary</span></code>-Layers entsprechen. Dazu wählen wir <code class="docutils literal notranslate"><span class="pre">EPSG:4326</span> <span class="pre">-</span> <span class="pre">WGS</span> <span class="pre">84</span></code> als  <span class="guilabel">Ziel KBS</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/051.png" class="align-center" src="../../_images/051.png" />
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p>Das voreingestellte Ausgabeformat ist GeoTiff. Dateien dieses Typs können sehr groß sein, wenn sie nicht komprimiert werden. Es zeugt von guter Praxis, immer eine verlustfreie Kompressionsmethode zu wählen, wenn neue Raster-Layer erstellt werden. Wir erweitern den Bereich <span class="guilabel">Fortgeschrittene Parameter</span> und wählen <code class="docutils literal notranslate"><span class="pre">Hohe</span> <span class="pre">Kompression</span></code> als <span class="guilabel">Profil</span>. Als nächstes benutzen wir den Button <span class="guilabel">…</span> neben dem Eingabefeld von <span class="guilabel">Abgeschnitten (Maske)</span> und wählen <span class="guilabel">In Datei speichern…</span>, um als Namen des Layers <code class="docutils literal notranslate"><span class="pre">SA_NLC_2018_Clipped</span></code> anzugeben. Wir klicken auf <span class="guilabel">Starte</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/061.png" class="align-center" src="../../_images/061.png" />
</div></blockquote>
<ol class="arabic simple" start="7">
<li><p>Wir schließen das Fenster nicht, wenn der Algorithmus beendet wurde. Stattdessen werden wir dieselbe Operation auf den anderen Raster-Layer anwenden. Dazu wechseln wir in den Bereich <span class="guilabel">Parameter</span> und ändern den <span class="guilabel">Eingabelayer</span> auf <code class="docutils literal notranslate"><span class="pre">SA_NLC_2014_2018_CLASS_CHANGE_ALBERS_CALC</span></code>. Alle anderen Optionen belassen wir, nur der Name des Ausgabelayers wird auf  <code class="docutils literal notranslate"><span class="pre">SA_NLC_2014_2018_CLASS_CHANGE_Clipped</span></code> geändert. Wir klicken erneut auf <span class="guilabel">Starte</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/071.png" class="align-center" src="../../_images/071.png" />
</div></blockquote>
<ol class="arabic simple" start="8">
<li><p>Die zugeschnittenen Layer werden in den Arbeitsbereich geladen. Wir wählen die Original-Layer und im Kontextmenü <span class="guilabel">Layer löschen…</span>, um sie zu entfernen.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/081.png" class="align-center" src="../../_images/081.png" />
</div></blockquote>
<ol class="arabic simple" start="9">
<li><p>Die drei verbliebenen Layer werden in dasselbe KBS projiziert. Wir können nun das Projekt-KBS auf das der Layer setzen. Wir klicken dazu mit der rechten Maustaste auf einen der Layer und wählen <span class="menuselection">Layer-KBS ‣ Layer-KBS dem Projekt zuweisen</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/091.png" class="align-center" src="../../_images/091.png" />
</div></blockquote>
<ol class="arabic simple" start="10">
<li><p>Das KBS <code class="docutils literal notranslate"><span class="pre">EPSG:4326</span></code> wird nun dem Projekt zugewiesen. Wir ziehen den Layer <span class="guilabel">SA_NLC_2018_Clipped</span> ganz nach oben.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/101.png" class="align-center" src="../../_images/101.png" />
</div></blockquote>
<ol class="arabic simple" start="11">
<li><p>Wir wählen den Layer <cite>SA_NLC_2018_Clipped</cite> aus und benutzen das Werkzeug <span class="guilabel">Objekte abfragen</span> aus der <span class="guilabel">Attributwerkzeugleiste</span>, um über einen Klick auf das Bild die Werte des entsprechenden Pixels prüfen zu können. Es ist ersichtlich, dass die Pixel Werte zwischen 1 und 73 besitzen. Diese Werte repräsentieren jeweils eine Klasse der Landnutzung/Landbedeckung.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/111.png" class="align-center" src="../../_images/111.png" />
</div></blockquote>
<ol class="arabic simple" start="12">
<li><p>Die Klassen in diesem Datensatz sind in <code class="docutils literal notranslate"><span class="pre">SANLC</span> <span class="pre">2018</span> <span class="pre">Presentation</span></code> beschrieben, was über das <a class="reference external" href="https://egis.environment.gov.za/sa_national_land_cover_datasets">EGIS Portal</a> abgerufen werden kann. Für diese Übung interessieren wir uns für die <em>informellen Siedlungen</em>, welche durch die Klassen 51 bis 54 repräsentiert sind.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/121.png" class="align-center" src="../../_images/121.png" />
</div></blockquote>
<ol class="arabic simple" start="13">
<li><p>Wir werden nun die Pixel extrahieren, welche zu diesen Klassen gehören. Wir wählen in den <span class="guilabel">Verarbeitungswerkzeugen</span> das Werkzeug <span class="guilabel">Rasteranalyse –&gt; Rasterrechner</span> und öffnen es per Doppelklick.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/13.png" class="align-center" src="../../_images/13.png" />
</div></blockquote>
<ol class="arabic simple" start="14">
<li><p>Die Bildquelle umfasst lediglich 1 Spektralband. Das Suffix <code class="docutils literal notranslate"><span class="pre">&#64;1</span></code> bezieht sich auf die Nummer des Spektralbandes. Wir geben den folgenden Ausdruck ein, um die Pixel der Klassen 51-54 zu extrahieren.</p></li>
</ol>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;SA_NLC_2018_Clipped@1&quot; &gt;= 51 AND &quot;SA_NLC_2018_Clipped@1&quot; &lt;= 54
</pre></div>
</div>
<img alt="../../_images/14.png" class="align-center" src="../../_images/14.png" />
</div></blockquote>
<ol class="arabic simple" start="15">
<li><p>Wir scrollen soweit herunter, dass wir den Button <code class="docutils literal notranslate"><span class="pre">...</span></code> neben dem Eingabefeld <span class="guilabel">Referenzlayer</span> wählen können. Im Dialog wählen wir den Layer <code class="docutils literal notranslate"><span class="pre">SA_NLC_2018_Clipped</span></code> und klicken <span class="guilabel">OK</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/15.png" class="align-center" src="../../_images/15.png" />
</div></blockquote>
<ol class="arabic simple" start="16">
<li><p>Wir klicken auf den Button <span class="guilabel">…</span> neben <span class="guilabel">Berechnet</span> und wählen <span class="guilabel">In Datei speichern…</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/16.png" class="align-center" src="../../_images/16.png" />
</div></blockquote>
<ol class="arabic simple" start="17">
<li><p>Die Ausgabedatei nennen wir <code class="docutils literal notranslate"><span class="pre">residential_informal.tif</span></code> und klicken <span class="guilabel">Starte</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/17.png" class="align-center" src="../../_images/17.png" />
</div></blockquote>
<ol class="arabic simple" start="18">
<li><p>Nach Abschluss der Verarbeitung wird ein neuer Layer <code class="docutils literal notranslate"><span class="pre">residential_informal</span></code> hinzugefügt. Die Pixel dieses Raster-Layers haben nur zwei Werte: <code class="docutils literal notranslate"><span class="pre">1</span></code> für die auf den eingegebenen Ausdruck bezogen mit <em>wahr</em> gekennzeichneten Pixel und <code class="docutils literal notranslate"><span class="pre">0</span></code> für die Pixel, in denen der Ausdruck mit <em>falsch</em> ausgewertet wurde. Die weiß erscheinenden Pixel gehören zu den Klassen der informellen Siedlungen. Wir werden die Darstellung dieses Layers so verändern, dass wir die informellen Siedlungen klar erkennen können. Dazu klicken wir auf den Button <span class="guilabel">Layergestaltungsfenster öffnen</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/18.png" class="align-center" src="../../_images/18.png" />
</div></blockquote>
<ol class="arabic simple" start="19">
<li><p>Wir wählen <code class="docutils literal notranslate"><span class="pre">residential_informal</span></code> als zu bearbeitenden Layer und ändern die Darstellung auf <span class="guilabel">Paletten-/Eindeutige Werte</span>. Wir klicken auf den Button <span class="guilabel">Werte manuell hinzufügen</span> (+).</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/19.png" class="align-center" src="../../_images/19.png" />
</div></blockquote>
<ol class="arabic simple" start="20">
<li><p>Wir ändern den <span class="guilabel">Wert</span> auf <code class="docutils literal notranslate"><span class="pre">1</span></code> und geben <code class="docutils literal notranslate"><span class="pre">Informelle</span> <span class="pre">Siedlung</span></code> als <span class="guilabel">Beschriftung</span> ein. Die Farbe können wir beliebig wählen.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/20.png" class="align-center" src="../../_images/20.png" />
</div></blockquote>
<ol class="arabic simple" start="21">
<li><p>Nun sind alle informellen Siedlungen von Johannesburg dargestellt. Es wäre hilfreich, sie im Zusammenhang mit einer Basiskarte darzustellen. Mithilfe der Erweiterung <span class="guilabel">QuickMapServices</span> haben wir Zugriff auf eine Vielzahl von Basiskarten. Nach der Installation der Erweiterung wählen wir <span class="menuselection">Web ‣ QuickMapServices ‣ OSM ‣ OSM Standard</span>, um den OpenStreetMap-Layer hinzuzufügen.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/21.png" class="align-center" src="../../_images/21.png" />
</div></blockquote>
<ol class="arabic simple" start="22">
<li><p>Nun können wir leicht ermitteln, ob unsere Analyse die informellen Siedlungen korrekt ermittelt hat. Wir wählen den Layer <code class="docutils literal notranslate"><span class="pre">residential_informal</span></code> und wechseln im Layergestaltungsfenster zum Bereich <span class="guilabel">Transparenz</span>. Wir können die <span class="guilabel">Globale Deckkraft</span> reduzieren, sodass sowhl die extrahierten Pixel als auch die Basis-Karte zu sehen sind.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/22.png" class="align-center" src="../../_images/22.png" />
</div></blockquote>
<ol class="arabic simple" start="23">
<li><p>Der erste Teil des Tutorials ist nun bearbeitet. Im Folgenden werden wir den Raster-Layer <code class="docutils literal notranslate"><span class="pre">SA_NLC_2014_2018_CHANGE_Clipped</span></code> benutzen, um die Regionen zu identifizieren, die zwischen 2014 und 2018 urbanisiert wurden. Wir schalten die Sichtbarkeit aller Layer außer <code class="docutils literal notranslate"><span class="pre">SA_NLC_2014_2018_CHANGE_Clipped</span></code> aus und klicken dann auf den Button <span class="guilabel">Layergestaltungsfenster öffnen</span>. Wir wechseln in den Bereich <span class="guilabel">Transparenz</span> und geben <code class="docutils literal notranslate"><span class="pre">0</span></code> bei <span class="guilabel">Zusätzlicher Leerwert</span> ein. Das wird alle Pixel mit dem Wert 0 transparent schalten.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/23.png" class="align-center" src="../../_images/23.png" />
</div></blockquote>
<ol class="arabic simple" start="24">
<li><p>Wir verwenden das Werkzeug <span class="guilabel">Objekte abfragen</span> in der <span class="guilabel">Attributwerkzeugleiste</span>, um an verschiedenen Stellen auf das Bild zu klicken und die Pixelwerte zu erkunden. Die Werte variieren zwischen 21 und 420. Jeder Wert repräsentiert die Veränderung von einer der ursprünglichen 73 Klassen zu einer anderen.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/24.png" class="align-center" src="../../_images/24.png" />
</div></blockquote>
<ol class="arabic simple" start="25">
<li><p>Die aus der Originalquelle heruntergeladenen Daten enthalten eine Datei <code class="docutils literal notranslate"><span class="pre">lcccodes.xlsx</span></code>. Diese Datei enthält ein Datenblatt <strong>03 urban_change_codes</strong>, das mehr Details zu jedem Pixelwert enthält. Wir interessieren uns für alle Pixelwerte, in denen irgendeine 2014 ermittelte Klasse sich 2018 in eine Klasse mit Bebauung gewandelt hat. Im unten gezeigten Bild sind diese Pixel blau hervorgehoben.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/25.png" class="align-center" src="../../_images/25.png" />
</div></blockquote>
<ol class="arabic simple" start="26">
<li><p>Unser Ziel ist die Darstellung der Änderungen in der Klasse für Bebauung. Wir werden eine Transformation auf den Layer <code class="docutils literal notranslate"><span class="pre">SA_NLC_2014_2018_CHANGE_Clipped</span></code> anwenden, sodass alle Pixelwerte dargestellt werden, die von ihren Originalwerten in einen der folgenden Werte geändert wurden.</p></li>
</ol>
<table class="docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 83.3%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Alle Pixel, die sowohl 2014 als auch 2018 eine Klasse der Bebauung darstellten</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">2</span></code></p></td>
<td><p>Alle Pixel, in denen sich die Klasse von unbebaut in in 2014 zu bebaut in 2018 geändert hat</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p>Alle übrigen Pixel</p></td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="27">
<li><p>Um dies zu erreichen, müssen wir eine Tabelle erstellen, welche diese Regeln abbildet. Da QGIS Tabellenkalkulationsdateien direkt verarbeiten kann, besteht die günstigste Methode darin, sie direkt zu erstellen. Unsere Tabelle soll 3 Spalten enthalten, <code class="docutils literal notranslate"><span class="pre">MIN</span></code>, <code class="docutils literal notranslate"><span class="pre">MAX</span></code> und <code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code>. Jede Zeile soll den Wertebereich der Eingabedaten enthalten, der auf einen Ausgabewert abgebildet wird. Wir erzeugen die Tabelle wie unten dargestellt und speichern sie als <code class="docutils literal notranslate"><span class="pre">reclass.xlsx</span></code> im Dateiverzeichnis. Eine sofort nutzbare Tabelle kann auch über den folgenden Link heruntergeladen werden - <a class="reference external" href="https://www.qgistutorials.com/downloads/reclass.xlsx">reclass.xlsx</a></p></li>
</ol>
<blockquote>
<div><img alt="../../_images/27.png" class="align-center" src="../../_images/27.png" />
</div></blockquote>
<ol class="arabic simple" start="28">
<li><p>Wir suchen die Datei <code class="docutils literal notranslate"><span class="pre">reclass.xlsx</span></code> im <span class="guilabel">Browser</span> und fügen sie per Drag &amp; Drop in den Arbeitsbereich ein.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/28.png" class="align-center" src="../../_images/28.png" />
</div></blockquote>
<ol class="arabic simple" start="29">
<li><p>Im <span class="guilabel">Layer</span>-Bereich wird ein neuer Layer <code class="docutils literal notranslate"><span class="pre">Sheet1</span></code> hinzugefügt. Per Rechtsklick öffnen wir das Kontextmenü und wählen <span class="guilabel">Attributtabelle öffnen</span>. Wir prüfen, ob die Tabelle korrekt importiert wurde und die 3 Spalten <code class="docutils literal notranslate"><span class="pre">MIN</span></code>, <code class="docutils literal notranslate"><span class="pre">MAX</span></code> und <code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code> enthält. Wir öffnen das Werkzeug <span class="menuselection">Verarbeitungswerkzeuge ‣ Rasteranalyse ‣ Nach Layer neuklassifizieren</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/29.png" class="align-center" src="../../_images/29.png" />
</div></blockquote>
<ol class="arabic simple" start="30">
<li><p>Im Dialog <span class="guilabel">Nach Layer neuklassifizieren</span> wählen wir <code class="docutils literal notranslate"><span class="pre">SA_NLC_2014_2018_CHANGE_Clipped</span></code> als <span class="guilabel">Rasterlayer</span>. Wir wählen <code class="docutils literal notranslate"><span class="pre">Sheet1</span></code> als <span class="guilabel">Layer mit Klassengrenzen</span> und die Felder <code class="docutils literal notranslate"><span class="pre">MIN</span></code>, <code class="docutils literal notranslate"><span class="pre">MAX</span></code> und <code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code> für die entsprechenden Werte <code class="docutils literal notranslate"><span class="pre">mit</span> <span class="pre">minimalem</span> <span class="pre">Klassenwert</span></code>, <code class="docutils literal notranslate"><span class="pre">mit</span> <span class="pre">maximalem</span> <span class="pre">Klassenwert</span></code> und als <code class="docutils literal notranslate"><span class="pre">Ausgabewertfeld</span></code>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/30.png" class="align-center" src="../../_images/30.png" />
</div></blockquote>
<ol class="arabic simple" start="31">
<li><p>Wir erweitern den Bereich <span class="guilabel">Fortgeschrittene Parameter</span> und ändern die <span class="guilabel">Bereichsgrenzen</span> in <code class="docutils literal notranslate"><span class="pre">min</span> <span class="pre">&lt;=</span> <span class="pre">Wert</span> <span class="pre">&lt;=</span> <span class="pre">max</span></code>. Mithilfe des Buttons <span class="guilabel">…</span> neben <span class="guilabel">Neuklassifiziertes Raster</span> geben wir als Namen für die Ausgabedatei <code class="docutils literal notranslate"><span class="pre">builtup_change.tif</span></code> ein. Wir klicken auf <span class="guilabel">Starte</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/31.png" class="align-center" src="../../_images/31.png" />
</div></blockquote>
<ol class="arabic simple" start="32">
<li><p>Nach Abschluss der Verarbeitung wird ein neuer Layer <code class="docutils literal notranslate"><span class="pre">builtup_change</span></code> mit Pixelwerten <code class="docutils literal notranslate"><span class="pre">0-2</span></code> zum Arbeitsbereich hinzugefügt. Im <span class="guilabel">Layergestaltungsfenster</span> wählen wir <code class="docutils literal notranslate"><span class="pre">Paletten-/Eindeutige</span> <span class="pre">Werte</span></code> und klicken dann auf <span class="guilabel">Klassifizieren</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/32.png" class="align-center" src="../../_images/32.png" />
</div></blockquote>
<ol class="arabic simple" start="33">
<li><p>Für jede Kategorie kann eine beliebige Farbe gewählt werden. Außerdem sollten wir die Beschriftungen für die Werte <code class="docutils literal notranslate"><span class="pre">0</span></code>, <code class="docutils literal notranslate"><span class="pre">1</span></code>  und <code class="docutils literal notranslate"><span class="pre">2</span></code> auf <code class="docutils literal notranslate"><span class="pre">Unbebaut</span></code>, <code class="docutils literal notranslate"><span class="pre">Vorhandene</span> <span class="pre">Bebauung</span></code> und <code class="docutils literal notranslate"><span class="pre">Neue</span> <span class="pre">Bebauung</span></code> ändern.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/33.png" class="align-center" src="../../_images/33.png" />
</div></blockquote>
<ol class="arabic simple" start="34">
<li><p>Schließlich verringern wir im Bereich <span class="guilabel">Transparenz</span> die <span class="guilabel">Globale Deckkraft</span> und schalten die Sichtbarkeit des Layers <code class="docutils literal notranslate"><span class="pre">OSM</span> <span class="pre">Standard</span></code> an, um sowohl die Pixel mit den Änderungen in der Bebauung als auch die Basis-Karte sehen zu können.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/34.png" class="align-center" src="../../_images/34.png" />
</div></blockquote>
</section>
</section>





  <!-- Comment Section Powered by utterances -->
<div id="comments">
  <hr />
  <p>If you want to give feedback or share your experience with this tutorial, please comment below. (requires GitHub account)</p>
<script src="https://utteranc.es/client.js"
        repo="spatialthoughts/qgis-tutorials"
        issue-term="title"
        label="comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2023, Ujaval Gandhi.<br/>
      Zuletzt aktualisiert am Juni 09, 2024.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.2.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/3/advanced_raster_analysis.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>