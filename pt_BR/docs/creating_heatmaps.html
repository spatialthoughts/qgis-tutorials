<!DOCTYPE html>

<html lang="pt_BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Criando Mapas de Calor &#8212; QGIS Tutorials and Tips</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="search" title="Buscar" href="../search.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js "></script>


<!-- Cookie Notice -->
<!-- Script from https://github.com/AOEpeople/cookie-notice -->
<script type="text/javascript" src="../_static/cookie.notice.min.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1WQ7B80XJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B1WQ7B80XJ');
</script>


  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><span><img src="../_static/logo.png"></span>
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introdução</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/making_a_map.html">Elaborando um Mapa (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_attributes.html">Working with Attributes (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/importing_spreadsheets_csv.html">Importando planilhas ou arquivos .CSV (QGIS 3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_vector_styling.html">Estilo Vetorial Básico (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_line_lengths.html">Calculating Line Lengths and Statistics (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_styling_and_analysis.html">Basic Raster Styling and Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_mosaicing_and_clipping.html">Raster Mosaicing and Clipping (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_terrain.html">Working with Terrain Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_wms.html">Working with WMS Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_projections.html">Working with Projections (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/georeferencing_basics.html">Georeferencing Topo Sheets and Scanned Maps (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/advanced_georeferencing.html">Georreferenciamento de imagens aéreas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/digitizing_basics.html">Digitizing Map Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_table_joins.html">Performing Table Joins (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_joins.html">Performing Spatial Joins (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_queries.html">Performing Spatial Queries (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/nearest_neighbor_analysis.html">Nearest Neighbor Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/sampling_raster_data.html">Sampling Raster Data using Points or Polygons (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_raster_area.html">Calculating Raster Area (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/creating_heatmaps.html">Creating Heatmaps (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/animating_time_series.html">Animating Time Series Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/handling_invalid_geometries.html">Handling Invalid Geometries (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/advanced_raster_analysis.html">Advanced Raster Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/interpolating_point_data.html">Interpolating Point Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_intersection_density.html">Calculating Street Intersection Density (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/batch_processing.html">Batch Processing using Processing Framework (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_graphical_modeler.html">Automating Complex Workflows using Processing Modeler (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/automating_map_creation.html">Automating Map Creation with Print Layout Atlas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/multi_criteria_overlay.html">Análise de sobreposição de múltiplos critérios (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_network_analysis.html">Basic Network Visualization and Routing (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/origin_destination_matrix.html">Locating Nearest Facility with Origin-Destination Matrix (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/service_area_analysis.html">Service Area Analysis using Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/travel_time_analysis.html">Travel Time Analysis with Uber Movement (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/areal_mean_rainfall.html">Calculating Areal Mean Rainfall (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/getting_started_with_pyqgis.html">Getting Started With Python Programming (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_algorithms_pyqgis.html">Running Processing Algorithms via Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/custom_python_functions.html">Using Custom Python Expression Functions (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_scripts.html">Escrever Scripts de Python para o Framework do Processing (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/building_a_python_plugin.html">Construindo um complemento com Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_plugin.html">Building a Processing Plugin (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_qgis_jobs.html">Running and Scheduling QGIS Processing Jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/web_mapping_with_qgis2web.html">Web Mapping with QGIS2Web (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_basemaps_with_qtiles.html">Criando Mapas Base utilizando QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/using_plugins.html">Using Plugins (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloading_osm_data.html">Searching and Downloading OpenStreetMap Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="learning_resources.html">QGIS Learning Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Créditos</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Batch Processing using Processing Framework (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>
<hr>
<p>Want to learn QGIS in a structured way? Check out <a href="https://spatialthoughts.com/" target="_blank">Spatial Thoughts</a> for more learning materials and instructor-led online programs with QGIS.org certification.</p>


<h4>Change Language</h4>
<form role="form" class="sidebar-form sidebar-left">
<select id="languages" class="form-control select-mini">
  <option value="en">English</option>
  <option value="zh_TW">Chinese (Taiwan)</option>
  <option value="nl">Dutch</option>
  <option value="fi_FI">Finnish</option>
  <option value="fr">French</option>
  <option value="de">German</option>
  <option value="el">Greek</option>
  <option value="id">Indonesian</option>
  <option value="it">Italian</option>
  <option value="ko">Korean</option>
  <option value="fa">Persian</option>
  <option value="pt_BR">Portuguese</option>
  <option value="ro">Romanian</option>
  <option value="ru">Russian</option>
  <option value="sl">Slovenian</option>
  <option value="es">Spanish</option>
  <option value="th">Thai</option>
  <option value="tr">Turkish</option>
  <option value="uk">Ukrainian</option>
  <option value="vi">Vietnamese</option>
</select>
</form>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      

  <section id="creating-heatmaps">
<h1>Criando Mapas de Calor<a class="headerlink" href="#creating-heatmaps" title="Link permanente para este título">¶</a></h1>
<div class="admonition warning">
<p class="admonition-title">Aviso</p>
<p>This tutorial is now obsolete. A new and updated version is available at <a class="reference internal" href="3/creating_heatmaps.html"><span class="doc">Creating Heatmaps (QGIS3)</span></a></p>
</div>
<p>Mapas de calor são uma das melhores ferramentas de visualização de dados de densidade de pontos. Mapas de calor são utilizados para identificar facilmente aglomerados e encontrar onde existe uma elevada concentração de uma determinada atividade. eles também são úteis para fazer <cite>análises de cluster</cite> ou <cite>análise de pontos de calor  - hotspot analysis -</cite></p>
<section id="overview-of-the-task">
<h2>Visão geral da tarefa<a class="headerlink" href="#overview-of-the-task" title="Link permanente para este título">¶</a></h2>
<p>Vamos trabalhar com um conjunto de dados dos locais de crimes em Surrey, Reino Unido para o ano de 2011 e encontrar hotspots de criminalidade no município.</p>
<section id="other-skills-you-will-learn">
<h3>Habilidades para aprender<a class="headerlink" href="#other-skills-you-will-learn" title="Link permanente para este título">¶</a></h3>
<ul class="simple">
<li><p>Como realizar zonas quentes ou analises de agrupamentos a partir de pontos</p></li>
</ul>
</section>
</section>
<section id="get-the-data">
<h2>Obter os dados<a class="headerlink" href="#get-the-data" title="Link permanente para este título">¶</a></h2>
<p><a class="reference external" href="https://data.police.uk">data.police.uk</a> provides street-level crime,
outcome, and stop and search data in simple CSV format.</p>
<p>Baixe os dados ‘Surrey Police &lt;<a class="reference external" href="https://data.police.uk/data/">https://data.police.uk/data/</a>&gt;’, descompacte o arquivo para extrair o arquivo CSV</p>
<p>Por conveniência, você pode baixar o arquivo dos dados diretamente do caminho abaixo:</p>
<p><a class="reference external" href="http://www.qgistutorials.com/downloads/2015-08-surrey-street.csv">2015-08-surrey-street.csv</a></p>
<p>Fonte de dados <a class="reference internal" href="credits.html#policeuk" id="id1"><span>[POLICEUK]</span></a></p>
</section>
<section id="procedure">
<h2>Procedimento<a class="headerlink" href="#procedure" title="Link permanente para este título">¶</a></h2>
<ol class="arabic simple">
<li><p>Inicie importando o arquivo CSV para o QGIS.  (visualize o procedimento em:doc:<cite>importing_spreadsheets_csv</cite>. for more details). O Caminho para realizar isso é: Camada –&gt;  Adicionar Texto Delimitado.</p></li>
</ol>
<img alt="../_images/1162.png" class="align-center" src="../_images/1162.png" />
<ol class="arabic simple" start="2">
<li><p>Procure o arquivo <code class="docutils literal notranslate"><span class="pre">2015-08-surrey-street.csv</span></code> no seu computador e abrá-o. (Esse nome pode ser diferente se você baixou um arquivo mais atual). Selecione guilabel:<cite>CSV (separado por virgula)</cite> como o formato do arquivo. Você verá “Longitude” e “Latitude” e automaticamente os campos X  e Y serão escolhidos respectivamente, como coordenadas. Esteja certo que você selecionou a opção:guilabel:<cite>Adicione índice espacial</cite>. Isso irá melhorar a performace do manuseio da camada. Aperte <span class="guilabel">OK</span>.</p></li>
</ol>
<img alt="../_images/2133.png" class="align-center" src="../_images/2133.png" />
<ol class="arabic simple" start="3">
<li><p>Você pode ver alguns erros. Pode ignorá-los para os fins do presente tutorial. Click <span class="guilabel">Fechar</span>.</p></li>
</ol>
<img alt="../_images/365.png" class="align-center" src="../_images/365.png" />
<ol class="arabic simple" start="4">
<li><p>Após carregar o arquivo no QGIS será aberta uma janela para que você informe qual o datum da camada a ser criada:guilabel:<cite>Se o CRS ficar indefinida: por padrão aplicar-se-á o CRS EPSG:4326 - WGS84</cite> se o seu dado estiver em Coordenada Geográfica. Caso esteja com coordenadas planas, será necessário definir o datum para a camada através da janela de diálogo. Como nosso dado esta em EPSG:4326 podesse ignorar a menssagem de alerta.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Se for necessário modificar o datum da camada é possível redefinir o sistema de referência espacial:  <span class="menuselection">Vector ‣ Data Management Tols ‣ Define Current Projection…</span>.</p>
</div>
<img alt="../_images/442.png" class="align-center" src="../_images/442.png" />
<ol class="arabic simple" start="5">
<li><p>Aproxime um pouco mais para obter uma melhor visualização dos dados. Você vai notar que há uma grande densidade de dados e é difícil ter uma ideia de onde há uma grande concentração de pontos. É nessas situações que o mapa de calor vai ser muito útil.</p></li>
</ol>
<img alt="../_images/539.png" class="align-center" src="../_images/539.png" />
<ol class="arabic simple" start="6">
<li><p>Se for necessário criar um analise de zonas quentes simplesmente para visualização, é possível construir isso através da simbologia da camada <span class="guilabel">Heatmap</span>. Vamos tentar isso. Click com o botão direito do mouse na camada carregada <code class="docutils literal notranslate"><span class="pre">2015-08-surrey-street</span></code>  e selecione <span class="guilabel">Properties</span>.</p></li>
</ol>
<img alt="../_images/637.png" class="align-center" src="../_images/637.png" />
<ol class="arabic simple" start="7">
<li><p>No <span class="guilabel">Properties</span> acesse a aba <span class="guilabel">Style</span>. Selecione <span class="guilabel">Heatmap</span>. Terá várias possibilidades paletas de cores para que possa escolher. Experimente aquela que trará melhor representação para os seus dados. Escolha “Orange” na paleta de cores. Deixe os parametros como padrão e click em: <cite>OK</cite>.</p></li>
</ol>
<img alt="../_images/737.png" class="align-center" src="../_images/737.png" />
<ol class="arabic simple" start="8">
<li><p>Como resultado você vera um elegante mapa de zonas quentes onde regiões com maior consentração de ocorrência de crimes é mais frequente (maior número de pontos) e que será sobresaltada na camara gerada. Existe algumas opções disponíveis para apresentar uma visualização apriopriada do ser conjuto de dados. Se você desejar, somente, uma mapa de zonas quentes para visualização somente, então esta feito. Mas você poderá explorar seu mapa de zonas quentes e o resultado obtido para suas análises também</p></li>
</ol>
<img alt="../_images/836.png" class="align-center" src="../_images/836.png" />
<ol class="arabic simple" start="9">
<li><p>Para a segunda possibilidade de tratar seu dado nas suas análises, abilite o plugin chamado de <code class="docutils literal notranslate"><span class="pre">Heatmap</span></code>. See <a class="reference internal" href="using_plugins.html"><span class="doc">Using Plugins</span></a>. Uma vez habilitado o plugin vá para:menuselection:<cite>Raster –&gt; Heatmap –&gt; Heatmap</cite>.</p></li>
</ol>
<img alt="../_images/937.png" class="align-center" src="../_images/937.png" />
<ol class="arabic simple" start="10">
<li><p>Em <span class="guilabel">Heatmap Plugin</span> escolha <code class="docutils literal notranslate"><span class="pre">crime_heatmap``como</span> <span class="pre">o</span> <span class="pre">nome</span> <span class="pre">do</span> <span class="pre">output</span> <span class="pre">da</span> <span class="pre">camada</span> <span class="pre">a</span> <span class="pre">ser</span> <span class="pre">gerada.</span> <span class="pre">Defina</span> <span class="pre">isso</span> <span class="pre">em:guilabel:`Output</span> <span class="pre">raster`.</span> <span class="pre">Entre</span> <span class="pre">com</span> <span class="pre">1000`</span> <span class="pre">metros</span> <span class="pre">em</span> <span class="pre">:guilabel:`Radius`.</span> <span class="pre">Raio</span> <span class="pre">é</span> <span class="pre">a</span> <span class="pre">area</span> <span class="pre">ao</span> <span class="pre">redor</span> <span class="pre">do</span> <span class="pre">qual</span> <span class="pre">será</span> <span class="pre">calculado</span> <span class="pre">o</span> <span class="pre">pixel</span> <span class="pre">de</span> <span class="pre">interesse.</span> <span class="pre">Confira</span> <span class="pre">:guilabel:`Advanced`</span> <span class="pre">onde</span> <span class="pre">você</span> <span class="pre">pode</span> <span class="pre">definir</span> <span class="pre">o</span> <span class="pre">tamanho</span> <span class="pre">do</span> <span class="pre">pixel</span> <span class="pre">do</span> <span class="pre">raster</span> <span class="pre">produzido.</span> <span class="pre">Entre</span> <span class="pre">com</span> <span class="pre">``2000</span></code> . em <span class="guilabel">Rows</span> para o número de linhas do raster. O campo  <span class="guilabel">Columns</span> será preenchido automaticamente. Click em <span class="guilabel">OK</span> para iniciar o processamento do mapa zonas quentes.</p></li>
</ol>
<img alt="../_images/1044.png" class="align-center" src="../_images/1044.png" />
<ol class="arabic simple" start="11">
<li><p>Um vez o processamento finalizado, você verá uma imagens em tons de cinzas nomeada como <code class="docutils literal notranslate"><span class="pre">crime_heatmap</span></code> e adicionada ao canvas do projeto. Desative a camada <code class="docutils literal notranslate"><span class="pre">2015-08-surrey-street</span></code>.</p></li>
</ol>
<img alt="../_images/1163.png" class="align-center" src="../_images/1163.png" />
<ol class="arabic simple" start="12">
<li><p>Vamos tornar o mapa de zonas de calor mais atraentes e representado de maneira mais proxima com o que fizemos anteriormente. Click no botão direito do mouse e acesse <span class="guilabel">Properties</span>.</p></li>
</ol>
<img alt="../_images/1246.png" class="align-center" src="../_images/1246.png" />
<ol class="arabic simple" start="13">
<li><p>Na guia <span class="guilabel">Style</span> selecione <span class="guilabel">Singleband pseudocolor</span>, em <span class="guilabel">Render type</span>. Posteriormente, defina <span class="guilabel">Load min/max values</span>, selecione <span class="guilabel">Estimate (faster)</span>,  <span class="guilabel">Accuracy</span> e aperte em <span class="guilabel">Load</span>. Isso verificará o mapa de zonas de calor para encontrar os valores máximos e mínimos  dos pixels. Estes valores serão utilizados para produzir um paleta de cores mais apropriada. Na seção  <span class="guilabel">Generate new color map</span> selecione <span class="guilabel">YlOrRd</span> (Yellow-Orange-Red)  como a paleta de cores, click em  <span class="guilabel">Classify</span>. Click em:guilabel:<cite>OK</cite>.</p></li>
</ol>
<img alt="../_images/1344.png" class="align-center" src="../_images/1344.png" />
<ol class="arabic simple" start="14">
<li><p>Agora você vera com maior detalhes o mapa de zonas quentes representado uma camada. Você podera utilizar o <span class="guilabel">Identify</span> para acessar os valores estimados pelo kernel. Verá os valores como em pop-ups. Estes valores de pixels esta dizendo quantos pontos houveram na fonte de dados (pontos) no raio definido na análise (no nosso casso 1000 metros) ao redor do pixel medido.</p></li>
</ol>
<img alt="../_images/1441.png" class="align-center" src="../_images/1441.png" />
<ol class="arabic simple" start="15">
<li><p>Now you have your heatmap layer that can be saved for future use. Many
times, you want to identify the hotspots where there is
high-concentration of points. We will now try to identify such hotspots
using this heatmap. Go to <span class="menuselection">Raster ‣ Raster Calculator</span>.</p></li>
</ol>
<img alt="../_images/1539.png" class="align-center" src="../_images/1539.png" />
<ol class="arabic simple" start="16">
<li><p>Primeiramente, precisará decidir sobre o valor limite das ocorrências em cada pixel. Todos os pixels acima desse valor será considerado um conjunto de dados. Vamos utilizar, como exemplo, o valor “10” para este primeiro dado. Na caixa de dialogo  <span class="guilabel">Raster calculator</span>,  defina o nome do arquivo de saída como <code class="docutils literal notranslate"><span class="pre">crime_hotspots_vector</span></code>. Dê duplo click em <code class="docutils literal notranslate"><span class="pre">crime_heatmap&#64;1</span></code> debaixo de  <span class="guilabel">Raster bands</span>  seção e será adicionado <span class="guilabel">Raster calculator expression</span> a expressão textarea. Complete a expressao como apresentado abaixo. Confira a próxima caixa <span class="guilabel">Add result to project</span> e click em <span class="guilabel">OK</span>.</p></li>
</ol>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;crime_heatmap@1&quot; &gt; 10
</pre></div>
</div>
<img alt="../_images/1637.png" class="align-center" src="../_images/1637.png" />
<ol class="arabic simple" start="17">
<li><p>A nova camada chamada de <code class="docutils literal notranslate"><span class="pre">crime_hotspots</span></code> será adicionada no Qgis. Esta camada possui pixels com valores entre 0 e 1. Todos as camadas de entrada onde os calores dos pixels são maiores do que “10” apresentaram valores 1 e todo o restante dos pixels terão valores 0. Click em  <span class="menuselection">Raster ‣ Conversion ‣ Polygonize (Raster to Vector)</span>.</p></li>
</ol>
<img alt="../_images/1734.png" class="align-center" src="../_images/1734.png" />
<ol class="arabic simple" start="18">
<li><p>Name the output file as <code class="docutils literal notranslate"><span class="pre">crime_hotspots_vector</span></code>. Check the box
next to <span class="guilabel">Field name</span> as well as <span class="guilabel">Load into canvas when
finished</span>. Click <span class="guilabel">OK</span>.</p></li>
</ol>
<img alt="../_images/1832.png" class="align-center" src="../_images/1832.png" />
<ol class="arabic simple" start="19">
<li><p>Once the conversion finishes, you will have yet another layer named
<code class="docutils literal notranslate"><span class="pre">crime_hotspots_vector</span></code> added to QGIS. This is the vector representation
of the clusters that were created in the previous step. The layers contain
clusters with both 0 and 1 values.  Let’s filter out the 0 values, so we
get the clusters of hotspots.  Right-click on the layer and select
<span class="guilabel">Open Attribute Table</span>.</p></li>
</ol>
<img alt="../_images/1924.png" class="align-center" src="../_images/1924.png" />
<ol class="arabic simple" start="20">
<li><p>In the <span class="guilabel">Attribute table</span>, click on <span class="guilabel">Select feature
using an expression</span>.</p></li>
</ol>
<img alt="../_images/2020.png" class="align-center" src="../_images/2020.png" />
<ol class="arabic simple" start="21">
<li><p>Enter the expression as shown below and click <span class="guilabel">Select</span>. Next,
click on <span class="guilabel">Close</span>.</p></li>
</ol>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;DN&quot; = 0
</pre></div>
</div>
<img alt="../_images/2134.png" class="align-center" src="../_images/2134.png" />
<ol class="arabic simple" start="22">
<li><p>In the main attribute table window, you will see some features highlighted.
These are the features that matched our query. Click the <span class="guilabel">Toggle
editing mode</span> button in the toolbar and then click the <span class="guilabel">Delete
selected features (DEL)</span> button.</p></li>
</ol>
<img alt="../_images/2222.png" class="align-center" src="../_images/2222.png" />
<ol class="arabic simple" start="23">
<li><p>Once the selected features are deleted, click the <span class="guilabel">Save Edits</span>
button and then <span class="guilabel">Toggle editing mode</span> again to put the layer in
read-only mode. Close the attribute table window.</p></li>
</ol>
<img alt="../_images/2320.png" class="align-center" src="../_images/2320.png" />
<ol class="arabic simple" start="24">
<li><p>In the main QGIS window, un-check the <code class="docutils literal notranslate"><span class="pre">crime_hotspots</span></code> layer. The final
layer <code class="docutils literal notranslate"><span class="pre">crime_hotspots_vector</span></code> contains the cluster extracted from the
heatmap. These clusters are the <em>intelligence</em> gathered from the raw data
and  can provide useful insights as well as serve as an input for further
action.</p></li>
</ol>
<img alt="../_images/2420.png" class="align-center" src="../_images/2420.png" />
</section>
</section>





  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2021, Ujaval Gandhi.<br/>
      Última atualização em ago. 30, 2022.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.0.1.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/creating_heatmaps.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>