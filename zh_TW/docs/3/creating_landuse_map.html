<!DOCTYPE html>

<html lang="zh_TW">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Creating a Landuse Map (QGIS3) &#8212; QGIS Tutorials and Tips</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/translations.js"></script>
    <link rel="search" title="搜尋" href="../../search.html" />
    <link rel="next" title="Calculating Street Intersection Density (QGIS3)" href="calculating_intersection_density.html" />
    <link rel="prev" title="Calculating Areal Mean Rainfall (QGIS3)" href="areal_mean_rainfall.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>


<!-- Cookie Notice -->
<!-- Script from https://github.com/AOEpeople/cookie-notice -->
<script type="text/javascript" src="../../_static/cookie.notice.min.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1WQ7B80XJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B1WQ7B80XJ');
</script>


  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">簡介</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">製作地圖 (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_attributes.html">Working with Attributes (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">匯入工作表或 CSV 檔 (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Basic Vector Styling (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_line_lengths.html">Calculating Line Lengths and Statistics (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Basic Raster Styling and Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Raster Mosaicing and Clipping (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Working with Terrain Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">Working with WMS Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_projections.html">Working with Projections (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">為紙本地圖進行空間對位 (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">為空照圖進行空間對位 (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">Digitizing Map Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins.html">資料表連接 (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_joins.html">空間連接 (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Performing Spatial Queries (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="nearest_neighbor_analysis.html">Nearest Neighbor Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_raster_data.html">Sampling Raster Data using Points or Polygons (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_raster_area.html">Calculating Raster Area (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_heatmaps.html">製作熱區圖 (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="animating_time_series.html">Animating Time Series Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="handling_invalid_geometries.html">Handling Invalid Geometries (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_raster_analysis.html">Advanced Raster Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolating_point_data.html">Interpolating Point Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">使用處理框架進行批次處理 (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_graphical_modeler.html">利用處理建模自動執行複雜的工作流程 (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="automating_map_creation.html">Automating Map Creation with Print Layout Atlas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="multi_criteria_overlay.html">Multi Criteria Overlay Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_network_analysis.html">Basic Network Visualization and Routing (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="origin_destination_matrix.html">Locating Nearest Facility with Origin-Destination Matrix (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="service_area_analysis.html">Service Area Analysis using Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="travel_time_analysis.html">Travel Time Analysis with Uber Movement (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="areal_mean_rainfall.html">Calculating Areal Mean Rainfall (QGIS3)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Creating a Landuse Map (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_intersection_density.html">Calculating Street Intersection Density (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_with_pyqgis.html">Python 程式設計的初步上手 (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_algorithms_pyqgis.html">Running Processing Algorithms via Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_python_functions.html">使用自訂的 Python 表達式函數 (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_scripts.html">撰寫 Python 腳本並在處理框架下執行（QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_a_python_plugin.html">以 Python 製作附加元件 (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_plugin.html">Building a Processing Plugin (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_qgis_jobs.html">執行 QGIS 工作排程</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_mapping_with_qgis2web.html">Web Mapping with QGIS2Web (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_basemaps_with_qtiles.html">用 QTiles 製作底圖</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Using Plugins (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../downloading_osm_data.html">搜尋和下載開放街圖資料</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learning_resources.html">QGIS 學習資源</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">資料來源</a></li>
<li class="toctree-l1"><a class="reference internal" href="../batch_processing.html">使用處理框架進行批次處理 (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="areal_mean_rainfall.html" title="Previous Chapter: Calculating Areal Mean Rainfall (QGIS3)"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Calculating A...</span>
    </a>
  </li>
  <li>
    <a href="calculating_intersection_density.html" title="Next Chapter: Calculating Street Intersection Density (QGIS3)"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Calculating S... &raquo;</span>
    </a>
  </li>
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>
<hr>
<p>Want to learn QGIS in a structured way? Check out <a href="https://spatialthoughts.com/" target="_blank">Spatial Thoughts</a> for more learning materials and instructor-led online programs with QGIS.org certification.</p>

<hr>
<p>These tutorials are also available in many other languages. Please see <a href="https://www.qgistutorials.com/en/docs/introduction.html#translations" target="_blank">translations</a> page.
</p>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      

  <section id="creating-a-landuse-map-qgis3">
<h1>Creating a Landuse Map (QGIS3)<a class="headerlink" href="#creating-a-landuse-map-qgis3" title="本標頭的永久連結">¶</a></h1>
<p>Zoning designations define and regulate what kinds of uses are allowed on specific parcels and outline design and development requirements and guidelines. In this tutorial you will learn how to access parcel datasets, style them according to zoning attributes and create a map.</p>
<section id="overview-of-the-task">
<h2>Overview of the task<a class="headerlink" href="#overview-of-the-task" title="本標頭的永久連結">¶</a></h2>
<p>You will work with a land parcels dataset with zoning information and create a map showing zoning pattern across the CBD region of Cape Town.</p>
<section id="other-skills-you-will-learn">
<h3>Other skills you will learn<a class="headerlink" href="#other-skills-you-will-learn" title="本標頭的永久連結">¶</a></h3>
<ul class="simple">
<li><p>How to access and download data from ArcGIS REST in QGIS.</p></li>
<li><p>How to extract features from a layer that intersect a boundary layer.</p></li>
<li><p>How to merge different sub-categories from Categorized renderer.</p></li>
</ul>
</section>
</section>
<section id="get-the-data">
<h2>Get the data<a class="headerlink" href="#get-the-data" title="本標頭的永久連結">¶</a></h2>
<p>You can find the data for the tutorial from Cape Town Open Data Portal - <a class="reference external" href="https://odp-cctegis.opendata.arcgis.com">https://odp-cctegis.opendata.arcgis.com</a>.
We will be importing data from the portal using ArcGIS REST server URL and will be preparing three layers mentioned below .</p>
<ol class="arabic simple">
<li><p>Zoning layer: A polygon shapefile with zoning code and description for land parcels having a single zoning - clipped to the Cape Town CBD area.</p></li>
<li><p>Split-zoning layer: A polygon shapefile with zoning code and description for land parcels having multiple zoning - with each polygon split into single zones polygons.</p></li>
<li><p>Cape Town CDB Area: A polygon demarcating the Cape Town CBD area.</p></li>
</ol>
<p>Let’s see the step wise to prepare the dataset for this tutorial.</p>
<ol class="arabic">
<li><p>Go to the Data Portal - <a class="reference external" href="https://odp-cctegis.opendata.arcgis.com/">https://odp-cctegis.opendata.arcgis.com/</a>. We will search for the Cape Town CBD data in the search bar and click to browse further.</p>
<img alt="../../_images/db1.png" class="align-center" src="../../_images/db1.png" />
</li>
<li><p>Click on <span class="guilabel">View Full Details</span> to explore services available to get the data.</p>
<blockquote>
<div><img alt="../../_images/db2.png" class="align-center" src="../../_images/db2.png" />
</div></blockquote>
</li>
<li><p>Scroll down to find <span class="guilabel">View Data Source</span> open and click on the it.</p>
<blockquote>
<div><img alt="../../_images/db3.png" class="align-center" src="../../_images/db3.png" />
</div></blockquote>
</li>
<li><p>On the ArcGIS REST Services Directory , Go to <span class="guilabel">Home</span> and copy the URL of that page. The copied URL looks like - <a class="reference external" href="https://citymaps.capetown.gov.za/agsext1/rest/services">https://citymaps.capetown.gov.za/agsext1/rest/services</a>.</p>
<blockquote>
<div><img alt="../../_images/db4.png" class="align-center" src="../../_images/db4.png" />
</div></blockquote>
</li>
<li><p>Now, Open QGIS and go to <span class="menuselection">Open Data Source Manager</span>.</p>
<blockquote>
<div><img alt="../../_images/db5.png" class="align-center" src="../../_images/db5.png" />
</div></blockquote>
</li>
<li><p>The list of data sources is seen in the left panel. Scroll down to find <span class="menuselection">ArcGIS REST Server</span>. Click on <span class="guilabel">new</span> to create new server connection.</p>
<blockquote>
<div><img alt="../../_images/db6.png" class="align-center" src="../../_images/db6.png" />
</div></blockquote>
</li>
<li><p>In the <span class="guilabel">Connection Details</span>, give the <span class="guilabel">Name</span> <code class="docutils literal notranslate"><span class="pre">Cape</span> <span class="pre">Town</span> <span class="pre">Open</span> <span class="pre">Data</span> <span class="pre">Portal</span></code> and paste the copied url as an input for  for <span class="guilabel">URL</span>.</p>
<blockquote>
<div><img alt="../../_images/db7.png" class="align-center" src="../../_images/db7.png" />
</div></blockquote>
</li>
<li><p>Click <span class="guilabel">Ok</span> and then <span class="guilabel">Connect</span> to see the data folders available in the server.</p>
<blockquote>
<div><img alt="../../_images/db8.png" class="align-center" src="../../_images/db8.png" />
</div></blockquote>
</li>
<li><p>Now we will search for all three layers required for the tutorial from the database. Firstly, we will open <code class="docutils literal notranslate"><span class="pre">Cape</span> <span class="pre">Town</span> <span class="pre">CBD</span></code> layer in the QGIS. Expand folders to browse to the layers. Full path to the layer is <span class="menuselection">Theme_Based ‣ Open_Data_Service ‣ Cape Town CBD</span>. Select the layer and click <span class="guilabel">Add</span>.</p>
<blockquote>
<div><img alt="../../_images/db9.png" class="align-center" src="../../_images/db9.png" />
</div></blockquote>
</li>
<li><p>Close the <span class="menuselection">Data Source Manager</span> to see the layer added to the QGIS. Click on <span class="menuselection">Zoom to Layer</span> to centre and display the layer on the canvas.</p>
<img alt="../../_images/db10.png" class="align-center" src="../../_images/db10.png" />
</li>
<li><p>Now, will add the <code class="docutils literal notranslate"><span class="pre">Zoning</span></code> layer using <span class="guilabel">Data Source Manager</span>.Connect to <code class="docutils literal notranslate"><span class="pre">Cape</span> <span class="pre">Town</span> <span class="pre">Open</span> <span class="pre">Data</span> <span class="pre">Portal</span></code> and browse to  <code class="docutils literal notranslate"><span class="pre">Zoning</span></code> layer. The full path is <span class="menuselection">Theme_Based ‣ Open_Data_Service_Zoning ‣ Zoning</span>. This is a very large layer, so make sure to check the box <span class="guilabel">Only request features overlapping the current view extent</span> to avoid loading all the features available in the layer. If you forget this, loading of the layer may take a long time. Click  <span class="guilabel">Add</span> to open in the QGIS.</p>
<img alt="../../_images/db11.png" class="align-center" src="../../_images/db11.png" />
</li>
<li><p>Similarly add <code class="docutils literal notranslate"><span class="pre">Split_Zoning</span></code> layer. The full path is - <span class="menuselection">Theme_Based ‣ Land_Parcel_Zoning ‣ Split Zoning</span>.</p>
<img alt="../../_images/db12.png" class="align-center" src="../../_images/db12.png" />
</li>
<li><p>We can see all three source layers are open in QGIS. We want to clip the <code class="docutils literal notranslate"><span class="pre">Zoning</span></code> and <code class="docutils literal notranslate"><span class="pre">Split</span> <span class="pre">Zoning</span></code> layers to the <code class="docutils literal notranslate"><span class="pre">Cape</span> <span class="pre">Town</span> <span class="pre">CBD</span></code> boundary layer. Firstly, let’s save all three layers locally as shapefiles. Right click on the <code class="docutils literal notranslate"><span class="pre">Cape</span> <span class="pre">Town</span> <span class="pre">CBD</span></code> layer. Look for <span class="guilabel">Export</span> and click on <span class="guilabel">Save Features As</span>.</p>
<img alt="../../_images/db13.png" class="align-center" src="../../_images/db13.png" />
</li>
<li><p>Set the format <span class="guilabel">ESRI Shapefile</span> and browse to the local folder where you want to save the shapefiles. We will save all the layers related to this tutorial in a single data folder. Save the layer as <code class="docutils literal notranslate"><span class="pre">cbd</span></code>.  Keep all other options default and click <span class="guilabel">OK</span>. Similarly export other two layers as <code class="docutils literal notranslate"><span class="pre">Zoning.shp</span></code> and <code class="docutils literal notranslate"><span class="pre">Split</span> <span class="pre">Zoning</span></code> to the same folder.</p>
<img alt="../../_images/db14.png" class="align-center" src="../../_images/db14.png" />
</li>
<li><p>Remove the layers loaded from server. Select all three layers, and click on <span class="guilabel">Remove Layer/Group</span> icon. We want to extract features from <code class="docutils literal notranslate"><span class="pre">Zoning</span></code> and <code class="docutils literal notranslate"><span class="pre">Split</span> <span class="pre">Zoning</span></code> layers intersecting with <code class="docutils literal notranslate"><span class="pre">cbd</span></code> boundary.</p>
<img alt="../../_images/db15.png" class="align-center" src="../../_images/db15.png" />
</li>
<li><p>Go to <span class="menuselection">Processing ‣ Toolbox</span> from the menubar.</p>
<img alt="../../_images/db16.png" class="align-center" src="../../_images/db16.png" />
</li>
<li><p>In the toolbax, search for <span class="guilabel">Intersection</span> algorithm and double-click to open.</p>
<img alt="../../_images/db17.png" class="align-center" src="../../_images/db17.png" />
</li>
<li><p>Select <code class="docutils literal notranslate"><span class="pre">Zoning</span></code> as <span class="guilabel">Input layer</span> and <code class="docutils literal notranslate"><span class="pre">cbd</span></code> as <span class="guilabel">Overlay layer</span>. Keep other options default and proceed to save output to file.</p>
<img alt="../../_images/db18.png" class="align-center" src="../../_images/db18.png" />
</li>
<li><p>Save the output layer as <code class="docutils literal notranslate"><span class="pre">zoning_cbd</span></code> in the data folder and click <span class="guilabel">Run</span>.</p>
<img alt="../../_images/db19.png" class="align-center" src="../../_images/db19.png" />
</li>
<li><p>Depending on your Processing settings, you will see some errors or warnings displayed in <span class="guilabel">Log</span> tab. The input layer has some invalid geometries and it is being skipped while running intersection. We will fix geometries of <code class="docutils literal notranslate"><span class="pre">Zoning</span></code> and <code class="docutils literal notranslate"><span class="pre">Split</span> <span class="pre">Zoning</span></code> layers before taking the intersection to extract all geometries.</p>
<img alt="../../_images/db20.png" class="align-center" src="../../_images/db20.png" />
</li>
<li><p>Remove the intersection output from QGIS and data folder. Search for <span class="menuselection">Fix geometries</span> tool in the processing toolbox. Double-click to open.</p>
<img alt="../../_images/db21.png" class="align-center" src="../../_images/db21.png" />
</li>
<li><p>Select <code class="docutils literal notranslate"><span class="pre">Zoning</span></code> as <span class="guilabel">Input layer</span>. Keep all the other inputs as default and save the output layer as <code class="docutils literal notranslate"><span class="pre">zoning_fixed.shp</span></code> in the data folder by clicking  <span class="guilabel">Save to File</span>. Click <span class="guilabel">Run</span>. Repeat the process for fixing geometries on <code class="docutils literal notranslate"><span class="pre">Split</span> <span class="pre">Zoning</span></code> layer and save the layer with fixed geometries as <code class="docutils literal notranslate"><span class="pre">split_zoning_fixed.shp</span></code>.</p>
<img alt="../../_images/db22.png" class="align-center" src="../../_images/db22.png" />
</li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">Zoning</span></code> and <code class="docutils literal notranslate"><span class="pre">Split</span> <span class="pre">Zoning</span></code> layers. We will move ahead with extracting features from <code class="docutils literal notranslate"><span class="pre">zoning_fixed</span></code> and <code class="docutils literal notranslate"><span class="pre">split_zoning_fixed</span></code> layers which intersect <code class="docutils literal notranslate"><span class="pre">cbd</span></code>. Search for <span class="menuselection">Intersection</span> from the processing toolbox and double-click to open.</p>
<img alt="../../_images/db23.png" class="align-center" src="../../_images/db23.png" />
</li>
</ol>
<p>24.Select <code class="docutils literal notranslate"><span class="pre">Zoning_fixed</span></code> as <span class="guilabel">Input layer</span> and <code class="docutils literal notranslate"><span class="pre">cbd</span></code> as <span class="guilabel">Overlay layer</span> to perform intersection as described in steps 18 and 19. Save the output as <code class="docutils literal notranslate"><span class="pre">zoning_cbd</span></code> and repeat the same for <code class="docutils literal notranslate"><span class="pre">split_zoning_fixed</span></code> layer and save the output layer as <code class="docutils literal notranslate"><span class="pre">split_zoning_cbd</span></code>.</p>
<blockquote>
<div><img alt="../../_images/db24.png" class="align-center" src="../../_images/db24.png" />
</div></blockquote>
<p>For convenience, you may directly download a copy of all three pre-processed layers from the links below:</p>
<p><a class="reference external" href="https://www.qgistutorials.com/downloads/cbd.zip">cbd.shp</a></p>
<p><a class="reference external" href="https://www.qgistutorials.com/downloads/zoning_cbd.zip">zoning_cbd.shp</a></p>
<p><a class="reference external" href="https://www.qgistutorials.com/downloads/split_zoning_cbd.zip">split_zoning_cbd.shp</a></p>
</section>
<section id="procedure">
<h2>Procedure<a class="headerlink" href="#procedure" title="本標頭的永久連結">¶</a></h2>
<ol class="arabic simple">
<li><p>Open QGIS. Click <span class="menuselection">Open Data Source Manager</span> icon to add layers to work on for the tutorial.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/140.png" class="align-center" src="../../_images/140.png" />
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Switch to the <span class="guilabel">Vector</span> tab and use the browsing button to navigate to the folder where you have kept the processed shapefiles.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/229.png" class="align-center" src="../../_images/229.png" />
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Select <code class="docutils literal notranslate"><span class="pre">cbd.shp</span></code>, <code class="docutils literal notranslate"><span class="pre">zoning_cbd.shp</span></code> and <code class="docutils literal notranslate"><span class="pre">split_zoning_cbd.shp</span></code> files and click <span class="guilabel">Open</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/319.png" class="align-center" src="../../_images/319.png" />
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>You will see all three file paths in the text box beside <span class="guilabel">Vector Dataset</span>. Click <span class="guilabel">Add</span> followed by <span class="guilabel">Close</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/48.png" class="align-center" src="../../_images/48.png" />
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p>As we work on the exercise, it is important to save our work. Go to <span class="menuselection">Project ‣ Save</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/58.png" class="align-center" src="../../_images/58.png" />
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p>Save the project to the data directory as landuse_map.qgz file. The QGIS Project file contains references to the data layers and saves styles, map templates etc.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/68.png" class="align-center" src="../../_images/68.png" />
</div></blockquote>
<ol class="arabic simple" start="7">
<li><p>Select the <code class="docutils literal notranslate"><span class="pre">zoning_cbd</span></code> layer and click the <span class="guilabel">Open Attribute Table</span> button in the <span class="menuselection">Attributes</span> Toolbar. Note that the attribute <code class="docutils literal notranslate"><span class="pre">INT_ZONE_C</span></code> has the zoning codes and <code class="docutils literal notranslate"><span class="pre">INT_ZONE_D</span></code> has the zoning description. Close the attribute table.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/78.png" class="align-center" src="../../_images/78.png" />
</div></blockquote>
<ol class="arabic simple" start="8">
<li><p>Now let’s style the layer based on these attributes, so the parcels with the same zoning codes are styles in the same color. Click the <span class="guilabel">Open the Layer Styling panel</span> button in the Layers panel. Click the dropdown button next to <span class="guilabel">Single Symbol</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/88.png" class="align-center" src="../../_images/88.png" />
</div></blockquote>
<ol class="arabic" start="9">
<li><p>Select <span class="guilabel">Categorized</span> as the renderer. Select <code class="docutils literal notranslate"><span class="pre">INT_ZONE_C</span></code> as the Value. Click Classify.</p>
<blockquote>
<div><img alt="../../_images/98.png" class="align-center" src="../../_images/98.png" />
</div></blockquote>
</li>
<li><p>You will see a series of symbols appear. There is a different color symbol assigned for every unique code in the layer.</p>
<img alt="../../_images/1012.png" class="align-center" src="../../_images/1012.png" />
</li>
<li><p>Notice that each zoning category has sub-categories. The <code class="docutils literal notranslate"><span class="pre">General</span> <span class="pre">Business</span> <span class="pre">(GB)</span></code> category has further sub-divisions like <code class="docutils literal notranslate"><span class="pre">GB1</span></code>, <code class="docutils literal notranslate"><span class="pre">GB2</span></code>, and so on. For the purpose of this map, we can merge all the sub-categories to a single top-level category. Hold the Shift key and select all sub-categories. Right-click and select <span class="guilabel">Merge Categories</span>.</p>
<img alt="../../_images/1115.png" class="align-center" src="../../_images/1115.png" />
</li>
<li><p>Repeat the process for <code class="docutils literal notranslate"><span class="pre">MU</span></code> and <code class="docutils literal notranslate"><span class="pre">TR</span></code> categories. Once merged, we can now change the Legend label to be more descriptive. Click on the <span class="guilabel">Legend</span> label to rename a class.</p>
<img alt="../../_images/1213.png" class="align-center" src="../../_images/1213.png" />
</li>
<li><p>Enter descriptions of each zoning category based on the values given in the <code class="docutils literal notranslate"><span class="pre">INR_ZONE_D</span></code> column. As you enter those description, you will see the legend of the layer in the Layers panel also updates.</p>
<img alt="../../_images/1311.png" class="align-center" src="../../_images/1311.png" />
</li>
<li><p>Now we can update the colors and symbology of each category. Click on the <span class="guilabel">Symbol</span> for a category.</p>
<img alt="../../_images/1410.png" class="align-center" src="../../_images/1410.png" />
</li>
<li><p>Change the <span class="guilabel">Fill color</span> and <span class="guilabel">Stroke color</span> of the symbol to a color of your choice.</p>
<img alt="../../_images/1510.png" class="align-center" src="../../_images/1510.png" />
</li>
<li><p>Repeat the process for each category. The last category is all other values. This category contains all parcels which have NULL values. This is because those parcels have multiple zoning categories attached to them and are represented in the split_zoning_cbd.shp layer. We do not need them in this layer. Select it and click the <span class="guilabel">-</span> icon to remove that category.</p>
<img alt="../../_images/169.png" class="align-center" src="../../_images/169.png" />
</li>
<li><p>Next, select the <code class="docutils literal notranslate"><span class="pre">cbd</span></code> layer. Change the symbol to <span class="guilabel">Simple Line</span> and increase the <span class="guilabel">Stroke width</span>.</p>
<img alt="../../_images/1710.png" class="align-center" src="../../_images/1710.png" />
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">split_zoning_cbd.shp</span></code> layer contains all parcels that were missing zoning codes in the zoning_cbd layer. The attribute table and values for the zones in the <code class="docutils literal notranslate"><span class="pre">split_zoning_cbd</span></code> are the same as the <code class="docutils literal notranslate"><span class="pre">zoning_cbd</span></code> layer. Instead of configuring the symbology for this layer manually, we can copy/paste the styles. Select the zoning_cbd layer, right-click and select <span class="menuselection">Styles ‣ Copy Style ‣ Symbology</span>.</p>
<img alt="../../_images/188.png" class="align-center" src="../../_images/188.png" />
</li>
<li><p>Now select the newly added <code class="docutils literal notranslate"><span class="pre">split_zoning_cbd</span></code> layer, right-click and select <span class="menuselection">Styles ‣ Paste Style ‣ Symbology</span>.</p>
<img alt="../../_images/198.png" class="align-center" src="../../_images/198.png" />
</li>
<li><p>You will see the same symbology being applied to the polygons in the <code class="docutils literal notranslate"><span class="pre">split_zoning_cbd</span></code> layer. The styling and legend are complete now.</p>
<img alt="../../_images/208.png" class="align-center" src="../../_images/208.png" />
</li>
<li><p>We have our layers styled and legend labels created. Now let’s create a map using these styled layers along with map elements like, scale bar, north arrow, labels etc. QGIS comes with a <span class="guilabel">Print Layout</span> that allows composing maps. Go to <span class="menuselection">Project ‣ New Print Layout</span>. When prompted for a name, you can leave it blank and click <span class="guilabel">OK</span>.</p>
<img alt="../../_images/2112.png" class="align-center" src="../../_images/2112.png" />
</li>
<li><p>In the Print Layout window, you will see a canvas. Right-click and select <span class="guilabel">Page Properties</span>.</p>
<img alt="../../_images/2210.png" class="align-center" src="../../_images/2210.png" />
</li>
<li><p>Set the <span class="guilabel">Orientation</span> to <code class="docutils literal notranslate"><span class="pre">Portrait</span></code>. Next, go to <span class="menuselection">Add Item ‣ Add Map</span>.</p>
<img alt="../../_images/237.png" class="align-center" src="../../_images/237.png" />
</li>
<li><p>Hold the left mouse button and draw a rectangle on the canvas. This is the map frame which will contain the map from the main QGIS window. In the <span class="guilabel">Item Properties</span> tab, use the <span class="guilabel">Interactively Edit Map Extent</span> icon to pan/zoom the content of the map frame.</p>
<img alt="../../_images/248.png" class="align-center" src="../../_images/248.png" />
</li>
<li><p>Scroll down in the Item Properties tab and check the <span class="guilabel">Frame</span> option. Expand it and select a <span class="guilabel">Color</span> for the frame border. You can also increase the <span class="guilabel">Thickness</span>.</p>
<img alt="../../_images/257.png" class="align-center" src="../../_images/257.png" />
</li>
<li><p>The map frame is now ready. Let’s add other elements. Go to <span class="menuselection">Add Item ‣ Add Legend</span>.</p>
<img alt="../../_images/266.png" class="align-center" src="../../_images/266.png" />
</li>
<li><p>Drag a rectangle where you want to place the legend. Once added, scroll down in the <span class="guilabel">Item Properties</span> tab and un-check the <span class="guilabel">Auto update</span> button so we can manually edit the legend items.</p>
<img alt="../../_images/277.png" class="align-center" src="../../_images/277.png" />
</li>
<li><p>We have 2 layers with identical legends, so we can remove one of them. Select the <code class="docutils literal notranslate"><span class="pre">split_zoning_cbd</span></code> layer and click the <span class="guilabel">Remove selected item(s) from legend</span> icon. Similarly remove <code class="docutils literal notranslate"><span class="pre">cbd</span></code> layer from the legend.</p>
<img alt="../../_images/287.png" class="align-center" src="../../_images/287.png" />
</li>
<li><p>Right-click the <code class="docutils literal notranslate"><span class="pre">zoning_cbd</span></code> layer and check the Hidden option.</p>
<img alt="../../_images/296.png" class="align-center" src="../../_images/296.png" />
</li>
<li><p>Scroll down and expand the <span class="guilabel">Columns</span> section. Check the <span class="guilabel">Split layers</span> option and increase the Count to 2.</p>
<img alt="../../_images/306.png" class="align-center" src="../../_images/306.png" />
</li>
<li><p>Scroll down further to the <span class="guilabel">Spacing</span> section. Adjust the spacing between different elements till the legend is clearly legible.</p>
<img alt="../../_images/3110.png" class="align-center" src="../../_images/3110.png" />
</li>
<li><p>You can change style and size of the fonts in legend from <span class="guilabel">Fonts and Text Formatting</span> properties. When done, go to <span class="menuselection">Add Item ‣ Add North Arrow</span>. Drag a rectangle where you want to place the element on the map.</p>
<img alt="../../_images/324.png" class="align-center" src="../../_images/324.png" />
</li>
<li><p>Pick a symbol of your choice. Scroll down and expand the <span class="guilabel">SVG Parameters</span>. Change the <span class="guilabel">Fill color</span> and <span class="guilabel">Stroke color</span> as per your choice.</p>
<img alt="../../_images/332.png" class="align-center" src="../../_images/332.png" />
</li>
<li><p>Now we will add a <span class="guilabel">Scale Bar</span>. Go to <span class="menuselection">Add Item ‣ Add Scale Bar</span>. Drag a rectangle where you want to place the element on the map. Adjust the <span class="guilabel">Style</span> and <span class="guilabel">Segments</span> parameters for the scale bar.</p>
<img alt="../../_images/342.png" class="align-center" src="../../_images/342.png" />
</li>
<li><p>Our map needs a title and other information labels. Go to <span class="menuselection">Add Item ‣ Add Label</span>.</p>
<img alt="../../_images/352.png" class="align-center" src="../../_images/352.png" />
</li>
<li><p>Enter a map title in the Main Properties section. Click the Font button under Appearance section to adjust the font size and style.</p>
<img alt="../../_images/361.png" class="align-center" src="../../_images/361.png" />
</li>
<li><p>Add other labels indicating the data source and your name. Lastly we will finish our map by adding a frame around the label block. Go to <span class="menuselection">Add Item ‣ Add Shape ‣ Add Rectangle</span>.</p>
<img alt="../../_images/371.png" class="align-center" src="../../_images/371.png" />
</li>
<li><p>Draw a rectangle. Click the symbol for <span class="guilabel">Style</span> and set the <span class="guilabel">Fill Color</span> to transparent and <span class="guilabel">Stroke color</span> to match other frames.</p>
<img alt="../../_images/371.png" class="align-center" src="../../_images/371.png" />
</li>
<li><p>Once you are satisfied with your composition, you can export the result. Go to <span class="menuselection">Layout ‣ Export as PDF</span>. Save the PDF in your data folder as <code class="docutils literal notranslate"><span class="pre">capetown_zoning_map.pdf</span></code>.</p>
<img alt="../../_images/391.png" class="align-center" src="../../_images/391.png" />
</li>
</ol>
</section>
</section>





  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2021, Ujaval Gandhi.<br/>
      最後更新於 11月 08, 2023。<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.0.1.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/3/creating_landuse_map.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>