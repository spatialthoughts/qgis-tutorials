<!DOCTYPE html>

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Realización de consultas espaciales &#8212; QGIS Tutorials and Tips</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="search" title="Búsqueda" href="../search.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>


<!-- Cookie Notice -->
<!-- Script from https://github.com/AOEpeople/cookie-notice -->
<script type="text/javascript" src="../_static/cookie.notice.min.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1WQ7B80XJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B1WQ7B80XJ');
</script>


  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introducción</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/making_a_map.html">Haciendo un Mapa (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_attributes.html">Trabajando con atributos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/importing_spreadsheets_csv.html">Importar Hojas de Cálculo o archivos CSV (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_vector_styling.html">Estilo Básico Vectorial (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_line_lengths.html">Calcular Longitudes y Estadísticas de Línea (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_styling_and_analysis.html">Estilos y Análisis Básicos Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_mosaicing_and_clipping.html">Mosaicar y Recortar Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_terrain.html">Trabajar con Datos de Terreno (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_wms.html">Trabajar con Datos WMS (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_projections.html">Trabajar con Proyecciones (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/georeferencing_basics.html">Georeferenciar Hojas Topográficas y Mapas Escaneados (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/advanced_georeferencing.html">Georeferenciar Imágenes Aéreas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/digitizing_basics.html">Digitalizar Datos del Mapa (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_table_joins.html">Realizar Uniones de Tablas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_joins.html">Realizar Uniones Espaciales (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_queries.html">Realizar Consultas Espaciales (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/nearest_neighbor_analysis.html">Análisis del Vecino Más Cercano (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/sampling_raster_data.html">Muestrear Datos Ráster usando Puntos o Polígonos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_raster_area.html">Calculating Raster Area (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/creating_heatmaps.html">Crear Mapas de Calor (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/animating_time_series.html">Animar Datos de Series de Tiempo (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/handling_invalid_geometries.html">Manejar Geometrías No Válidas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/advanced_raster_analysis.html">Análisis Avanzado de Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/interpolating_point_data.html">Interpolar Datos Punto (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/batch_processing.html">Procesamiento por Lotes usando el Marco de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_graphical_modeler.html">Automatizar Flujos de Trabajo Complejos usando el Modelador de Procesos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/automating_map_creation.html">Automatización de la creación de mapas con el Atlas de diseñador de impresiones  (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/multi_criteria_overlay.html">Análisis de Sobreposición Multicriterio (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_network_analysis.html">Visualización y Enrutamiento Básico de Red (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/origin_destination_matrix.html">Localizando la Instalación Más Cercana con Matriz Origen-Destino (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/service_area_analysis.html">Análisis de Área de Servicio usando Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/travel_time_analysis.html">Análisis del tiempo de viaje con el movimiento de Uber (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/areal_mean_rainfall.html">Calcular la Precipitación Media de Área (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/colorized_river_basin_map.html">Creating a Colorized River Basin Map (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/creating_landuse_map.html">Creating a Landuse Map (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_intersection_density.html">Calcular Densidad de Intersección de Calle (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/landuse_buffer.html">Determining Landuse Buffer Zones (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/solidwaste_mapping.html">Mapping Waste Disposal Volumes (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/getting_started_with_pyqgis.html">Iniciándote con la Programación Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_algorithms_pyqgis.html">Ejecutar Algoritmos de Procesamiento vía Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/custom_python_functions.html">Usando Funciones de Expresión Python Personalizadas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_scripts.html">Escribir Scripts Python para el Marco de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/building_a_python_plugin.html">Construyendo un Complemento Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_plugin.html">Construyendo un Complemento de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_qgis_jobs.html">Ejecutar y Programar Trabajos de Procesamiento QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/web_mapping_with_qgis2web.html">Mapeo Web con QGIS2Web (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_basemaps_with_qtiles.html">Creando Mapas Base con QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/using_plugins.html">Usar Complementos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloading_osm_data.html">Buscando y descargando datos de OpenStreetMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="learning_resources.html">Recursos de Aprendizaje QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Créditos de los Datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Procesamiento por Lotes usando el Marco de Procesamiento (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>
<hr>
<p>Want to learn QGIS in a structured way? Check out <a href="https://spatialthoughts.com/" target="_blank">Spatial Thoughts</a> for more learning materials and instructor-led online programs with QGIS.org certification.</p>

<hr>
<p>These tutorials are also available in many other languages. Please see <a href="https://www.qgistutorials.com/en/docs/introduction.html#translations" target="_blank">translations</a> page.
</p>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      

  <section id="performing-spatial-queries">
<h1>Realización de consultas espaciales<a class="headerlink" href="#performing-spatial-queries" title="Enlace permanente a este encabezado">¶</a></h1>
<div class="admonition warning">
<p class="admonition-title">Advertencia</p>
<p>Este tutorial está ahora obsoleto. Una versión nueva y actualizada está disponible en <a class="reference internal" href="3/performing_spatial_queries.html"><span class="doc">Realizar Consultas Espaciales (QGIS3)</span></a></p>
</div>
<p>Las consultas espaciales son centrales a varios tipos de análisis SIG. En QGIS, esta funcionalidad está disponible mediante el complemento <strong>Spatial Query</strong>.</p>
<section id="overview-of-the-task">
<h2>Vista general de la tarea<a class="headerlink" href="#overview-of-the-task" title="Enlace permanente a este encabezado">¶</a></h2>
<p>Estaremos trabajando con 2 conjuntos de datos - una capa de líneas que representa ríos y una capa punto que representa ciudades. La tarea es ejecutar una consulta espacial para encontrar todas las ciudades que están dentro de 10 kms de un río.</p>
<section id="other-skills-you-will-learn">
<h3>Otras habilidades que aprenderá<a class="headerlink" href="#other-skills-you-will-learn" title="Enlace permanente a este encabezado">¶</a></h3>
<ul class="simple">
<li><p>Abrir archivos .zip directamente en QGIS</p></li>
<li><p>Escoger una proyección apropiada y reproyectar datos vectoriales.</p></li>
<li><p>Crear zonas de influencia.</p></li>
<li><p>Seleccionar objetos espaciales usando expresiones similares a SQL.</p></li>
<li><p>Convertir un archivo shape a un archivo KML.</p></li>
<li><p>Validar sus resultados usando Google Earth.</p></li>
</ul>
</section>
</section>
<section id="get-the-data">
<h2>Obtener los datos<a class="headerlink" href="#get-the-data" title="Enlace permanente a este encabezado">¶</a></h2>
<p>Usaremos los conjuntos de datos <code class="docutils literal notranslate"><span class="pre">ne_10m_rivers_lake_centerlines</span></code> and <code class="docutils literal notranslate"><span class="pre">10m_populated_places_simple</span></code> de Natural Earth.</p>
<p>Descarge <a class="reference external" href="http://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/physical/ne_10m_rivers_lake_centerlines.zip">Líneas centrals de Ríos y Lagos</a></p>
<p>Descargue <a class="reference external" href="http://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/cultural/ne_10m_populated_places_simple.zip">Centros Poblados</a>.</p>
<p>Fuente de Datos: <a class="reference internal" href="credits.html#naturalearth" id="id1"><span>[NATURALEARTH]</span></a></p>
</section>
<section id="procedure">
<h2>Procedimiento<a class="headerlink" href="#procedure" title="Enlace permanente a este encabezado">¶</a></h2>
<ol class="arabic simple">
<li><p>Una vez que haya descargado los datos, abra QGIS. Vaya a <span class="menuselection">Capa ‣ Agregar Capa Vectorial</span>.</p></li>
</ol>
<img alt="../_images/1195.png" class="align-center" src="../_images/1195.png" />
<ol class="arabic simple" start="2">
<li><p>Clic en <span class="guilabel">Explorar</span> y navegue a la carpeta donde descargó los archivos zip.</p></li>
</ol>
<img alt="../_images/2160.png" class="align-center" src="../_images/2160.png" />
<ol class="arabic simple" start="3">
<li><p>Mantenga presionada la techa <kbd class="kbd docutils literal notranslate">Shift</kbd> y clic en ambos archivos zip para seleccionarlos. Clic en <span class="guilabel">Abrir</span>.</p></li>
</ol>
<img alt="../_images/3101.png" class="align-center" src="../_images/3101.png" />
<ol class="arabic simple" start="4">
<li><p>Se le pedirá escoger una capa desde el achivo zip. Seleccione <code class="docutils literal notranslate"><span class="pre">ne_10m_rivers_lake_centerlines.shp</span></code> y clic en <span class="guilabel">Aceptar</span>.</p></li>
</ol>
<img alt="../_images/463.png" class="align-center" src="../_images/463.png" />
<ol class="arabic simple" start="5">
<li><p>Debido a que ha seleccionado múltiples archivos, repita el proceso para el siguiente archivo. Seleccione <code class="docutils literal notranslate"><span class="pre">10m_populated_places_simple.shp</span></code> y clic en <span class="guilabel">Aceptar</span>.</p></li>
</ol>
<img alt="../_images/557.png" class="align-center" src="../_images/557.png" />
<ol class="arabic simple" start="6">
<li><p>Ahora verá ambos archivos shape cargados en QGIS.</p></li>
</ol>
<img alt="../_images/655.png" class="align-center" src="../_images/655.png" />
<ol class="arabic simple" start="7">
<li><p>Crearemos zonas de influencia alrededor de las capas punto y línea. La herramienta de geoprocesamiento <cite>Zona de influencia</cite> en QGIS usa <cite>unidades de capa</cite> para calcular distancias de zonas de influencia. Las capas que tenemos están en un <cite>Sistema de Referencia de Coordenadas (SRC) Geográfico</cite> con la unidad en <cite>grados</cite>. Esto no es apropiado ya que queremos que nuestro análisis use <cite>metros</cite> o <cite>kilómetros</cite>. Para conseguirlo, debemos reproyectar nuestras capas a un <cite>Sistema de Referencia de Coordenadas (SRC) Proyectado</cite>. Clic derecho en <code class="docutils literal notranslate"><span class="pre">capa</span> <span class="pre">10m_populated_places_simple</span></code> y elija <span class="guilabel">Guardar Como</span>.</p></li>
</ol>
<img alt="../_images/754.png" class="align-center" src="../_images/754.png" />
<ol class="arabic simple" start="8">
<li><p>En el diálogo <span class="guilabel">Guardar capa vectorial como…</span>, clic en <span class="guilabel">Explorar</span> junto a <span class="guilabel">Guardar como</span> y seleccione la ubicación del archivo de salida. Nombre el archivo de salida como <code class="docutils literal notranslate"><span class="pre">populated_places_reprojected.shp</span></code>. A continuación, clic el botón <span class="guilabel">Explorar</span> junto a <span class="guilabel">SRC</span>.</p></li>
</ol>
<img alt="../_images/852.png" class="align-center" src="../_images/852.png" />
<ol class="arabic simple" start="9">
<li><p>Ahora debemos escoger un SRC apropiado a nuestro propósito. Para crear zonas de influencia, una proyección Ediquidistante Azimutal sería la más apropiada ya que las distancias radiales alrededor del centro de la proyección serían exactas. En nuestro caso, como el conjunto de datos es global, escogeremos una proyección global. En el diálogo <span class="guilabel">Sistema de Referencia de Coordenadas</span>, comience buscando <cite>world az..</cite> y verá que aparecen resultados. Seleccione <cite>World_Azimuthal_Equidistant</cite> y clic en <span class="guilabel">Aceptar</span>.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>La proyección <cite>World_Azimuthal_Equidistant</cite> cubre 90 grados desde el origen. Siendo el origen aquí 0 grados de longitud, los únicos datos contenidos entre +/- 90 grados de longitud serán convertidos.</p>
</div>
<img alt="../_images/951.png" class="align-center" src="../_images/951.png" />
<ol class="arabic simple" start="10">
<li><p>De vuelta en el diálogo  <span class="guilabel">Guardar capa vectorial como…</span>, marque la casilla junto a  <span class="guilabel">Añadir archivo guardado al mapa</span> y clic en <span class="guilabel">Aceptar</span>.</p></li>
</ol>
<img alt="../_images/1059.png" class="align-center" src="../_images/1059.png" />
<ol class="arabic simple" start="11">
<li><p>Repita el proceso de reproyección para la capa <code class="docutils literal notranslate"><span class="pre">ne_10m_rivers_lake_centerlines</span></code> y guarde la nueva capa como <code class="docutils literal notranslate"><span class="pre">rivers_lake_reprojected.shp</span></code>.</p></li>
</ol>
<img alt="../_images/1196.png" class="align-center" src="../_images/1196.png" />
<ol class="arabic simple" start="12">
<li><p>Ahora tendrá 4 capas en su <span class="guilabel">Panel de Capas</span>. Desmarque las casillas junto a las capas originales para mostrar sólo las capas reproyectadas. Las capas reproyectadas todavía están siendo mostradas en la <cite>SRC Geográfica</cite> debido a una configuración. Desactivémosla. Clic en el botón <span class="guilabel">Propiedades del Proyecto</span>. Esta configuración también puede ser accedida desde <span class="menuselection">Proyecto ‣ Propiedades del Proyecto</span>.</p></li>
</ol>
<img alt="../_images/1261.png" class="align-center" src="../_images/1261.png" />
<ol class="arabic simple" start="13">
<li><p>En la pestaña <span class="guilabel">SRC</span> del diálogo <span class="guilabel">Propiedades del Proyecto</span>, desmarque la casilla junto a <span class="guilabel">Habilitar la transformación SRC al vuelo</span>. Clic en <span class="guilabel">Aceptar</span>.</p></li>
</ol>
<img alt="../_images/1358.png" class="align-center" src="../_images/1358.png" />
<ol class="arabic simple" start="14">
<li><p>De vuelta en la ventana principal QGIS, clic-derecho en cualquiera de las capas reproyectadas y seleccione <span class="guilabel">Zoom a la Capa</span>.</p></li>
</ol>
<img alt="../_images/1455.png" class="align-center" src="../_images/1455.png" />
<ol class="arabic simple" start="15">
<li><p>Ahora verá los datos en el SRC de la capa. Ahora crearemos zonas de influencia para ambos conjuntos de datos. Clic <span class="menuselection">Vectorial ‣ Herramientas de Geoproceso ‣ Buffer</span>.</p></li>
</ol>
<img alt="../_images/1551.png" class="align-center" src="../_images/1551.png" />
<ol class="arabic simple" start="16">
<li><p>En la herramienta <span class="guilabel">Buffer</span>, seleccione la capa <code class="docutils literal notranslate"><span class="pre">populated_places_reprojected</span></code> como Entrada. Ingrese la distancia de buffer como <cite>10000</cite>. Note que queremos un área de influencia de 10kms y como las unidades SRC están en metros, necesitamos ingresar 10.000. Ingrese el nombre del archivo de salida como <code class="docutils literal notranslate"><span class="pre">populated_places_buffer.shp</span></code>. Clic en <span class="guilabel">Aceptar</span>.</p></li>
</ol>
<img alt="../_images/1648.png" class="align-center" src="../_images/1648.png" />
<ol class="arabic simple" start="17">
<li><p>Una vez que finalice el procesamiento de la zona de influencia, clic en <span class="guilabel">Si</span> para agregar la capa recién creado a la TDC.</p></li>
</ol>
<img alt="../_images/1745.png" class="align-center" src="../_images/1745.png" />
<ol class="arabic simple" start="18">
<li><p>Repita el mismo proceso de la zona de influencia para la capa <code class="docutils literal notranslate"><span class="pre">rivers_lake_reprojected</span></code> y cree un archivo de salida llamado  <code class="docutils literal notranslate"><span class="pre">rivers_lake_buffer.shp</span></code>.</p></li>
</ol>
<img alt="../_images/1842.png" class="align-center" src="../_images/1842.png" />
<ol class="arabic simple" start="19">
<li><p><code class="docutils literal notranslate"><span class="pre">rivers_lake_buffer</span></code> contiene objetos espaciales que que son tanto ríos como lagos. Nuestro análisis llama al uso de sólo objetos ríos, por lo que ejecutaremos una consulta para seleccionar sólo objetos ríos. Clic-derecho en la capa <code class="docutils literal notranslate"><span class="pre">rivers_lake_buffer</span></code> y seleccione <span class="guilabel">Abrir tabla de atributos</span>.</p></li>
</ol>
<img alt="../_images/1934.png" class="align-center" src="../_images/1934.png" />
<ol class="arabic simple" start="20">
<li><p>Vera que el atributo <cite>featurecla</cite> contiene la información que podemos usar para seleccionar los objetos espaciales ríos. Clic en el botón <cite>Selecciones objetos espaciales usando una expresión</cite>.</p></li>
</ol>
<img alt="../_images/2029.png" class="align-center" src="../_images/2029.png" />
<ol class="arabic simple" start="21">
<li><p>Ingrese la expresión <cite>«featurecla» = «River»</cite> y clic en <span class="guilabel">Seleccionar</span> y luego haga clic en  <span class="guilabel">Cerrar</span> para volver a la ventana principal QGIS.</p></li>
</ol>
<img alt="../_images/2161.png" class="align-center" src="../_images/2161.png" />
<ol class="arabic simple" start="22">
<li><p>Ahora estamos listos para realizar una consulta espacial. Necesitará habilitar el <cite>complemento Spatial Query</cite> para usar esta funcionalidad. Vea <a class="reference internal" href="using_plugins.html"><span class="doc">Uso de Complementos</span></a> para más detalles. Una vez que esté habilitado, vaya a <span class="menuselection">Vectorial ‣ Spatial Query ‣ Spatial Query</span>.</p></li>
</ol>
<img alt="../_images/2230.png" class="align-center" src="../_images/2230.png" />
<ol class="arabic simple" start="23">
<li><p>Para nuestra consulta, queremos seleccionar objetos espaciales de los lugares con zona de influencia que interesectan con las zonas de influencia de líneas de río. Asegúrese que la casilla junto a <cite>geometrías seleccionadas</cite> esté marcada. Esto asegurará que la consulta usa sólo los objetos espaciales que seleccionamos previamente. Clic en <span class="guilabel">Aplicar</span>.</p></li>
</ol>
<img alt="../_images/2327.png" class="align-center" src="../_images/2327.png" />
<ol class="arabic simple" start="24">
<li><p>Una vez que esté completa la consulta, verá una nueva sección llamada <span class="guilabel">Objetos espaciales seleccionados</span>. Clic en el botón <span class="guilabel">Crear capa con seleccionado</span>. Una nueva capa será agregada al <cite>Panel de Capas</cite>. Clic en <span class="guilabel">Cerrar</span>.</p></li>
</ol>
<img alt="../_images/2427.png" class="align-center" src="../_images/2427.png" />
<ol class="arabic simple" start="25">
<li><p>Acérquese a cualquier área y compare los resultados. Notará que la nueva capa contiene sólo los objetos espaciales que intersectan el área de influencia de ríos.</p></li>
</ol>
<img alt="../_images/2525.png" class="align-center" src="../_images/2525.png" />
<ol class="arabic simple" start="26">
<li><p>Deberíamos siempre verificar mis resultados para asegurar que el análisis no es defectuoso. Una manera de verificar los resultados es exportar esta capa como un archivo KML y cargarlos en Google Earth. Puede revisar si las áreas que encontró están realmente dentro de los 10 Km de un río. Clic-derecho a la capa y <span class="guilabel">Guardar como…</span>.</p></li>
</ol>
<img alt="../_images/2623.png" class="align-center" src="../_images/2623.png" />
<ol class="arabic simple" start="27">
<li><p>En el <span class="guilabel">Guardar capa vectorial como…</span>, elija <cite>WGS84</cite> como el SRC. Esto porque el formato KML necesita que las coordenadas estén en este SRC. Nombre su KML como <code class="docutils literal notranslate"><span class="pre">cities_near_river.kml</span></code>.</p></li>
</ol>
<img alt="../_images/2722.png" class="align-center" src="../_images/2722.png" />
<ol class="arabic simple" start="28">
<li><p>Abra Google Earth y verifique que las ciudades representadas por estas zonas de influencia son en efecto cercanas a ríos.</p></li>
</ol>
<img alt="../_images/2821.png" class="align-center" src="../_images/2821.png" />
</section>
</section>





  <!-- Comment Section Powered by utterances -->
<div id="comments">
  <hr />
  <p>If you want to give feedback or share your experience with this tutorial, please comment below. (requires GitHub account)</p>
<script src="https://utteranc.es/client.js"
        repo="spatialthoughts/qgis-tutorials"
        issue-term="title"
        label="comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2023, Ujaval Gandhi.<br/>
      Actualizado por última vez en feb 18, 2024.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.0.1.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/performing_spatial_queries.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>