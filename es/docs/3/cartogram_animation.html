<!DOCTYPE html>

<html lang="es" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Creación de un cartograma animado (QGIS3) &#8212; QGIS Tutorials and Tips</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css?v=0bf093e7" />
    <script src="../../_static/documentation_options.js?v=92345faf"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/translations.js?v=f85f4cfb"></script>
    <link rel="search" title="Búsqueda" href="../../search.html" />
    <link rel="next" title="Visualización y Enrutamiento Básico de Red (QGIS3)" href="basic_network_analysis.html" />
    <link rel="prev" title="Creación de mapas interactivos (QGIS3)" href="interactive_reveal_maps.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>


<!-- Cookie Notice -->
<!-- Script from https://github.com/AOEpeople/cookie-notice -->
<script type="text/javascript" src="../../_static/cookie.notice.min.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1WQ7B80XJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B1WQ7B80XJ');
</script>


  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introducción</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">Haciendo un Mapa (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_attributes.html">Trabajando con atributos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">Importar Hojas de Cálculo o archivos CSV (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Estilo Básico Vectorial (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_line_lengths.html">Calcular Longitudes y Estadísticas de Línea (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Estilos y Análisis Básicos Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Mosaicar y Recortar Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Trabajar con Datos de Terreno (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">Trabajar con Datos WMS (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_projections.html">Trabajar con Proyecciones (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">Georeferenciar Hojas Topográficas y Mapas Escaneados (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">Georeferenciar Imágenes Aéreas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">Digitalizar Datos del Mapa (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins.html">Realizar Uniones de Tablas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_joins.html">Realizar Uniones Espaciales (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Realizar Consultas Espaciales (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="nearest_neighbor_analysis.html">Análisis del Vecino Más Cercano (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_raster_data.html">Muestrear Datos Ráster usando Puntos o Polígonos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_raster_area.html">Cálcular el área ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_heatmaps.html">Crear Mapas de Calor (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="animating_time_series.html">Animar Datos de Series de Tiempo (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="handling_invalid_geometries.html">Manejar Geometrías No Válidas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_raster_analysis.html">Análisis Avanzado de Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolating_point_data.html">Interpolar Datos Punto (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Procesamiento por Lotes usando el Marco de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_graphical_modeler.html">Automatizar Flujos de Trabajo Complejos usando el Modelador de Procesos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="automating_map_creation.html">Automatización de la creación de mapas con el Atlas de diseñador de impresiones  (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="multi_criteria_overlay.html">Análisis de Sobreposición Multicriterio (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="vector_styling_expressions.html">Filtrado básico y estilización con expresiones (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="block_world_styling.html">Creación de un Mapa Mundial de Bloques (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="river_styling_expressions.html">Estilización de una red fluvial con expresiones (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="contour_3d_styling.html">Styling Contours in 3D (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="isometric_buildings.html">Creación de edificios isométricos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactive_canvas_maps.html">Creación de mapas interactivos en lienzo (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactive_reveal_maps.html">Creación de mapas interactivos (QGIS3)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Creación de un cartograma animado (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_network_analysis.html">Visualización y Enrutamiento Básico de Red (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="origin_destination_matrix.html">Localizando la Instalación Más Cercana con Matriz Origen-Destino (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="service_area_analysis.html">Análisis de Área de Servicio usando Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="travel_time_analysis.html">Análisis del tiempo de viaje con el movimiento de Uber (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="areal_mean_rainfall.html">Calcular la Precipitación Media de Área (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="colorized_river_basin_map.html">Creación de un mapa de cuenca fluvial coloreado (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_landuse_map.html">Creación de un mapa de uso de la tierra (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_intersection_density.html">Calcular Densidad de Intersección de Calle (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="landuse_buffer.html">Determinación de zonas de influencia de usos de la tierra (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="solidwaste_mapping.html">Cartografía de los volúmenes de eliminación de residuos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_with_pyqgis.html">Iniciándote con la Programación Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_algorithms_pyqgis.html">Ejecutar Algoritmos de Procesamiento vía Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_python_functions.html">Usando Funciones de Expresión Python Personalizadas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_scripts.html">Escribir Scripts Python para el Marco de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_a_python_plugin.html">Construyendo un Complemento Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_plugin.html">Construyendo un Complemento de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_qgis_jobs.html">Ejecutar y Programar Trabajos de Procesamiento QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_mapping_with_qgis2web.html">Mapeo Web con QGIS2Web (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_basemaps_with_qtiles.html">Creando Mapas Base con QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Usar Complementos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../downloading_osm_data.html">Buscando y descargando datos de OpenStreetMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learning_resources.html">Recursos de Aprendizaje QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Créditos de los Datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../batch_processing.html">Procesamiento por Lotes usando el Marco de Procesamiento (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="interactive_reveal_maps.html" title="Previous Chapter: Creación de mapas interactivos (QGIS3)"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Creación de m...</span>
    </a>
  </li>
  <li>
    <a href="basic_network_analysis.html" title="Next Chapter: Visualización y Enrutamiento Básico de Red (QGIS3)"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Visualización... &raquo;</span>
    </a>
  </li>
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p><a href="https://www.linkedin.com/in/spatialthoughts/"><img src="../../_static/ujaval.png">Ujaval Gandhi</a></p>

<hr>
<p>Want to learn QGIS in a structured way? Check out <a href="https://spatialthoughts.com/" target="_blank">Spatial Thoughts</a> for more learning materials and instructor-led online programs with QGIS.org certification.</p>

<hr>
<p>These tutorials are also available in many other languages. Please see <a href="https://www.qgistutorials.com/en/docs/introduction.html#translations" target="_blank">translations</a> page.
</p>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      

  <section id="creating-an-animated-cartogram-qgis3">
<h1>Creación de un cartograma animado (QGIS3)<a class="headerlink" href="#creating-an-animated-cartogram-qgis3" title="Link to this heading">¶</a></h1>
<p>El cartograma es un tipo de visualización cartográfica en el que la forma de cada objeto espacial se distorsiona en proporción a una variable. Los cartogramas facilitan la visualización de grandes variaciones en los datos. El método más sencillo para crear un cartograma es escalar el tamaño de cada región en función de una variable. Este método conserva la forma original del polígono y sólo cambia el tamaño. Estos se conocen como <a class="reference external" href="https://es.wikipedia.org/wiki/Cartograma#Cartogramas_sin_contig%C3%BCidad">Cartogramas isomórficos no contiguos</a>. En este tutorial aprenderemos a utilizar expresiones de QGIS para crear un cartograma y a utilizar el Controlador Temporal para crear una animación que transforme gradualmente los objetos espaciales hasta el tamaño objetivo.</p>
<p>Este tutorial se basa en el excelente tutorial sobre cartogramas de Hans van der Kwast &lt;<a class="reference external" href="https://www.youtube.com/watch?v=qxKD6wcFUcE">https://www.youtube.com/watch?v=qxKD6wcFUcE</a>&gt;`_. La fórmula del factor de escala utilizada aquí procede del artículo original <a class="reference external" href="https://doi.org/10.1111/j.0033-0124.1976.00371.x">Noncontiguous Area Cartograms</a> de Judy M Olson.</p>
<p>También puede ver mi vídeo de YouTube <a class="reference external" href="https://www.youtube.com/watch?v=4Rtwqv_z-F4">Expresiones QGIS: Gemas ocultas y posibilidades inesperadas</a> que explica los conceptos en los que se basa este tutorial.</p>
<section id="overview-of-the-task">
<h2>Visión general de la tarea<a class="headerlink" href="#overview-of-the-task" title="Link to this heading">¶</a></h2>
<p>Tomaremos una capa de estados de EE.UU. y crearemos un cartograma animado escalando cada estado según su población. El mapa resultante tendrá la superficie de cada estado proporcional a su población.</p>
<blockquote>
<div><img alt="../../_images/output.gif" class="align-center" src="../../_images/output.gif" />
</div></blockquote>
</section>
<section id="get-the-data">
<h2>Obtener los datos<a class="headerlink" href="#get-the-data" title="Link to this heading">¶</a></h2>
<p><a class="reference external" href="https://www.census.gov/">La Oficina del Censo de los Estados Unidos</a> proporciona archivos de límites cartográficos junto con conjuntos de datos demográficos. Descargaremos los datos y los procesaremos para crear una capa de datos adecuada para nuestra tarea.</p>
<ol class="arabic simple">
<li><p>Visite la página de datos <a class="reference external" href="https://www.census.gov/geographies/mapping-files/time-series/geo/carto-boundary-file.html">Cartographic Boundary Files - Shapefile</a> en el sitio web de la Oficina del Censo de Estados Unidos. Desplácese hacia abajo y descargue el archivo shape de los estados <code class="docutils literal notranslate"><span class="pre">cb_2018_us_state_20m.zip</span></code>. Contiene los polígonos estatales que necesitamos para la visualización.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/data19.png" class="align-center" src="../../_images/data19.png" />
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Los polígonos estatales no contienen datos demográficos. Estos datos deben descargarse por separado y unirse al archivo shape para su uso en un SIG. Visite la página <a class="reference external" href="https://www.census.gov/data/tables/time-series/demo/popest/2020s-state-total.html">Totales de Población Estatal y Componentes de Cambio: 2020-2023</a> y descargue las <em>Estimaciones Anuales de Población, Componentes Estimados de Cambio de Población Residente y Tasas de los Componentes de Cambio de Población Residente para los Estados Unidos, Estados, Distrito de Columbia y Puerto Rico: April 1, 2020 to July 1, 2023</em> dataset que se descargará como <code class="docutils literal notranslate"><span class="pre">NST-EST2023-ALLDATA.csv</span></code>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/data23.png" class="align-center" src="../../_images/data23.png" />
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Abra QGIS. Localice el archivo <code class="docutils literal notranslate"><span class="pre">cb_2018_us_state_20m.zip</span></code> en el <span class="guilabel">Browser</span> de QGIS y expándalo. Arrastre y suelte la capa <code class="docutils literal notranslate"><span class="pre">cb_2018_us_state_20m.shp</span></code> al lienzo.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/data33.png" class="align-center" src="../../_images/data33.png" />
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>Se añadirá una nueva capa <code class="docutils literal notranslate"><span class="pre">cb_2018_us_state_20m</span></code> al panel <span class="guilabel">Layers`</span>. A continuación, cargaremos el archivo CSV. Haga clic en el botón <span class="guilabel">Abrir gestor de fuentes de datos</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/data43.png" class="align-center" src="../../_images/data43.png" />
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p>Cambie a la pestaña <span class="guilabel">Texto delimitado</span>. Haga clic en <span class="guilabel">…</span> junto a <span class="guilabel">Nombre de archivo</span> y busque el archivo descargado <code class="docutils literal notranslate"><span class="pre">NST-EST2023-ALLDATA.csv</span></code>. Despliegue la sección <span class="guilabel">Definición de geometría</span> y seleccione <code class="docutils literal notranslate"><span class="pre">Sin</span> <span class="pre">geometría</span> <span class="pre">(tabla</span> <span class="pre">sólo</span> <span class="pre">de</span> <span class="pre">atributos)</span></code>. Haga clic en <span class="guilabel">Añadir</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/data53.png" class="align-center" src="../../_images/data53.png" />
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p>Se añadirá una nueva capa <code class="docutils literal notranslate"><span class="pre">NST-EST2023-ALLDATA</span></code> al panel <span class="guilabel">Capas`</span>. Haga clic con el botón derecho y seleccione <span class="guilabel">Abrir tabla de atributos</span>. Esta tabla contiene los recuentos de población en la columna <code class="docutils literal notranslate"><span class="pre">POPESTIMATE2023</span></code>. Cada estado tiene un id único en la columna <code class="docutils literal notranslate"><span class="pre">STATE</span></code> que utilizaremos para unir esta tabla con la capa de polígonos.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/data63.png" class="align-center" src="../../_images/data63.png" />
</div></blockquote>
<ol class="arabic simple" start="7">
<li><p>Haga clic con el botón derecho en la capa <code class="docutils literal notranslate"><span class="pre">cb_2018_us_state_20m</span></code> y seleccione <span class="guilabel">Abrir tabla de atributos`</span>. Los identificadores de estado se encuentran en la columna <code class="docutils literal notranslate"><span class="pre">GEOID</span></code>. Aunque los números son los mismos, están formateados como números de 2 dígitos con 0 de relleno. Para hacerlos coincidir con la columna <code class="docutils literal notranslate"><span class="pre">STATE</span></code> de nuestra tabla de población, necesitamos números con un formato similar. Seleccione <code class="docutils literal notranslate"><span class="pre">NST-EST2023-ALLDATA</span></code>. Vaya a <span class="menuselection">Procesos ‣ Caja de herramientas</span>. Busque y localice el algoritmo <span class="menuselection">Tabla vectorial ‣ Calculadora de campos</span>. Haga doble clic para abrirlo.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/data73.png" class="align-center" src="../../_images/data73.png" />
</div></blockquote>
<ol class="arabic simple" start="8">
<li><p>En el cuadro de diálogo <span class="guilabel">Calculadora de campos</span>, seleccione <code class="docutils literal notranslate"><span class="pre">NST-EST2023-ALLDATA</span></code> como <span class="guilabel">Capa de entrada`</span>. Introduzca <code class="docutils literal notranslate"><span class="pre">GEOID</span></code> como <span class="guilabel">Nombre de campo`</span> y defina el <span class="guilabel">Tipo de campo de resultado`</span> como <code class="docutils literal notranslate"><span class="pre">Texto</span> <span class="pre">(cadena)</span></code>. A continuación, tomaremos los números del campo <code class="docutils literal notranslate"><span class="pre">STATE</span></code> y utilizaremos la función <code class="docutils literal notranslate"><span class="pre">lpad()</span></code> para crear una cadena de 2 dígitos con 0 puntos. Introduzca la siguiente expresión y haga clic en <span class="guilabel">Ejecutar</span>.</p></li>
</ol>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lpad(&quot;STATE&quot;, 2, &#39;0&#39;)
</pre></div>
</div>
<img alt="../../_images/data82.png" class="align-center" src="../../_images/data82.png" />
</div></blockquote>
<ol class="arabic simple" start="9">
<li><p>Se añadirá una nueva capa <code class="docutils literal notranslate"><span class="pre">Calculated</span></code> al panel <span class="guilabel">Capas</span>. Haga clic con el botón derecho y seleccione <span class="guilabel">Abrir tabla de atributos</span>. Observe que la columna recién creada <code class="docutils literal notranslate"><span class="pre">GEOID</span></code> tiene los identificadores correctamente formateados. Ahora podemos utilizar este campo para unir esta tabla con la capa de estados. Busque y localice el algoritmo <span class="menuselection">Vector general ‣ Unir atributos por valor de campo</span>. Haga doble clic para abrirlo.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/data92.png" class="align-center" src="../../_images/data92.png" />
</div></blockquote>
<ol class="arabic simple" start="10">
<li><p>En el cuadro de diálogo <span class="guilabel">Unir atributos por valor de campo</span>, seleccione <code class="docutils literal notranslate"><span class="pre">cb_2018_us_state_20m</span></code> como <span class="guilabel">Capa de entrada</span>. Seleccione <code class="docutils literal notranslate"><span class="pre">GEOID</span></code> como <span class="guilabel">Campo de tabla</span>. Para <span class="guilabel">Capa de entrada 2</span>, seleccione nuestra tabla <code class="docutils literal notranslate"><span class="pre">Calculated</span></code> y <span class="guilabel">Campo de tabla 2`</span> seleccione <code class="docutils literal notranslate"><span class="pre">GEOID</span></code>. La tabla tiene muchas columnas pero sólo necesitamos la población del último año. Haga clic en el botón <span class="guilabel">…</span> de <span class="guilabel">Campos 2 a copiar`</span> y seleccione sólo el campo <code class="docutils literal notranslate"><span class="pre">POPESTIMATE2023</span></code>. Deje las demás opciones predeterminadas y haga clic en <span class="guilabel">Ejecutar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/data102.png" class="align-center" src="../../_images/data102.png" />
</div></blockquote>
<ol class="arabic simple" start="11">
<li><p>Se añadirá una nueva capa <code class="docutils literal notranslate"><span class="pre">Joined</span> <span class="pre">layer</span></code> al panel <span class="guilabel">Capas</span>. Antes de utilizar esta capa para nuestro cartograma, vamos a reproyectarla a un SRC proyectado. Busque y localice el algoritmo <span class="menuselection">Vector general ‣ Reproyectar capa</span>. Haga doble clic para abrirlo.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/data114.png" class="align-center" src="../../_images/data114.png" />
</div></blockquote>
<ol class="arabic simple" start="12">
<li><p>En el cuadro de diálogo <span class="guilabel">Reproyectar capa</span>, seleccione <code class="docutils literal notranslate"><span class="pre">Joined</span> <span class="pre">layer</span></code> como <span class="guilabel">Capa de entrada</span>. Para la <span class="guilabel">Capa de destino</span>, haga clic en el botón <span class="guilabel">Seleccionar capa</span>. Busque el CRS <code class="docutils literal notranslate"><span class="pre">North_America_Albers_Equal_Area_Conic</span></code> y selecciónelo. Esta es nuestra capa final, así que la guardaremos en disco. Haga clic en el botón <span class="guilabel">…</span> situado junto a <span class="guilabel">Reproyectado</span> y seleccione <span class="guilabel">Guardar en archivo…</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/data123.png" class="align-center" src="../../_images/data123.png" />
</div></blockquote>
<ol class="arabic simple" start="13">
<li><p>Introduzca el nombre de la capa como <code class="docutils literal notranslate"><span class="pre">us_states_with_population.gpkg</span></code> y seleccione <span class="guilabel">Guardar</span>. Haga clic en <span class="guilabel">Ejecutar</span> para crear el archivo GeoPackage con los datos reproyectados.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/data132.png" class="align-center" src="../../_images/data132.png" />
</div></blockquote>
<p>Utilizaremos esta capa en la siguiente sección. Para mayor comodidad, puede descargar directamente una copia de la capa anterior desde abajo:</p>
<p><a class="reference external" href="https://www.qgistutorials.com/downloads/us_states_with_population.gpkg">us_states_with_population.gpkg</a></p>
<p>Fuente de datos <a class="reference internal" href="../credits.html#uscensus" id="id1"><span>[USCENSUS]</span></a></p>
</section>
<section id="procedure">
<h2>Procedimiento<a class="headerlink" href="#procedure" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Inicie un nuevo proyecto QGIS. Localice el archivo <code class="docutils literal notranslate"><span class="pre">us_states_with_population.gpkg</span></code> en la etiqueta <span class="guilabel">Navegador</span> y expándalo. Arrastre y suelte la capa <code class="docutils literal notranslate"><span class="pre">us_states_with_population</span></code> al lienzo vacío.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/140.png" class="align-center" src="../../_images/140.png" />
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Se añadirá una nueva capa <code class="docutils literal notranslate"><span class="pre">us_states_with_population</span></code> al panel <span class="guilabel">Capas</span>. Haga clic con el botón derecho y seleccione <span class="guilabel">Abrir tabla de atributos</span>. Para nuestro cartograma, necesitamos utilizar la densidad de población como variable. Utilizaremos los valores de población del campo <code class="docutils literal notranslate"><span class="pre">POPESTIMATE2023</span></code>. Cierra la tabla de atributos.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/227.png" class="align-center" src="../../_images/227.png" />
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Busque y localice el algoritmo <span class="menuselection">Tabla vectorial ‣ Calculadora de campos</span> de la Caja de herramientas de procesado. Haga doble clic para abrirlo.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/319.png" class="align-center" src="../../_images/319.png" />
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>En el cuadro de diálogo <span class="guilabel">Calculadora de campos</span>, seleccione <code class="docutils literal notranslate"><span class="pre">us_states_with_population</span></code> como <span class="guilabel">Capa de entrada`</span>. Introduzca <code class="docutils literal notranslate"><span class="pre">density</span></code> como <span class="guilabel">Nombre de campo`</span>. Introduzca la siguiente expresión para calcular la densidad. Como la función <code class="docutils literal notranslate"><span class="pre">area(&#64;geometry)</span></code> calcula el área en la unidad del SRC (que está en metros), aplicamos el factor de conversión para convertirla a kilómetros cuadrados. Pulse <span class="guilabel">Ejecutar</span>.</p></li>
</ol>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>1000*1000* &quot;POPESTIMATE2023&quot; /
area(@geometry)
</pre></div>
</div>
<img alt="../../_images/48.png" class="align-center" src="../../_images/48.png" />
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p>Haga clic en el botón <span class="guilabel">…</span> situado junto a <span class="guilabel">Calculado</span> y seleccione <span class="guilabel">Guardar en archivo…</span>. Introduzca el nombre de la capa como <code class="docutils literal notranslate"><span class="pre">us_states_population_density.gpkg</span></code> y seleccione <span class="guilabel">Guardar</span>. Pulse <span class="guilabel">Ejecutar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/58.png" class="align-center" src="../../_images/58.png" />
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p>Se añadirá una nueva capa <code class="docutils literal notranslate"><span class="pre">us_states_population_density</span></code> al panel <span class="guilabel">Capas</span>. Haga clic con el botón derecho y seleccione <span class="guilabel">Abrir tabla de atributos</span>. Tenemos que elegir un objeto espacial <strong>Anchor</strong> con respecto a la cual se escalarán todas los demás objetos espacial. Lo ideal sería elegir el objeto espacial con el valor más alto de la variable que desea utilizar para el cartograma. De este modo se asegurará de que no haya zonas superpuestas. Haga doble clic en la cabecera de la columna <span class="guilabel">densidad</span> para ordenar la tabla por densidad. Observará que el valor de densidad más alto de nuestro conjunto de datos es bastante grande en comparación con otros valores y pertenece a un estado bastante pequeño. Esto hará que todos los objetos espaciales se reduzcan a tamaños muy pequeños. Podemos elegir la segunda prestación de mayor densidad, que tiene una superficie relativamente grande y su densidad es comparable al de otros objetos espaciales.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/68.png" class="align-center" src="../../_images/68.png" />
</div></blockquote>
<ol class="arabic simple" start="7">
<li><p>En los cartogramas de áreas, el factor de escala determina cuánto se reduce el área del objeto espacial. Debemos reducir el área de cada objeto espacial para que la densidad de población del objeto espacial sea la misma que la densidad de población del objeto espacial de anclaje. La fórmula del factor de escala es la relación entre la raíz cuadrada del valor del objeto espacial y la raíz cuadrada del valor del objeto espacial de anclaje. Abra el algoritmo <span class="menuselection">Tabla vectorial ‣ Calculadora de campo</span> de la Caja de herramientas de procesamiento. En el cuadro de diálogo <span class="guilabel">Calculadora de campos</span>, seleccione <code class="docutils literal notranslate"><span class="pre">us_states_population_density</span></code> como <span class="guilabel">Capa de entrada</span>. Introduzca <code class="docutils literal notranslate"><span class="pre">factor_escala</span></code> como <span class="guilabel">Nombre_de_campo`</span>. Introduzca la siguiente expresión para calcular el factor de escala. La expresión calcula la relación entre la raíz cuadrada de la densidad del objeto espacial y la raíz cuadrada de la densidad del segundo valor de densidad más grande. Haga clic en el botón <span class="guilabel">…</span> situado junto a <span class="guilabel">Calculado</span> y seleccione <span class="guilabel">Guardar en archivo…</span>. Introduzca el nombre de la capa como <code class="docutils literal notranslate"><span class="pre">us_states_scale_factor.gpkg</span></code> y seleccione <span class="guilabel">Guardar</span>. Pulse <span class="guilabel">Ejecutar</span>.</p></li>
</ol>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sqrt(&quot;density&quot;)/array_get(array_agg(
   expression:=sqrt(&quot;density&quot;),
   order_by:=sqrt(&quot;density&quot;)), -2)
</pre></div>
</div>
<img alt="../../_images/78.png" class="align-center" src="../../_images/78.png" />
</div></blockquote>
<ol class="arabic simple" start="8">
<li><p>Se añadirá una nueva capa <code class="docutils literal notranslate"><span class="pre">us_states_scale_factor</span></code> al panel <span class="guilabel">Capas</span>. Haga clic con el botón derecho y seleccione <span class="guilabel">Abrir tabla de atributos</span>. El campo <code class="docutils literal notranslate"><span class="pre">scale_factor</span></code> contiene ahora la proporción en la que debe escalarse cada objeto espacial para que tenga la misma densidad de población que el objeto espacial de anclaje.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/88.png" class="align-center" src="../../_images/88.png" />
</div></blockquote>
<ol class="arabic simple" start="9">
<li><p>Sólo necesitamos la capa <code class="docutils literal notranslate"><span class="pre">us_states_scale_factor</span></code> para la visualización final. Seleccione las capas restantes, haga clic con el botón derecho y seleccione <span class="guilabel">Quitar capa</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/98.png" class="align-center" src="../../_images/98.png" />
</div></blockquote>
<ol class="arabic simple" start="10">
<li><p>Seleccione la capa <code class="docutils literal notranslate"><span class="pre">us_states_scale_factor</span></code> y haga clic en el botón <span class="guilabel">Abrir el panel de estilos de capa</span> del panel <span class="guilabel">Capas</span>. Seleccione <span class="guilabel">Relleno simple</span> y abra el selector desplegable de <span class="guilabel">Tipo de capa de símbolos</span>. Establezca <span class="guilabel">Tipo de capa de símbolo</span> en <code class="docutils literal notranslate"><span class="pre">Contorno:</span> <span class="pre">Línea</span> <span class="pre">simple</span></code> y seleccione un <span class="guilabel">Color</span> de su elección. Esta capa de símbolos será una referencia para nuestro mapa cuando redimensionemos los polígonos.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1012.png" class="align-center" src="../../_images/1012.png" />
</div></blockquote>
<ol class="arabic simple" start="11">
<li><p>Haga clic en el botón <span class="guilabel">Añadir capa de símbolos (+)</span>. Se añadirá una nueva capa de símbolo <span class="guilabel">Relleno simple</span>. Ajuste el <span class="guilabel">Color de relleno</span> al mismo color que las líneas y el <span class="guilabel">Color de trazo</span> a un color ligeramente más oscuro.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1115.png" class="align-center" src="../../_images/1115.png" />
</div></blockquote>
<ol class="arabic simple" start="12">
<li><p>A continuación, abre el selector desplegable de <span class="guilabel">Tipo de capa de símbolos</span> y selecciona <code class="docutils literal notranslate"><span class="pre">Generador</span> <span class="pre">de</span> <span class="pre">geometría</span></code> como <span class="guilabel">Tipo de capa de símbolos`</span>. El generador de geometría nos permite modificar la geometría para el renderizado utilizando expresiones. Haz clic en el botón <span class="guilabel">Constructor de expresiones</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1213.png" class="align-center" src="../../_images/1213.png" />
</div></blockquote>
<ol class="arabic simple" start="13">
<li><p>Utilizaremos la función <cite>scale()</cite> que redimensiona la geometría dada por factores de escala X e Y. Para nuestro cartograma, queremos redimensionar cada polígono por la relación entre su población y la población más alta. Introduzca la siguiente expresión para aplicar este escalado y pulse <span class="guilabel">Aceptar</span>.</p></li>
</ol>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>scale(
   @geometry,
   &quot;scale_factor&quot;,
   &quot;scale_factor&quot;,
   centroid(@geometry)
)
</pre></div>
</div>
<img alt="../../_images/1311.png" class="align-center" src="../../_images/1311.png" />
</div></blockquote>
<ol class="arabic simple" start="14">
<li><p>Verá que los polígonos de los estados tienen ahora el tamaño de la proporción de la población de cada estado con respecto a la población más alta. Muchos estados grandes con baja densidad de población son ahora mucho más pequeños que su tamaño original. Notará que los polígonos con formas irregulares están descentrados después de ser escalados. Esto se debe a que el punto de anclaje del escalado es el centroide de la geometría, que suele ser el punto representativo del polígono. Actualicemos nuestra expresión para solucionar este problema. Haga clic en el botón <span class="guilabel">Constructor de expresiones</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1410.png" class="align-center" src="../../_images/1410.png" />
</div></blockquote>
<ol class="arabic simple" start="15">
<li><p>La función <cite>scale()</cite> toma un parámetro opcional para especificar el punto central de escala. Utilizaremos la función <cite>pole_of_inaccessibility()</cite> para encontrar un punto ancla representativo para cada polígono. Esto es similar a un centroide, pero se garantiza que está dentro del polígono mientras que un centroide puede caer fuera para ciertas formas. Actualice la expresión como se muestra a continuación que calcula el polo de inaccesibilidad de la geometría con un pequeño valor de tolerancia y haga clic en <span class="guilabel">Aceptar</span>.</p></li>
</ol>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>scale(
    @geometry,
    &quot;scale_factor&quot;,
    &quot;scale_factor&quot;,
    pole_of_inaccessibility(@geometry, 100)
)
</pre></div>
</div>
<img alt="../../_images/1510.png" class="align-center" src="../../_images/1510.png" />
</div></blockquote>
<ol class="arabic simple" start="16">
<li><p>Ahora los polígonos escalados tendrán una colocación mucho mejor. Vemos otro problema. Muchos objetos espacial de la capa son <strong>Multipolígonos</strong>, es decir, tienen más de una parte. Tales objetos espaciales tienen 2 o más polígonos que forman parte de la misma geometría. Con nuestra expresión actual, ambos se escalan con el mismo punto de anclaje calculado a partir de la geometría combinada. Esto no es lo ideal. Por ejemplo, un objeto espacial de gran tamaño con varias islas debería escalarse de forma que cada isla se escalara con su propio punto central. Para solucionar esto, actualizamos nuestra expresión para iterar sobre cada parte de la geometría y escalarla con su propio centro. Haga clic en el botón <span class="guilabel">Constructor de expresiones</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/169.png" class="align-center" src="../../_images/169.png" />
</div></blockquote>
<ol class="arabic simple" start="17">
<li><p>Aquí utilizamos la función <cite>array_foreach()</cite> para iterar sobre cada parte de la geometría y generar las versiones escaladas de las mismas. Finalmente la función <cite>collect_geometries()</cite> combina cada parte escalada en una única geometría multipoligonal. Actualice la expresión como se muestra a continuación y haga clic en <span class="guilabel">Aceptar</span>.</p></li>
</ol>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>collect_geometries(
    array_foreach(generate_series(1, @geometry_part_count),
            scale(geometry_n(@geometry,@element),
                    &quot;scale_factor&quot;,
                    &quot;scale_factor&quot;,
pole_of_inaccessibility(geometry_n(@geometry,@element), 100)
            )
    )
)
</pre></div>
</div>
<img alt="../../_images/1710.png" class="align-center" src="../../_images/1710.png" />
</div></blockquote>
<ol class="arabic simple" start="18">
<li><p>El resultado es un escalado mucho mejor de los objetos espaciales multiparte.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/188.png" class="align-center" src="../../_images/188.png" />
</div></blockquote>
<ol class="arabic simple" start="19">
<li><p>Nuestro cartograma está listo. Este mapa muestra la concentración de la población en la mitad oriental de EE.UU. y una sorprendente ausencia de población en los estados situados al oeste del río Misisipi.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/197.png" class="align-center" src="../../_images/197.png" />
</div></blockquote>
<ol class="arabic simple" start="20">
<li><p>Podemos hacer una visualización mejorada creando una animación que transforme lentamente el renderizado original al tamaño final. Haga clic en el botón <span class="guilabel">Panel de control temporal</span> con el icono del Reloj en la <span class="guilabel">Barra de herramientas de navegación del mapa</span>. Seleccione el botón <span class="guilabel">Navegación temporal animada</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/207.png" class="align-center" src="../../_images/207.png" />
</div></blockquote>
<ol class="arabic simple" start="21">
<li><p>De forma predeterminada <span class="guilabel">Rango de animación</span> se rellenará con una ventana de 24 horas en el incremento de 1 hora. Esto está bien para nuestro caso de uso, ya que obtendremos 24 fotogramas de animación. Puede ajustarlo si desea una animación más lenta o más rápida. Haga clic con el botón derecho en la capa <code class="docutils literal notranslate"><span class="pre">us_states_with_population</span></code> y seleccione <span class="guilabel">Propiedades</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/2112.png" class="align-center" src="../../_images/2112.png" />
</div></blockquote>
<ol class="arabic simple" start="22">
<li><p>Seleccione la pestaña <span class="guilabel">Temporal</span> y active el <span class="guilabel">Control Temporal Dinámico</span>. Esta capa se actualizará mediante expresión, por lo que no es necesario configurarla aquí. Simplemente seleccione <code class="docutils literal notranslate"><span class="pre">Redibujar</span> <span class="pre">sólo</span> <span class="pre">capa</span></code> para que la capa se actualice después de cada paso de tiempo y se muestre con los valores actualizados de la expresión.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/228.png" class="align-center" src="../../_images/228.png" />
</div></blockquote>
<ol class="arabic simple" start="23">
<li><p>Actualicemos nuestra expresión del Generador de geometría para utilizar los pasos de tiempo de la animación y escalar gradualmente la geometría. Haga clic en el botón <span class="guilabel">Abrir el panel de estilo de capas</span> en el panel <span class="guilabel">Capas</span>. Seleccione <span class="guilabel">Generador de geometría</span> seguido del botón <span class="guilabel">Constructor de expresiones</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/236.png" class="align-center" src="../../_images/236.png" />
</div></blockquote>
<ol class="arabic simple" start="24">
<li><p>Aquí queremos empezar con un factor de escala de 1 y terminar con el valor final del factor de escala para la prestación en el campo <code class="docutils literal notranslate"><span class="pre">scale_factor</span></code>. Usamos la función <cite>scale_linear()</cite> que toma el tiempo del paso de tiempo actual y calcula el factor de escala usando los tiempos inicial y final. Actualice la expresión como se muestra a continuación y haga clic en <span class="guilabel">Aceptar</span>.</p></li>
</ol>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>collect_geometries(
    array_foreach(generate_series(1, @geometry_part_count),
            scale(geometry_n(@geometry,@element),
                    scale_linear(
                            epoch(@map_start_time),
                            epoch(@animation_start_time),
                            epoch(@animation_end_time),
                            1,
                            &quot;scale_factor&quot;),
                    scale_linear(
                            epoch(@map_start_time),
                            epoch(@animation_start_time),
                            epoch(@animation_end_time),
                            1,
                            &quot;scale_factor&quot;),
pole_of_inaccessibility(geometry_n(@geometry,@element), 100)
            )
    )
)
</pre></div>
</div>
<img alt="../../_images/247.png" class="align-center" src="../../_images/247.png" />
</div></blockquote>
<ol class="arabic simple" start="25">
<li><p>De nuevo en el panel <span class="guilabel">Controlador temporal</span>, haga clic en el botón <span class="guilabel">Reproducir</span> para ver la animación. Debería ver la forma de cada polígono escalada gradualmente después de cada fotograma.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/257.png" class="align-center" src="../../_images/257.png" />
</div></blockquote>
<ol class="arabic simple" start="26">
<li><p>Una vez que esté satisfecho con la configuración, podemos exportar la animación. Haga clic en el botón <span class="guilabel">Exportar animación</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/266.png" class="align-center" src="../../_images/266.png" />
</div></blockquote>
<ol class="arabic simple" start="27">
<li><p>En el cuadro de diálogo <span class="guilabel">Exportar animación de mapa</span>, haga clic en <span class="guilabel">…</span> junto a <span class="guilabel">Directorio de salida</span> y busque cualquier carpeta de su computadora. Mantenga las demás opciones predeterminadas y haga clic en <span class="guilabel">Guardar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/277.png" class="align-center" src="../../_images/277.png" />
</div></blockquote>
<ol class="arabic simple" start="28">
<li><p>Los fotogramas individuales de la animación se exportarán como imágenes. Podemos crear un vídeo o GIF animado a partir de estos fotogramas. Recomiendo utilizar el sitio web ezgif.com que permite crear GIFs a partir de imágenes individuales fácilmente. Visite <a class="reference external" href="https://ezgif.com/maker">Ezgif Animated GIF Maker</a>. Navegue hasta los fotogramas de animación exportados y haga clic en <span class="guilabel">¡Cargar archivos!</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/287.png" class="align-center" src="../../_images/287.png" />
</div></blockquote>
<ol class="arabic simple" start="29">
<li><p>Configure las opciones GIF ajustando <span class="guilabel">Tiempo de retardo</span> a <code class="docutils literal notranslate"><span class="pre">5</span></code>. Marque el efecto <span class="guilabel">Fotogramas cruzados</span> y establezca los valores de <span class="guilabel">Retardo de fundido</span> y <span class="guilabel">Cuento de fundido</span> en <code class="docutils literal notranslate"><span class="pre">2</span></code>. Haga clic en <span class="guilabel">Hacer un GIF</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/296.png" class="align-center" src="../../_images/296.png" />
</div></blockquote>
<ol class="arabic simple" start="30">
<li><p>Haga clic en el botón <span class="guilabel">guardar</span> para descargar la animación como archivo GIF.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/output.gif" class="align-center" src="../../_images/output.gif" />
<img alt="../../_images/hawaii.gif" class="align-center" src="../../_images/hawaii.gif" />
<img alt="../../_images/alaska.gif" class="align-center" src="../../_images/alaska.gif" />
</div></blockquote>
</section>
</section>



<!-- Turn on comments on only newer tutorials having 3/ in URL -->

  <!-- Comment Section Powered by utterances -->
<div id="comments">
  <hr />
  <p>If you want to give feedback or share your experience with this tutorial, please comment below. (requires GitHub account)</p>
<script src="https://utteranc.es/client.js"
        repo="spatialthoughts/qgis-tutorials"
        issue-term="title"
        label="comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2025, Ujaval Gandhi.<br/>
      Actualizado por última vez en jun 17, 2025.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 8.2.3.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a>.<br>
  You are free to use the material for any purpose as long as you give appropriate credit to the original author.</p>
</div>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/3/cartogram_animation.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>