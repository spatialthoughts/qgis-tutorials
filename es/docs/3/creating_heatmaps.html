<!DOCTYPE html>

<html lang="es" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Crear Mapas de Calor (QGIS3) &#8212; QGIS Tutorials and Tips</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css?v=0bf093e7" />
    <script src="../../_static/documentation_options.js?v=92345faf"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/translations.js?v=efdbd0b9"></script>
    <link rel="search" title="Búsqueda" href="../../search.html" />
    <link rel="next" title="Animar Datos de Series de Tiempo (QGIS3)" href="animating_time_series.html" />
    <link rel="prev" title="Cálcular el área ráster (QGIS3)" href="calculating_raster_area.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>


<!-- Cookie Notice -->
<!-- Script from https://github.com/AOEpeople/cookie-notice -->
<script type="text/javascript" src="../../_static/cookie.notice.min.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1WQ7B80XJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B1WQ7B80XJ');
</script>


  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introducción</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">Haciendo un Mapa (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_attributes.html">Trabajando con atributos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">Importar Hojas de Cálculo o archivos CSV (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Estilo Básico Vectorial (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_line_lengths.html">Calcular Longitudes y Estadísticas de Línea (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Estilos y Análisis Básicos Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Mosaicar y Recortar Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Trabajar con Datos de Terreno (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">Trabajar con Datos WMS (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_projections.html">Trabajar con Proyecciones (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">Georeferenciar Hojas Topográficas y Mapas Escaneados (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">Georeferenciar Imágenes Aéreas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">Digitalizar Datos del Mapa (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins.html">Realizar Uniones de Tablas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_joins.html">Realizar Uniones Espaciales (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Realizar Consultas Espaciales (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="nearest_neighbor_analysis.html">Análisis del Vecino Más Cercano (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_raster_data.html">Muestrear Datos Ráster usando Puntos o Polígonos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_raster_area.html">Cálcular el área ráster (QGIS3)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Crear Mapas de Calor (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="animating_time_series.html">Animar Datos de Series de Tiempo (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="handling_invalid_geometries.html">Manejar Geometrías No Válidas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_raster_analysis.html">Análisis Avanzado de Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolating_point_data.html">Interpolar Datos Punto (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Procesamiento por Lotes usando el Marco de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_graphical_modeler.html">Automatizar Flujos de Trabajo Complejos usando el Modelador de Procesos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="automating_map_creation.html">Automatización de la creación de mapas con el Atlas de diseñador de impresiones  (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="multi_criteria_overlay.html">Análisis de Sobreposición Multicriterio (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="vector_styling_expressions.html">Filtrado básico y estilización con expresiones (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="block_world_styling.html">Creación de un Mapa Mundial de Bloques (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="river_styling_expressions.html">Estilización de una red fluvial con expresiones (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="contour_3d_styling.html">Styling Contours in 3D (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="isometric_buildings.html">Creación de edificios isométricos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactive_canvas_maps.html">Creación de mapas interactivos en lienzo (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactive_reveal_maps.html">Creación de mapas interactivos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="cartogram_animation.html">Creación de un cartograma animado (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_network_analysis.html">Visualización y Enrutamiento Básico de Red (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="origin_destination_matrix.html">Localizando la Instalación Más Cercana con Matriz Origen-Destino (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="service_area_analysis.html">Análisis de Área de Servicio usando Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="travel_time_analysis.html">Análisis del tiempo de viaje con el movimiento de Uber (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="areal_mean_rainfall.html">Calcular la Precipitación Media de Área (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="colorized_river_basin_map.html">Creación de un mapa de cuenca fluvial coloreado (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_landuse_map.html">Creación de un mapa de uso de la tierra (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_intersection_density.html">Calcular Densidad de Intersección de Calle (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="landuse_buffer.html">Determinación de zonas de influencia de usos de la tierra (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="solidwaste_mapping.html">Cartografía de los volúmenes de eliminación de residuos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_with_pyqgis.html">Iniciándote con la Programación Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_algorithms_pyqgis.html">Ejecutar Algoritmos de Procesamiento vía Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_python_functions.html">Usando Funciones de Expresión Python Personalizadas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_scripts.html">Escribir Scripts Python para el Marco de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_a_python_plugin.html">Construyendo un Complemento Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_plugin.html">Construyendo un Complemento de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_qgis_jobs.html">Ejecutar y Programar Trabajos de Procesamiento QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_mapping_with_qgis2web.html">Mapeo Web con QGIS2Web (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_basemaps_with_qtiles.html">Creando Mapas Base con QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Usar Complementos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../downloading_osm_data.html">Buscando y descargando datos de OpenStreetMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learning_resources.html">Recursos de Aprendizaje QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Créditos de los Datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../batch_processing.html">Procesamiento por Lotes usando el Marco de Procesamiento (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="calculating_raster_area.html" title="Previous Chapter: Cálcular el área ráster (QGIS3)"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Cálcular el á...</span>
    </a>
  </li>
  <li>
    <a href="animating_time_series.html" title="Next Chapter: Animar Datos de Series de Tiempo (QGIS3)"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Animar Datos ... &raquo;</span>
    </a>
  </li>
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p><a href="https://www.linkedin.com/in/spatialthoughts/"><img src="../../_static/ujaval.png">Ujaval Gandhi</a></p>

<hr>
<p>Want to learn QGIS in a structured way? Check out <a href="https://spatialthoughts.com/" target="_blank">Spatial Thoughts</a> for more learning materials and instructor-led online programs with QGIS.org certification.</p>

<hr>
<p>These tutorials are also available in many other languages. Please see <a href="https://www.qgistutorials.com/en/docs/introduction.html#translations" target="_blank">translations</a> page.
</p>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      

  <section id="creating-heatmaps-qgis3">
<h1>Crear Mapas de Calor (QGIS3)<a class="headerlink" href="#creating-heatmaps-qgis3" title="Link to this heading">¶</a></h1>
<p>Los mapas de calor son una de las mejores herramientas de visualización para datos densos de puntos. El mapa de calor es una técnica de interpolación que es útil para determinar la densidad de los objetos de entrada. Los mapas de calor son usados más comúnmente para visualizar datos de crimen, incidentes de tráfico, densidad de viviendas, etc. QGIS tiene un representador de mapa de calor que puede ser usado para dar estilo a una capa punto y un algoritmo de procesamiento <strong>Mapa de calor (Estimación de Densidad de Núcleo)</strong> que puede ser usado para crear un ráster a partir de una capa punto.</p>
<section id="overview-of-the-task">
<h2>Vista general de la tarea<a class="headerlink" href="#overview-of-the-task" title="Link to this heading">¶</a></h2>
<p>Trabajaremos con un conjunto de datos de ubicaciones de crímenes en Surrey, Reino Unido y crearemos un mapa de calor para visualizar regiones con alta densidad de crimen.</p>
<section id="other-skills-you-will-learn">
<h3>Otras habilidades que aprenderá<a class="headerlink" href="#other-skills-you-will-learn" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Usar campos virtuales y expresiones condicionales</p></li>
</ul>
</section>
</section>
<section id="get-the-data">
<h2>Consigue la información<a class="headerlink" href="#get-the-data" title="Link to this heading">¶</a></h2>
<p><a class="reference external" href="https://data.police.uk">data.police.uk</a> provee datos de crimen a nivel de calle, consecuencia, y parada y búsqueda en un formato CSV simple. Descargue los datos de la <a class="reference external" href="https://data.police.uk/data/">Policiía de Surrey</a> y descomprima el archivo descargado para extraer el archivo CSV.</p>
<p>Para su comodidad, puede descargar directamente una copia del conjunto de datos del siguiente enlace:</p>
<p><a class="reference external" href="https://www.qgistutorials.com/downloads/2019-02-surrey-street.csv">2019-02-surrey-street.csv</a></p>
<p>Fuente de Datos <a class="reference internal" href="../credits.html#policeuk" id="id1"><span>[POLICEUK]</span></a></p>
</section>
<section id="procedure">
<h2>Procedimiento<a class="headerlink" href="#procedure" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>We will first load a basemap layer from <em>OpenStreetMap</em> and then import the CSV data. In the <span class="guilabel">Browser</span> tab, scroll down and locate the <span class="guilabel">XYZ Tiles</span> section.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/170.png" class="align-center" src="../../_images/170.png" />
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Expand it to see the <span class="guilabel">OpenStreetMap</span> tile layer. Drag and drop it to the main canvas. Next we will load the CSV file. Click the <span class="guilabel">Open Data Source Manager</span> button.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/238.png" class="align-center" src="../../_images/238.png" />
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Cámbiese a la pestaña <span class="guilabel">Texto Delimitado</span>. Aquí importaremos los datos de crimen que vienen en un archivo de texto de formato CSV. Clic el botón <span class="guilabel">…</span> junto a <span class="guilabel">Nombre de archivo</span> y explore archivo descargado <code class="docutils literal notranslate"><span class="pre">2019-02-surrey-street.csv</span></code>. El <span class="guilabel">Campo X</span> y <span class="guilabel">Campo Y</span> en la sección <span class="guilabel">Definición de Geometría</span> será autopoblado con las columnas <code class="docutils literal notranslate"><span class="pre">Longitud</span></code> y <code class="docutils literal notranslate"><span class="pre">`Latitud</span></code>. El <span class="guilabel">SRC de Geometría</span> debería dejarse en su definición predeterminada <code class="docutils literal notranslate"><span class="pre">EPSG:4326</span> <span class="pre">-</span> <span class="pre">WGS</span> <span class="pre">84</span></code>. Asegúrese que los datos se ven correctos en el panel <span class="guilabel">Datos de muestra</span> y clic <span class="guilabel">Añadir</span>, seguido por <span class="guilabel">Cerrar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/326.png" class="align-center" src="../../_images/326.png" />
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>Verá 2 capas - <code class="docutils literal notranslate"><span class="pre">OpenStreetMap</span></code> y <code class="docutils literal notranslate"><span class="pre">2019-02-surrey-street</span></code> cargadas en el panel QGIS <span class="guilabel">Capas</span>. Haga clic-derecho a la capa <code class="docutils literal notranslate"><span class="pre">2019-02-surrey-street</span></code> y seleccione <span class="guilabel">Zoom a la Capa</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/412.png" class="align-center" src="../../_images/412.png" />
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p>Verá la capa de puntos de incidentes de crimen sobrepuesta sobre el mapa base OpenStreetMap. Acérquese y Desplácese para explorar los datos. Los datos son bastante densos y es difícil obtener una idea de donde hay una alta concentración de crimen. Aquí es donde una visualización de mapa de calor puede ser útil. Seleccione la capa <code class="docutils literal notranslate"><span class="pre">2019-02-surrey-street</span></code> y clic el botón <span class="guilabel">Abrir el panel de Estilo de Capa</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/511.png" class="align-center" src="../../_images/511.png" />
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p>Seleccione <code class="docutils literal notranslate"><span class="pre">Mapa</span> <span class="pre">de</span> <span class="pre">Calor</span></code> como el representador en el menú desplegable. El <span class="guilabel">panel de Estilo de Capa</span> es interactivo y puede ver inmediatamente el efecto de sus cambios reflejados en pantalla. Esta capa ahora será mostrada en la rampa de color predeterminada de escala de grises.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/611.png" class="align-center" src="../../_images/611.png" />
</div></blockquote>
<ol class="arabic simple" start="7">
<li><p>Un mapa de calor es típicamente representado usando una rampa de color amarillo–a-rojo o blanco–a-rojo donde la mayor concentración de puntos resultan en más <strong>calor</strong>. Clic en el menú desplegable <span class="guilabel">Rampa de color</span> y seleccione la rampa de color <code class="docutils literal notranslate"><span class="pre">Reds</span></code>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/711.png" class="align-center" src="../../_images/711.png" />
</div></blockquote>
<ol class="arabic simple" start="8">
<li><p>A continuación necesitará escoger un <span class="guilabel">Radio</span>. Este parámetro determina la vecindad circular alrededor de cada punto donde ese punto tendrá una influencia. Este valor dependerá grandemente en el tipo su dato de entrada. Para nuestros datos, asumamos que un incidente de crimen tendrá una influencia de hasta 5 kilómetros desde su ubicación. Note que el SRC del proyecto actual  está definido como <code class="docutils literal notranslate"><span class="pre">EPSG:3857</span></code> en la esquina inferior derecha. Este SRC tiene una unidad en metro, por lo que deberíamos especificar <code class="docutils literal notranslate"><span class="pre">5000</span></code> metros como el radio. Otro parámetro que está escondido de este menú es la <span class="guilabel">Forma de núcleo</span>. Esta es una función que determina como debería difundirse la influencia de un punto a lo largo del radio dado. El representador Mapa de Calor usa la función <code class="docutils literal notranslate"><span class="pre">Cuártica</span></code> para este cálculo. Hay otros tipos de núcleos como <code class="docutils literal notranslate"><span class="pre">Triangular</span></code>, <code class="docutils literal notranslate"><span class="pre">Uniforme</span></code>, <code class="docutils literal notranslate"><span class="pre">Tripeso</span></code> y <code class="docutils literal notranslate"><span class="pre">Epanechnikov</span></code> que pueden ser especificados cuando se use un método diferente de creación de mapa de calor descrito más adelante en este tutorial. Vea <a class="reference external" href="https://www.geodose.com/2017/11/qgis-heatmap-using-kernel-density.html">esta publicación</a> para una buena explicación y guía para seleccionar el radio y forma de núcleo correctos.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/811.png" class="align-center" src="../../_images/811.png" />
</div></blockquote>
<ol class="arabic simple" start="9">
<li><p>La visualización del mapa de calor está lista. Podemos ajustar la <span class="guilabel">Opacidad</span> del mapa de calor en la sección <span class="guilabel">Representación de Capa</span> abajo. Establezcla la opacidad en <code class="docutils literal notranslate"><span class="pre">60</span> <span class="pre">%</span></code> de manera que pueda ver el mapa base junto con el mapa de calor.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/911.png" class="align-center" src="../../_images/911.png" />
</div></blockquote>
<ol class="arabic simple" start="10">
<li><p>Para varios tipos de análisis, el solo considerar la densidad de los puntos es suficiente. Pero algunas, veces, puede querer dar importancia diferente a cada punto. Un crimen más violento debería tener más influencia en el mapa de calor que un robo. De forma similar, algunas veces un punto puede representar múltiples observaciones en una sola ubicación que necesita ser tomado en cuenta en el análisis. Para hacer esto, tu puedes proporcionar un campo opcional numérico <strong>peso</strong> que especifica un valor para cada punto. Agreguemos un campo de peso y usémoslo para mejorar el mapa de calor. Haga clic-derecho en la capa <code class="docutils literal notranslate"><span class="pre">2019-02-surrey-street</span></code> y seleccione <span class="guilabel">Abrir Tabla de Atributos</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1015.png" class="align-center" src="../../_images/1015.png" />
</div></blockquote>
<ol class="arabic simple" start="11">
<li><p>Verá un campo texto llamado <code class="docutils literal notranslate"><span class="pre">Crime</span> <span class="pre">type</span></code> en los datos de entrada que describe el tipo de crimen. Podemos usar estos para categorizar los diferentes tipos de crimen y asignar un peso mayor a los crímenes más violentos.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1118.png" class="align-center" src="../../_images/1118.png" />
</div></blockquote>
<ol class="arabic simple" start="12">
<li><p>Clic en <span class="guilabel">Abrir calculadora de campo</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1216.png" class="align-center" src="../../_images/1216.png" />
</div></blockquote>
<ol class="arabic simple" start="13">
<li><p>Ahora ingresaremos una fórmula que usa el <code class="docutils literal notranslate"><span class="pre">Tipo</span> <span class="pre">de</span> <span class="pre">crimen</span></code> y determina el valor de peso. QGIS tiene una forma práctica para agregar tales campos calculados usado <em>Campos Virtuales</em>. El campo virtual es guardado en el proyecto QGIS y no modifica los datos fuentes. También es calculado dinámicamente y puede ser usado en cualquier parte en QGIS tal como cualquier otro valor de atributo. Ingrese <code class="docutils literal notranslate"><span class="pre">weight</span></code> como el <span class="guilabel">Nombre de campo de salida</span> y defina el <span class="guilabel">Tipo de campo de salida</span> como <code class="docutils literal notranslate"><span class="pre">Whole</span> <span class="pre">number</span> <span class="pre">(integer)</span></code>. Ingrese la siguiente expresión en el <span class="guilabel">Editor de expresión</span>. Aquí estamos usando la declaración <strong>CASE</strong> para asignar valores diferentes basados en diferentes condiciones. Clic en <span class="guilabel">Aceptar</span>.</p></li>
</ol>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CASE
WHEN &quot;Crime type&quot; LIKE &#39;Violence%&#39; THEN 10
WHEN &quot;Crime type&quot; LIKE &#39;Criminal%&#39; THEN 5
ELSE 1
END
</pre></div>
</div>
<img alt="../../_images/1314.png" class="align-center" src="../../_images/1314.png" />
</div></blockquote>
<ol class="arabic simple" start="14">
<li><p>Se agregará un nuevo atributo para cada entidad con el valor de peso apropiado.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1413.png" class="align-center" src="../../_images/1413.png" />
</div></blockquote>
<ol class="arabic simple" start="15">
<li><p>De vuelta en el panel <span class="guilabel">Estilo de Capa</span>, clic en el menú desplegable para <span class="guilabel">Dar peso a los puntos por</span> y seleccione el campo <code class="docutils literal notranslate"><span class="pre">weight</span></code> recientemente agregado.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1512.png" class="align-center" src="../../_images/1512.png" />
</div></blockquote>
<ol class="arabic simple" start="16">
<li><p>Verá que la representación del mapa de calor cambia para tomar en cuenta el parámetro de peso. Cierre el panel <span class="guilabel">Estilo de Capa</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1611.png" class="align-center" src="../../_images/1611.png" />
</div></blockquote>
<ol class="arabic simple" start="17">
<li><p>Si necesita que se guarde la visualización del mapa de calor como una capa ráster permanente o si quiere personalizar el mapa de calor con opciones avanzadas como núcleos diferentes o radio dinámico, puede usar el <strong>Mapa de calor (Estimación de Densidad Núcleo)</strong> de la Caja de Herramientas Procesos. Ahora usaremos este algoritmo. Vaya a <span class="menuselection">Procesos ‣ Caja de herramientas</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1712.png" class="align-center" src="../../_images/1712.png" />
</div></blockquote>
<ol class="arabic simple" start="18">
<li><p>Antes que podamos crear un mapa de calor, necesitamos reproyectar los datos fuentes a un SRC proyectado. Como la distancia juega un rol importante en el cálculo del mapa de calor, no es correcto usar un SRC geográfico. Busque el algoritmo <span class="menuselection">Vector general ‣ Reproyectar capa</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1810.png" class="align-center" src="../../_images/1810.png" />
</div></blockquote>
<ol class="arabic simple" start="19">
<li><p>En el diálogo <span class="guilabel">Reproyectar capa</span>, clic en el botón <span class="guilabel">Seleccionar SRC</span> para el <span class="guilabel">SRC Destino</span>. Busque el SRC <code class="docutils literal notranslate"><span class="pre">EPSG:27700</span> <span class="pre">OSGB</span> <span class="pre">1936</span> <span class="pre">/</span> <span class="pre">British</span> <span class="pre">National</span> <span class="pre">Grid</span></code>. Este SRC proyectado es una buena elección para datos en el Reino Unido. Clic en <span class="guilabel">Ejecutar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/199.png" class="align-center" src="../../_images/199.png" />
</div></blockquote>
<ol class="arabic simple" start="20">
<li><p>Se agregará una nueva capa llamada <code class="docutils literal notranslate"><span class="pre">Reprojected</span></code> al panel <span class="guilabel">Capas</span>. Desmarque la caja junto a la antigua capa <code class="docutils literal notranslate"><span class="pre">2019-02-surrey-street</span></code> para esconderla.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/209.png" class="align-center" src="../../_images/209.png" />
</div></blockquote>
<ol class="arabic simple" start="21">
<li><p>Busque el algoritmo <span class="menuselection">Interpolation ‣ Mapa de calor (Estimación de Densidad de Núcleo)</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/2114.png" class="align-center" src="../../_images/2114.png" />
</div></blockquote>
<ol class="arabic simple" start="22">
<li><p>En el diálogo <span class="guilabel">Mapa de calor (Estimación de Densidad de Núcleo)</span>, usaremos los parámetros de antes. Seleccione <span class="guilabel">Radio</span> como <code class="docutils literal notranslate"><span class="pre">5000</span></code> metros y <span class="guilabel">Peso desde campo</span> como <code class="docutils literal notranslate"><span class="pre">peso</span></code>. Defina <span class="guilabel">Tamaño de píxel X</span> y <span class="guilabel">Tamaño de píxel Y</span> en <code class="docutils literal notranslate"><span class="pre">50</span></code> metros. Deje <span class="guilabel">Forma de núcleo</span> en el valor predeterminado de <code class="docutils literal notranslate"><span class="pre">Cuártico</span></code>. Clic en <span class="guilabel">Ejecutar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/2211.png" class="align-center" src="../../_images/2211.png" />
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>El parámetro <span class="guilabel">Radio del campo</span> le permite especificar un radio dinámico de búsqueda para cada punto. Esto puede ser usado junto con <span class="guilabel">Peso desde campo</span> para tener un control fino de grano sobre se distribuye la influencia de cada punto.</p>
</div>
<ol class="arabic simple" start="23">
<li><p>Una vez que termine el procesamiento, se cargará una nueva capa ráster llamada <code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code>. La visualización predeterminada es fea ya que usa el representador <a href="#id1"><span class="problematic" id="id2">``</span></a>Gris banda única`. Clic en el botón <span class="guilabel">Abrir el panel de Estilo de Capa</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/239.png" class="align-center" src="../../_images/239.png" />
</div></blockquote>
<ol class="arabic simple" start="24">
<li><p>Cambie el representador a <code class="docutils literal notranslate"><span class="pre">Pseudocolor</span> <span class="pre">banda</span> <span class="pre">única</span></code> y seleccione la rampa de color <code class="docutils literal notranslate"><span class="pre">Reds</span></code>. La capa ahora se parece a la visualización de mapa de calor que habíamos creado antes.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/249.png" class="align-center" src="../../_images/249.png" />
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Note que la capa <code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code> en el panel <span class="guilabel">Capas</span> tiene una leyenda pero la capa <code class="docutils literal notranslate"><span class="pre">2019-02-surrey-street</span></code> no tiene. Un problema común al usar una capa de mapa de calor creada por el representador Mapa de Calor es la falta de leyenda. Digamos que queremos usar el mapa de calor en el <span class="guilabel">Diseñador</span> y agregar una leyenda. Un mapa de calor ráster creado con el método algoritmo de procesamiento Mapa de Calor hace posible esto.</p>
</div>
</section>
</section>





  <!-- Comment Section Powered by utterances -->
<div id="comments">
  <hr />
  <p>If you want to give feedback or share your experience with this tutorial, please comment below. (requires GitHub account)</p>
<script src="https://utteranc.es/client.js"
        repo="spatialthoughts/qgis-tutorials"
        issue-term="title"
        label="comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2023, Ujaval Gandhi.<br/>
      Actualizado por última vez en nov 19, 2024.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.2.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/3/creating_heatmaps.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>