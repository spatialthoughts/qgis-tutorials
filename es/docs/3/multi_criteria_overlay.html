<!DOCTYPE html>

<html lang="es" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Análisis de Sobreposición Multicriterio (QGIS3) &#8212; QGIS Tutorials and Tips</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css?v=0bf093e7" />
    <script src="../../_static/documentation_options.js?v=92345faf"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/translations.js?v=efdbd0b9"></script>
    <link rel="search" title="Búsqueda" href="../../search.html" />
    <link rel="next" title="Filtrado básico y estilización con expresiones (QGIS3)" href="vector_styling_expressions.html" />
    <link rel="prev" title="Automatización de la creación de mapas con el Atlas de diseñador de impresiones (QGIS3)" href="automating_map_creation.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>


<!-- Cookie Notice -->
<!-- Script from https://github.com/AOEpeople/cookie-notice -->
<script type="text/javascript" src="../../_static/cookie.notice.min.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1WQ7B80XJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B1WQ7B80XJ');
</script>


  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introducción</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">Haciendo un Mapa (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_attributes.html">Trabajando con atributos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">Importar Hojas de Cálculo o archivos CSV (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Estilo Básico Vectorial (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_line_lengths.html">Calcular Longitudes y Estadísticas de Línea (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Estilos y Análisis Básicos Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Mosaicar y Recortar Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Trabajar con Datos de Terreno (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">Trabajar con Datos WMS (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_projections.html">Trabajar con Proyecciones (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">Georeferenciar Hojas Topográficas y Mapas Escaneados (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">Georeferenciar Imágenes Aéreas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">Digitalizar Datos del Mapa (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins.html">Realizar Uniones de Tablas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_joins.html">Realizar Uniones Espaciales (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Realizar Consultas Espaciales (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="nearest_neighbor_analysis.html">Análisis del Vecino Más Cercano (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_raster_data.html">Muestrear Datos Ráster usando Puntos o Polígonos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_raster_area.html">Cálcular el área ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_heatmaps.html">Crear Mapas de Calor (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="animating_time_series.html">Animar Datos de Series de Tiempo (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="handling_invalid_geometries.html">Manejar Geometrías No Válidas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_raster_analysis.html">Análisis Avanzado de Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolating_point_data.html">Interpolar Datos Punto (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Procesamiento por Lotes usando el Marco de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_graphical_modeler.html">Automatizar Flujos de Trabajo Complejos usando el Modelador de Procesos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="automating_map_creation.html">Automatización de la creación de mapas con el Atlas de diseñador de impresiones  (QGIS3)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Análisis de Sobreposición Multicriterio (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="vector_styling_expressions.html">Filtrado básico y estilización con expresiones (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="block_world_styling.html">Creación de un Mapa Mundial de Bloques (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="river_styling_expressions.html">Estilización de una red fluvial con expresiones (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="contour_3d_styling.html">Styling Contours in 3D (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="isometric_buildings.html">Creación de edificios isométricos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactive_canvas_maps.html">Creación de mapas interactivos en lienzo (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactive_reveal_maps.html">Creación de mapas interactivos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="cartogram_animation.html">Creación de un cartograma animado (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_network_analysis.html">Visualización y Enrutamiento Básico de Red (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="origin_destination_matrix.html">Localizando la Instalación Más Cercana con Matriz Origen-Destino (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="service_area_analysis.html">Análisis de Área de Servicio usando Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="travel_time_analysis.html">Análisis del tiempo de viaje con el movimiento de Uber (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="areal_mean_rainfall.html">Calcular la Precipitación Media de Área (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="colorized_river_basin_map.html">Creación de un mapa de cuenca fluvial coloreado (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_landuse_map.html">Creación de un mapa de uso de la tierra (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_intersection_density.html">Calcular Densidad de Intersección de Calle (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="landuse_buffer.html">Determinación de zonas de influencia de usos de la tierra (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="solidwaste_mapping.html">Cartografía de los volúmenes de eliminación de residuos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_with_pyqgis.html">Iniciándote con la Programación Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_algorithms_pyqgis.html">Ejecutar Algoritmos de Procesamiento vía Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_python_functions.html">Usando Funciones de Expresión Python Personalizadas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_scripts.html">Escribir Scripts Python para el Marco de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_a_python_plugin.html">Construyendo un Complemento Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_plugin.html">Construyendo un Complemento de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_qgis_jobs.html">Ejecutar y Programar Trabajos de Procesamiento QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_mapping_with_qgis2web.html">Mapeo Web con QGIS2Web (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_basemaps_with_qtiles.html">Creando Mapas Base con QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Usar Complementos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../downloading_osm_data.html">Buscando y descargando datos de OpenStreetMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learning_resources.html">Recursos de Aprendizaje QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Créditos de los Datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../batch_processing.html">Procesamiento por Lotes usando el Marco de Procesamiento (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="automating_map_creation.html" title="Previous Chapter: Automatización de la creación de mapas con el Atlas de diseñador de impresiones (QGIS3)"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Automatizació...</span>
    </a>
  </li>
  <li>
    <a href="vector_styling_expressions.html" title="Next Chapter: Filtrado básico y estilización con expresiones (QGIS3)"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Filtrado bási... &raquo;</span>
    </a>
  </li>
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p><a href="https://www.linkedin.com/in/spatialthoughts/"><img src="../../_static/ujaval.png">Ujaval Gandhi</a></p>

<hr>
<p>Want to learn QGIS in a structured way? Check out <a href="https://spatialthoughts.com/" target="_blank">Spatial Thoughts</a> for more learning materials and instructor-led online programs with QGIS.org certification.</p>

<hr>
<p>These tutorials are also available in many other languages. Please see <a href="https://www.qgistutorials.com/en/docs/introduction.html#translations" target="_blank">translations</a> page.
</p>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      

  <section id="multi-criteria-overlay-analysis-qgis3">
<h1>Análisis de Sobreposición Multicriterio (QGIS3)<a class="headerlink" href="#multi-criteria-overlay-analysis-qgis3" title="Link to this heading">¶</a></h1>
<p>El análisis de sobreposición ponderado multicriterio es el proceso de asignación de áreas en base a una variedad de atributos que las áreas seleccionadas deberían poseer. A pesar de que esta es una operación común en SIG, es mejor realizada en el espacio ráster usando un enfoque basado en cuadrícula (grid).</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Sobreposiciones Vector vs Ráster</p>
<p>Puede realizar el análisis de superposición en capas vectoriales utilizando herramientas de geoprocesamiento como el búfer, la disolución, la diferencia y la intersección. Este método es ideal si desea encontrar una respuesta binaria <strong>adecuado/no adecuado</strong> y está trabajando con un puñado de capas. Puede consultar nuestro tutorial en vídeo sobre <a class="reference external" href="https://www.youtube.com/watch?v=nTz2khWi2-s&amp;list=PLppGmFLhQ1HIqNiNWxVqs5wBLiA_UrKTQ&amp;index=26">Localización de una nueva estación de aparcamiento para bicicletas mediante análisis multicriterio por superposición</a> para obtener una guía paso a paso sobre este enfoque.</p>
<p>Trabajar en el espacio raster le da una <strong>clasificación</strong> de la adecuación - no sólo el sitio más adecuado. También le permite combinar fácilmente cualquier cantidad de capas de entrada y asignar diferentes pesos a cada criterio. En general, éste es el enfoque preferido para conveniencia de sitio.</p>
</div>
<p>Este tutorial recorre el flujo de trabajo típico para realizar un análisis de conveniencia de sitio - convirtiendo datos vector fuente a los rasters apropiados, re-clasificándolos y realizando las operaciones matemáticas.</p>
<section id="overview-of-the-task">
<h2>Vista general de la tarea<a class="headerlink" href="#overview-of-the-task" title="Link to this heading">¶</a></h2>
<p>En este tutorial, identificaremos las áreas convenientes para desarrollo, que son</p>
<ul class="simple">
<li><p>Cercanas a caminos, y</p></li>
<li><p>Alejadas de cuerpos de agua, y</p></li>
<li><p>No están en regiones protegidas.</p></li>
</ul>
<img alt="../../_images/output5.png" class="align-center" src="../../_images/output5.png" />
</section>
<section id="get-the-data">
<h2>Obtener los datos<a class="headerlink" href="#get-the-data" title="Link to this heading">¶</a></h2>
<p>Usaremos capas de datos vector de  <a class="reference external" href="http://www.openstreetmap.org/">OpenStreetMap (OSM)</a>. OSM es una base de datos global de datos de mapa base libremente disponible. <a class="reference external" href="http://download.geofabrik.de/">Geofabrik</a> provee archivos shape actualizados diariamente de los conjuntos de datos OpenStreetMap.</p>
<p>Vamos a utilizar las capas de datos OSM para el estado de Assam en la India. Los shapefiles de Geofabrik <a class="reference external" href="http://download.geofabrik.de/asia/india.html">India</a> fueron descargados, reproyectados a una proyección UTM, recortados a los límites del estado y empaquetados en un único archivo GeoPackage. Puede descargar una copia del geopackage desde el siguiente enlace:</p>
<p><a class="reference external" href="https://www.qgistutorials.com/downloads/assam.gpkg">assam.gpkg</a></p>
<p>Fuente de Datos: <a class="reference internal" href="../credits.html#geofabrik" id="id1"><span>[GEOFABRIK]</span></a></p>
</section>
<section id="procedure">
<h2>Procedimiento<a class="headerlink" href="#procedure" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Navegue al archivo <code class="docutils literal notranslate"><span class="pre">assam.gpkg</span></code> descargado en el Navegador QGIS. Expándalo y arrastre cada una de las 5 cadas individuales de datos a la pantalla de mapa. Verá que carga las capas <code class="docutils literal notranslate"><span class="pre">boundary</span></code>, <code class="docutils literal notranslate"><span class="pre">roads</span></code>, <code class="docutils literal notranslate"><span class="pre">protected_regions</span></code>, <code class="docutils literal notranslate"><span class="pre">water_polygons</span></code> y <code class="docutils literal notranslate"><span class="pre">water_polylines</span></code> en el panel <span class="guilabel">Capas</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1109.png" class="align-center" src="../../_images/1109.png" />
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>El primer paso en el análisis de superposición es convertir cada capa de datos en ráster. Una consideración importante es que todos los rásters deben tener la misma extensión. Utilizaremos la capa <code class="docutils literal notranslate"><span class="pre">boundary</span></code> como extensión para todos los raster. Vaya a <span class="menuselection">Procesamiento ‣ Caja de herramientas</span>. Busque y localice el algoritmo <span class="menuselection">GDAL ‣ Conversión vectorial ‣ Rasterizar (vector a raster)</span>. Haga doble clic para ejecutarlo.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/2105.png" class="align-center" src="../../_images/2105.png" />
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>En el diálogo <span class="guilabel">Vector Conversion - Rasterize (vector to raster)</span>, seleccione <code class="docutils literal notranslate"><span class="pre">roads</span></code> como <span class="guilabel">Capa de entrada</span>. Queremos crear un raster de salida donde los valores de los píxeles sean 1 donde haya una carretera y 0 donde no haya carreteras. Introduzca <code class="docutils literal notranslate"><span class="pre">1</span></code> como <span class="guilabel">Un valor fijo para grabar</span>. Las capas de entrada están en un SRC proyectado con metros como unidad. Seleccione <code class="docutils literal notranslate"><span class="pre">Unidades</span> <span class="pre">georeferenciadas</span></code> como <span class="guilabel">Unidades de tamaño de la trama de salida</span>. La resolución del raster de salida será de 15 metros. Seleccione <code class="docutils literal notranslate"><span class="pre">15</span></code> como <span class="guilabel">Ancho/Resolución horizontal</span> y <span class="guilabel">Alto/Resolución vertical</span>. A continuación, haga clic en la flecha situada junto a <span class="guilabel">Extensión de salida</span> y seleccione <span class="menuselection">Calcular a partir de capa ‣ límite</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/348.png" class="align-center" src="../../_images/348.png" />
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>Desplácese hacia abajo hasta encontrar la <span class="guilabel">Parámetros Avanzados</span> y seleccione el perfil <code class="docutils literal notranslate"><span class="pre">Alta</span> <span class="pre">Compresión</span></code> para aplicar la compresión. Esto generará un archivo raster comprimido de menor tamaño después de ejecutar la herramienta. La aplicación de la compresión sin pérdidas es muy recomendable cuando se trabaja con datos ráster.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/426.png" class="align-center" src="../../_images/426.png" />
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p>Establezca el ráster de salida :guilabel: <cite>Rasterizado</cite> como <code class="docutils literal notranslate"><span class="pre">raster_roads.tif</span></code> y haga clic en :guilabel: <cite>Ejecutar`</cite>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/523.png" class="align-center" src="../../_images/523.png" />
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p>Once the processing finishes, you will see a new layer <span class="guilabel">raster_roads</span> loaded in the <span class="guilabel">Layers</span> panel. The raster has pixel values 1 for pixels which intersected with the roads. All other pixels are set as <strong>NoData</strong> values. These nodata values are problematic because when raster calculator (which we will use later) encounters a pixel with nodata value in any layer, it sets the output value of that pixel to nodata as well, resulting is unexpected output. We will fill these nodata values with the value 0. Search for and locate the <span class="menuselection">Raster Tools ‣ Fill NoData cells</span> algorithm. Double-click to launch it.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/623.png" class="align-center" src="../../_images/623.png" />
</div></blockquote>
<ol class="arabic simple" start="7">
<li><p>Seleccione <code class="docutils literal notranslate"><span class="pre">raster_roads</span></code> como <span class="guilabel">Entrada raster</span> y elija <code class="docutils literal notranslate"><span class="pre">0</span></code> como <span class="guilabel">Valor de relleno`</span>. Desplácese hacia abajo hasta encontrar <span class="guilabel">Parámetros avanzados</span> y seleccione el perfil <code class="docutils literal notranslate"><span class="pre">Alta</span> <span class="pre">compresión</span></code> para aplicar la compresión. Establezca la <span class="guilabel">Raster de salida</span> como <code class="docutils literal notranslate"><span class="pre">raster_roads_filled.tif</span></code> y haga clic en <span class="guilabel">Ejecutar`</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/722.png" class="align-center" src="../../_images/722.png" />
</div></blockquote>
<ol class="arabic simple" start="8">
<li><p>Una vez finalizado el proceso, verá la nueva capa <code class="docutils literal notranslate"><span class="pre">raster_roads_filled</span></code> cargada en el panel <span class="guilabel">Capas</span>. Este raster tiene valores 1 para carreteras y 0 para sin carreteras. Si la capa no se visualiza correctamente, puede hacer clic en <span class="guilabel">Abrir el panel de estilo de capas</span> y ajustar <span class="guilabel">Min</span> a <code class="docutils literal notranslate"><span class="pre">0</span></code> y <span class="guilabel">Max</span> a <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/822.png" class="align-center" src="../../_images/822.png" />
</div></blockquote>
<ol class="arabic simple" start="9">
<li><p>Repita los pasos 3-8 para las otras 3 capas vectoriales <code class="docutils literal notranslate"><span class="pre">protected_regions</span></code>, <code class="docutils literal notranslate"><span class="pre">water_polylines</span></code> y <code class="docutils literal notranslate"><span class="pre">water_polygons</span></code>. Es necesario rasterizar y rellenar las celdas nodata de estas capas. Si desea ejecutar estos pasos manualmente, puede configurar el diálogo del algoritmo de procesamiento, ejecutar el algoritmo y una vez que el algoritmo finalice, cambiar a la pestaña :guilabel:<code class="docutils literal notranslate"><span class="pre">Parámetros</span></code> y simplemente cambiar los nombres de las capas de entrada y salida. También puede ejecutar cada algoritmo en las 4 capas en un solo paso utilizando el procesamiento por lotes. Consulte el tutorial <span class="xref std std-doc">procesamiento_por_lotes</span> para obtener más información. Una vez que haya terminado, debería tener 4 capas ráster y generar las correspondientes capas ráster <code class="docutils literal notranslate"><span class="pre">raster_roads_filled</span></code>, <code class="docutils literal notranslate"><span class="pre">raster_protected_regions_filled</span></code>, <code class="docutils literal notranslate"><span class="pre">raster_water_polylines_filled</span></code> y <code class="docutils literal notranslate"><span class="pre">raster_water_polygons_filled</span></code>. Observará que tenemos dos capas relacionadas con el agua, ambas representan agua. Podemos fusionarlas para tener una única capa que represente las zonas de agua de la región. Busque y localice el algoritmo <span class="menuselection">Análisis raster ‣ Calculadora raster</span> en la caja de herramientas de procesado. Haga doble clic para ejecutarlo.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/922.png" class="align-center" src="../../_images/922.png" />
</div></blockquote>
<ol class="arabic simple" start="10">
<li><p>Seleccione las capas <code class="docutils literal notranslate"><span class="pre">raster_water_polygons</span></code> y <code class="docutils literal notranslate"><span class="pre">raster_water_polylines</span></code> utilizando el botón <span class="guilabel">…</span> como Capas de Entrada. Introduzca la siguiente expresión utilizando el botón <span class="guilabel">ε</span>. Mantenga el resto de opciones predeterminadas y guarde la capa de salida con el nombre <code class="docutils literal notranslate"><span class="pre">raster_water_merged.tif</span></code> y haga clic en <span class="guilabel">Ejecutar`</span>.</p></li>
</ol>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;raster_water_polygons_filled@1&quot; + &quot;raster_water_polylines_filled@1&quot;
</pre></div>
</div>
<img alt="../../_images/1028.png" class="align-center" src="../../_images/1028.png" />
</div></blockquote>
<ol class="arabic simple" start="11">
<li><p>El ráster resultante fusionado tendrá píxeles con valor 1 para todas las áreas con agua. Pero notará que hay algunas regiones donde había tanto un polígono de agua como una polilínea agua. Esas áreas tendrán píxeles con valor 2 - lo que no es correcto. Podemos corregir esto con una expresión simple. Abra de nuevo el algoritmo <span class="menuselection">Análisis ráster ‣ Calculadora ráster</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1131.png" class="align-center" src="../../_images/1131.png" />
</div></blockquote>
<ol class="arabic simple" start="12">
<li><p>Seleccione la capa <code class="docutils literal notranslate"><span class="pre">raster_water_merged</span></code> utilizando el botón <span class="guilabel">…</span> como Capa de Entrada. Introduzca la siguiente expresión utilizando el botón <span class="guilabel">ε</span>. Mantenga el resto de opciones por defecto y guarde la capa de salida con el nombre <code class="docutils literal notranslate"><span class="pre">raster_water_filled.tif</span></code> y haga clic en <span class="guilabel">Ejecutar</span>.</p></li>
</ol>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;raster_water_merged@1&quot; &gt; 0
</pre></div>
</div>
<img alt="../../_images/1229.png" class="align-center" src="../../_images/1229.png" />
</div></blockquote>
<ol class="arabic simple" start="13">
<li><p>La capa resultante <code class="docutils literal notranslate"><span class="pre">raster_water_filled</span></code> tiene ahora píxeles con sólo valores 0 y 1.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1327.png" class="align-center" src="../../_images/1327.png" />
</div></blockquote>
<ol class="arabic simple" start="14">
<li><p>Ahora tenermos capas que representan píxeles camino y agua, podemos generar rásters de proximidad. Estos son también conocidos como distancias Euclideanas - donde cada píxel en el ráster de salida representa la distancia al píxel más cercano en el ráster de entrada. Este ráster resultante luego puede ser usado para determinar áreas apropiadas que están dentro de cierta distancia de la entrada. Busque y localice el algoritmo <span class="menuselection">GDAL ‣ Análisis ráster ‣ Proximidad (distancia ráster)</span>. Doble-clic para iniciarlo.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1425.png" class="align-center" src="../../_images/1425.png" />
</div></blockquote>
<ol class="arabic simple" start="15">
<li><p>En el cuadro de diálogo <span class="guilabel">Análisis ráster - Proximidad (Distancia ráster)</span>, seleccione <code class="docutils literal notranslate"><span class="pre">raster_roads_filled</span></code> como <span class="guilabel">Capa de entrada</span>. Seleccione <code class="docutils literal notranslate"><span class="pre">Coordenadas</span> <span class="pre">georreferenciadas</span></code> como <span class="guilabel">Unidades de distancia</span>. Como las capas de entrada están en un SRC proyectado con metros como unidades, introduzca <code class="docutils literal notranslate"><span class="pre">5000</span></code> (5 kilómetros) como <span class="guilabel">Distancia máxima a generar</span>. Para todos los píxeles que estén a más de la distancia máxima - también estableceremos sus valores en 5000. Así que establezca el valor de <span class="guilabel">Nodata a utilizar para el raster de proximidad de destino</span> en <code class="docutils literal notranslate"><span class="pre">5000</span></code>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1522.png" class="align-center" src="../../_images/1522.png" />
</div></blockquote>
<ol class="arabic simple" start="16">
<li><p>Puede expandir la etiqueta :guilabel: <cite>Parámetros Avanzados</cite> y seleccionar el perfil <code class="docutils literal notranslate"><span class="pre">Alta</span> <span class="pre">Compresión</span></code> para aplicar la compresión. Asigne al archivo de salida el nombre <code class="docutils literal notranslate"><span class="pre">roads_proximity.tif</span></code> y haga clic en <span class="guilabel">Ejecutar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/2016.png" class="align-center" src="../../_images/2016.png" />
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Este proceso puede tardar hasta 15 minutos en ejecutarse. Se trata de un algoritmo de cálculo intensivo que necesita calcular la distancia de cada píxel de la trama de entrada.</p>
</div>
<ol class="arabic simple" start="17">
<li><p>Una vez que se complete el procesamiento, se agregará una nueva capa <code class="docutils literal notranslate"><span class="pre">roads_proximity</span></code> al panel <span class="guilabel">Capas</span>. Para visualizarla mejor, cambiemos el estilo predeterminado. Clic en el botón <span class="guilabel">Abrir el panel de Estilo de Capa</span> en el panel <span class="guilabel">Capas</span>. Cambie el valor <span class="guilabel">Max</span> a <code class="docutils literal notranslate"><span class="pre">5000</span></code> bajo <span class="guilabel">Gradiente de color</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1722.png" class="align-center" src="../../_images/1722.png" />
</div></blockquote>
<ol class="arabic simple" start="18">
<li><p>Repita el algoritmo <span class="guilabel">Proximidad (Distancia Raster)</span> para la capa <code class="docutils literal notranslate"><span class="pre">raster_water_filled</span></code> con los mismos parámetros y nombre la salida <code class="docutils literal notranslate"><span class="pre">water_proximity.tif</span></code>. Si hace clic en el raster resultante, verá que es un continuo de valores de 0 a 5000. Para utilizar este ráster en el análisis de superposición, primero debemos reclasificarlo para crear valores discretos. Abra de nuevo el algoritmo <span class="menuselection">Análisis raster ‣ Calculadora raster</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1819.png" class="align-center" src="../../_images/1819.png" />
</div></blockquote>
<ol class="arabic simple" start="19">
<li><p>Queremos dar un puntaje mayor a píxeles que están cerca de caminos. Así que usemos el siguiente esquema.</p></li>
</ol>
<ul>
<li><p>0-1000m –&gt; 100</p></li>
<li><p>1000-2000m –&gt; 50</p></li>
<li><p>&gt;2000m –&gt; 10</p>
<p>Seleccione la capa <code class="docutils literal notranslate"><span class="pre">roads_proximity</span></code> utilizando el botón <span class="guilabel">…</span> como Capa de Entrada. Introduzca la siguiente expresión que aplica los criterios anteriores en la entrada. Mantenga el resto de opciones por defecto y guarde la capa de salida con el nombre <code class="docutils literal notranslate"><span class="pre">roads_reclass.tif</span></code> y haga clic en <span class="guilabel">Ejecutar</span>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>100*(&quot;roads_proximity@1&quot;&lt;=1000)
    + 50*(&quot;roads_proximity@1&quot;&gt;1000)*(&quot;roads_proximity@1&quot;&lt;=2000)
    + 10*(&quot;roads_proximity@1&quot;&gt;2000)
</pre></div>
</div>
<img alt="../../_images/1916.png" class="align-center" src="../../_images/1916.png" />
</li>
</ul>
<ol class="arabic simple" start="20">
<li><p>Una vez que finalice el proceso de reclasificación, se agregará una nueva capa <code class="docutils literal notranslate"><span class="pre">roads_reclass</span></code> al panel <span class="guilabel">Capas</span>. Esta capa sólo tiene 3 valores diferentes, 10, 50 y 100 que indican la conveniencia relativa de los píxeles con respecto a la distancia de los caminos. Abra de nuevo el algoritmo <span class="menuselection">Análisis ráster ‣ Calculadora ráster</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/2016.png" class="align-center" src="../../_images/2016.png" />
</div></blockquote>
<ol class="arabic simple" start="21">
<li><p>Repita el proceso de reclasificación para la capa <code class="docutils literal notranslate"><span class="pre">water_proximity</span></code>. Aquí el esquema será a la inversa, donde los píxeles que están más lejos del agua deberían tener un puntaje mayor.</p></li>
</ol>
<ul>
<li><p>0-1000m –&gt; 10</p></li>
<li><p>1000 -2000m —&gt; 50</p></li>
<li><p>&gt;2000m –&gt; 100</p>
<p>Seleccione la capa <code class="docutils literal notranslate"><span class="pre">water_proximity</span></code> utilizando el botón <span class="guilabel">…</span> como Capa de Entrada. Introduzca la siguiente expresión que aplica los criterios anteriores a la entrada. Mantenga el resto de opciones por defecto y guarde la capa de salida con el nombre <code class="docutils literal notranslate"><span class="pre">water_reclass.tif</span></code> y haga clic en <span class="guilabel">Ejecutar</span>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>100*(&quot;water_proximity@1&quot;&gt;2000)
+ 50*(&quot;water_proximity@1&quot;&gt;1000)*(&quot;water_proximity@1&quot;&lt;=2000)
+ 10*(&quot;water_proximity@1&quot;&lt;1000)
</pre></div>
</div>
<img alt="../../_images/2119.png" class="align-center" src="../../_images/2119.png" />
</li>
</ul>
<ol class="arabic simple" start="22">
<li><p>Ahora estamos listos para hacer el análisis final de superposición. Recordemos que nuestros criterios para determinar la idoneidad son los siguientes: cerca de carreteras, lejos del agua y no en una región protegida. Abra <span class="menuselection">Análisis raster ‣ Calculadora raster</span>. Seleccione las capas <code class="docutils literal notranslate"><span class="pre">roads_reclass</span></code>, <code class="docutils literal notranslate"><span class="pre">water_reclass</span></code>, <code class="docutils literal notranslate"><span class="pre">raster_protected_regions_filled</span></code> utilizando el botón <span class="guilabel">…</span> como Capas de entrada. Utilice el botón <span class="guilabel">ε</span> para introducir la siguiente expresión que aplica estos criterios. Mantenga los demás parámetros por defecto. Nombre la salida <code class="docutils literal notranslate"><span class="pre">overlay.tif</span></code> y haga clic en <span class="guilabel">Ejecutar</span>.</p></li>
</ol>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>((&quot;roads_reclass@1&quot; + &quot;water_reclass@1&quot;)/2)
*(&quot;raster_protected_regions@1&quot;  !=  1 )
</pre></div>
</div>
<img alt="../../_images/2217.png" class="align-center" src="../../_images/2217.png" />
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>En este ejemplo, damos la misma <em>ponderación</em> a la proximidad de la carretera y del agua. En la vida real, puede tener varios criterios con diferente importancia. Puede simularlo multiplicando los raster con los <em>pesos</em> adecuados en la expresión anterior. Por ejemplo, si la proximidad a las carreteras tiene el doble de importancia que la proximidad al agua, en lugar de <code class="docutils literal notranslate"><span class="pre">((«roads_reclass&#64;1»</span> <span class="pre">+</span> <span class="pre">«water_reclass&#64;1»)/2)</span></code>, puede utilizar la expresión <code class="docutils literal notranslate"><span class="pre">((2*«roads_reclass&#64;1»</span> <span class="pre">+</span> <span class="pre">«water_reclass&#64;1»)/3)</span></code>.</p>
</div>
<ol class="arabic simple" start="23">
<li><p>Una vez finalizado el proceso, el ráster resultante se añadirá al panel <span class="guilabel">Capas</span>. Los valores de los píxeles de esta trama van de 0 a 100, siendo 0 la zona menos adecuada y 100 la más adecuada para el desarrollo. Recortemos los resultados a la capa límite. Abra el algoritmo <span class="menuselection">Extracción de raster ‣ Recortar raster por capa de máscara</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/2315.png" class="align-center" src="../../_images/2315.png" />
</div></blockquote>
<ol class="arabic simple" start="24">
<li><p>En el diálogo <span class="guilabel">Raster Extracción - Recortar Raster por Capa de Máscara</span>, seleccione <code class="docutils literal notranslate"><span class="pre">overlay</span></code> como la <span class="guilabel">Capa de entrada</span> y <code class="docutils literal notranslate"><span class="pre">boundary</span></code> como la <span class="guilabel">Capa de máscara</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/2414.png" class="align-center" src="../../_images/2414.png" />
</div></blockquote>
<ol class="arabic simple" start="25">
<li><p>Desplácese hacia abajo hasta encontrar la opción <span class="guilabel">Parámetros Avanzados</span> y seleccione el perfil <code class="docutils literal notranslate"><span class="pre">Alta</span> <span class="pre">Compresión</span></code> para aplicar la compresión. Guarde la capa <span class="guilabel">Recortado (máscara)</span> como <code class="docutils literal notranslate"><span class="pre">overlay_clipped.tif</span></code> y haga clic en <span class="guilabel">Ejecutar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/2513.png" class="align-center" src="../../_images/2513.png" />
</div></blockquote>
<ol class="arabic simple" start="26">
<li><p>Una vez finalizado el procesamiento, la capa de salida final <code class="docutils literal notranslate"><span class="pre">overlay_clipped</span></code> se añadirá al panel <span class="guilabel">Capas</span>. Haga clic en el botón <span class="guilabel">Abrir el panel de estilos de capa</span> del panel Capas y seleccione el renderizador <code class="docutils literal notranslate"><span class="pre">Pseudocolor</span> <span class="pre">de</span> <span class="pre">banda</span> <span class="pre">única</span></code>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/2612.png" class="align-center" src="../../_images/2612.png" />
</div></blockquote>
<ol class="arabic simple" start="27">
<li><p>Ajuste la <span class="guilabel">Interpolación</span> a <code class="docutils literal notranslate"><span class="pre">Discreto</span></code> y elija la rampa de color <code class="docutils literal notranslate"><span class="pre">Espectral</span></code>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/2713.png" class="align-center" src="../../_images/2713.png" />
</div></blockquote>
<ol class="arabic simple" start="28">
<li><p>Haga clic en los valores de etiqueta predeterminados junto a cada color e introduzca las etiquetas adecuadas.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/2813.png" class="align-center" src="../../_images/2813.png" />
</div></blockquote>
<ol class="arabic simple" start="29">
<li><p>Las etiquetas también aparecerán como leyenda bajo la capa <code class="docutils literal notranslate"><span class="pre">overlay_clipped</span></code>. Este es nuestro mapa final, que muestra la idoneidad del emplazamiento según los criterios elegidos.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/2912.png" class="align-center" src="../../_images/2912.png" />
</div></blockquote>
</section>
</section>





  <!-- Comment Section Powered by utterances -->
<div id="comments">
  <hr />
  <p>If you want to give feedback or share your experience with this tutorial, please comment below. (requires GitHub account)</p>
<script src="https://utteranc.es/client.js"
        repo="spatialthoughts/qgis-tutorials"
        issue-term="title"
        label="comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2023, Ujaval Gandhi.<br/>
      Actualizado por última vez en abr 01, 2025.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.2.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/3/multi_criteria_overlay.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>