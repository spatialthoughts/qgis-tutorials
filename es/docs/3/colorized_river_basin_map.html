<!DOCTYPE html>

<html lang="es" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Creación de un mapa de cuenca fluvial coloreado (QGIS3) &#8212; QGIS Tutorials and Tips</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css?v=0bf093e7" />
    <script src="../../_static/documentation_options.js?v=92345faf"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/translations.js?v=efdbd0b9"></script>
    <link rel="search" title="Búsqueda" href="../../search.html" />
    <link rel="next" title="Creación de un mapa de uso de la tierra (QGIS3)" href="creating_landuse_map.html" />
    <link rel="prev" title="Calcular la Precipitación Media de Área (QGIS3)" href="areal_mean_rainfall.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>


<!-- Cookie Notice -->
<!-- Script from https://github.com/AOEpeople/cookie-notice -->
<script type="text/javascript" src="../../_static/cookie.notice.min.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1WQ7B80XJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B1WQ7B80XJ');
</script>


  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introducción</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">Haciendo un Mapa (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_attributes.html">Trabajando con atributos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">Importar Hojas de Cálculo o archivos CSV (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Estilo Básico Vectorial (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_line_lengths.html">Calcular Longitudes y Estadísticas de Línea (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Estilos y Análisis Básicos Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Mosaicar y Recortar Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Trabajar con Datos de Terreno (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">Trabajar con Datos WMS (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_projections.html">Trabajar con Proyecciones (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">Georeferenciar Hojas Topográficas y Mapas Escaneados (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">Georeferenciar Imágenes Aéreas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">Digitalizar Datos del Mapa (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins.html">Realizar Uniones de Tablas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_joins.html">Realizar Uniones Espaciales (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Realizar Consultas Espaciales (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="nearest_neighbor_analysis.html">Análisis del Vecino Más Cercano (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_raster_data.html">Muestrear Datos Ráster usando Puntos o Polígonos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_raster_area.html">Cálcular el área ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_heatmaps.html">Crear Mapas de Calor (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="animating_time_series.html">Animar Datos de Series de Tiempo (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="handling_invalid_geometries.html">Manejar Geometrías No Válidas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_raster_analysis.html">Análisis Avanzado de Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolating_point_data.html">Interpolar Datos Punto (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Procesamiento por Lotes usando el Marco de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_graphical_modeler.html">Automatizar Flujos de Trabajo Complejos usando el Modelador de Procesos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="automating_map_creation.html">Automatización de la creación de mapas con el Atlas de diseñador de impresiones  (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="multi_criteria_overlay.html">Análisis de Sobreposición Multicriterio (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_network_analysis.html">Visualización y Enrutamiento Básico de Red (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="origin_destination_matrix.html">Localizando la Instalación Más Cercana con Matriz Origen-Destino (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="service_area_analysis.html">Análisis de Área de Servicio usando Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="travel_time_analysis.html">Análisis del tiempo de viaje con el movimiento de Uber (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="areal_mean_rainfall.html">Calcular la Precipitación Media de Área (QGIS3)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Creación de un mapa de cuenca fluvial coloreado (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_landuse_map.html">Creación de un mapa de uso de la tierra (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_intersection_density.html">Calcular Densidad de Intersección de Calle (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="landuse_buffer.html">Determinación de zonas de influencia de usos de la tierra (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="solidwaste_mapping.html">Cartografía de los volúmenes de eliminación de residuos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_with_pyqgis.html">Iniciándote con la Programación Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_algorithms_pyqgis.html">Ejecutar Algoritmos de Procesamiento vía Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_python_functions.html">Usando Funciones de Expresión Python Personalizadas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_scripts.html">Escribir Scripts Python para el Marco de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_a_python_plugin.html">Construyendo un Complemento Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_plugin.html">Construyendo un Complemento de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_qgis_jobs.html">Ejecutar y Programar Trabajos de Procesamiento QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_mapping_with_qgis2web.html">Mapeo Web con QGIS2Web (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_basemaps_with_qtiles.html">Creando Mapas Base con QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Usar Complementos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../downloading_osm_data.html">Buscando y descargando datos de OpenStreetMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learning_resources.html">Recursos de Aprendizaje QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Créditos de los Datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../batch_processing.html">Procesamiento por Lotes usando el Marco de Procesamiento (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="areal_mean_rainfall.html" title="Previous Chapter: Calcular la Precipitación Media de Área (QGIS3)"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Calcular la P...</span>
    </a>
  </li>
  <li>
    <a href="creating_landuse_map.html" title="Next Chapter: Creación de un mapa de uso de la tierra (QGIS3)"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Creación de u... &raquo;</span>
    </a>
  </li>
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>
<hr>
<p>Want to learn QGIS in a structured way? Check out <a href="https://spatialthoughts.com/" target="_blank">Spatial Thoughts</a> for more learning materials and instructor-led online programs with QGIS.org certification.</p>

<hr>
<p>These tutorials are also available in many other languages. Please see <a href="https://www.qgistutorials.com/en/docs/introduction.html#translations" target="_blank">translations</a> page.
</p>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      

  <section id="creating-a-colorized-river-basin-map-qgis3">
<h1>Creación de un mapa de cuenca fluvial coloreado (QGIS3)<a class="headerlink" href="#creating-a-colorized-river-basin-map-qgis3" title="Link to this heading">¶</a></h1>
<p>En este tutorial, aprenderemos el flujo de trabajo de QGIS para crear mapas fluviales artísticos de tu propio país o región utilizando datos hidrológicos de libre acceso.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Este tutorial está inspirado en los hermosos mapas producidos por <a class="reference external" href="https://www.grasshoppergeography.com/">Grasshopper Geography</a>. Yo tengo uno de sus grabados y tú también puedes apoyar su trabajo comprando uno de sus mapas en su tienda en-línea &lt;<a class="reference external" href="https://www.etsy.com/shop/GrasshopperGeography">https://www.etsy.com/shop/GrasshopperGeography</a>&gt;`_.</p>
</div>
<section id="overview-of-the-task">
<h2>Visión general de la tarea<a class="headerlink" href="#overview-of-the-task" title="Link to this heading">¶</a></h2>
<p>En este tutorial, tomaremos capas de datos de cuencas y ríos de HydroSHEDS y crearemos un mapa de cuencas para los ríos de la India.</p>
<blockquote>
<div><img alt="../../_images/rivers_of_india.png" class="align-center" src="../../_images/rivers_of_india.png" />
</div></blockquote>
</section>
<section id="other-skills-you-will-learn">
<h2>Otras competencias que aprenderá<a class="headerlink" href="#other-skills-you-will-learn" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Cómo asignar proyección a una capa vectorial con proyección incorrecta o ausente.</p></li>
<li><p>Cómo añadir varias capas en un mismo GeoPackage.</p></li>
<li><p>Cómo añadir una insignia “Hecho con QGIS” a su mapa.</p></li>
</ul>
</section>
<section id="get-the-data">
<h2>Obtener los datos<a class="headerlink" href="#get-the-data" title="Link to this heading">¶</a></h2>
<p><a class="reference external" href="https://www.hydrosheds.org/">HydroSHEDS</a> proporciona conjuntos de datos hidrológicos globales adecuados para aplicaciones regionales y globales. Las capas de datos se derivan de MDE condicionados hidrológicamente a partir de SRTM.</p>
<section id="basin-boundaries">
<h3>Límites de las cuencas<a class="headerlink" href="#basin-boundaries" title="Link to this heading">¶</a></h3>
<p>HydroBasins proporciona límites poligonales de cuencas para diferentes continentes. Los límites son jerárquicos: cada cuenca de Nivel N se subdivide a su vez en cuencas más pequeñas de Nivel N+1. Para este tutorial, utilizaremos los límites de cuenca del Nivel 6. Puede utilizar un nivel diferente en función de sus necesidades. Puede utilizar un nivel diferente en función de su región y del tipo de mapa que desee crear. Visite la página <a class="reference external" href="https://www.hydrosheds.org/products/hydrobasins">HydroBASINS</a> y descargue el archivo zip correspondiente a su región.</p>
<blockquote>
<div><img alt="../../_images/download1.png" class="align-center" src="../../_images/download1.png" />
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Los límites de cuenca de HydroSHEDS se derivan de los datos SRTM, que en este momento tienen más de 20 años. Los límites de las cuencas pueden no coincidir con los límites oficiales de las cuencas de su región. Puede sustituir los datos de HydroBasins por polígonos de fuentes oficiales cuando estén disponibles.</p>
</div>
</section>
<section id="river-network">
<h3>Red fluvial<a class="headerlink" href="#river-network" title="Link to this heading">¶</a></h3>
<p>HydroRIVERS proporciona un archivo shape línea que representa la red fluvial. Visite la página <a class="reference external" href="https://www.hydrosheds.org/products/hydrorivers">HydroRIVERS</a> y descargue el archivo zip correspondiente a su región de interés.</p>
<blockquote>
<div><img alt="../../_images/download2.png" class="align-center" src="../../_images/download2.png" />
</div></blockquote>
</section>
<section id="administrative-boundary">
<h3>Límites administrativos<a class="headerlink" href="#administrative-boundary" title="Link to this heading">¶</a></h3>
<p>Recortaremos los datos de HydroSHEDS a los límites de la región elegida. En este tutorial, queremos crear un mapa de cuenca fluvial de la India, por lo que obtendremos el archivo shape de límites de Survey of India. Visite la página <a class="reference external" href="https://surveyofindia.gov.in/pages/outline-maps-of-india">Outline Maps of India</a> y descargue el formato vectorial de límites internacionales de la India. Si necesita los límites administrativos de otros países o estados, puede obtenerlos de <a class="reference external" href="https://gadm.org/">GADM</a> o <a class="reference external" href="https://www.geoboundaries.org/">geoBoundaries</a>.</p>
<blockquote>
<div><img alt="../../_images/download3.png" class="align-center" src="../../_images/download3.png" />
</div></blockquote>
<p>Una vez descargados todos los archivos, descomprímalos y cópielos en una carpeta. Ahora debería tener 3 archivos shape: <code class="docutils literal notranslate"><span class="pre">hybas_as_lev06_v1c.shp</span></code>, <code class="docutils literal notranslate"><span class="pre">HydroRIVERS_v10_as.shp</span></code> y admin boundaries <code class="docutils literal notranslate"><span class="pre">polymap15m_area.shp</span></code>.</p>
<blockquote>
<div><img alt="../../_images/download4.png" class="align-center" src="../../_images/download4.png" />
</div></blockquote>
<p>Fuentes de datos: <a class="reference internal" href="../credits.html#hydrosheds" id="id1"><span>[HYDROSHEDS]</span></a>, <a class="reference internal" href="../credits.html#soi" id="id2"><span>[SOI]</span></a></p>
</section>
</section>
<section id="procedure">
<h2>Procedimiento<a class="headerlink" href="#procedure" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Abra QGIS y localice los archivos descargados en el <span class="guilabel">Navegador</span> de QGIS. Arrastre y suelte <code class="docutils literal notranslate"><span class="pre">hybas_as_lev06_v1c.shp</span></code> y <code class="docutils literal notranslate"><span class="pre">HydroRIVERS_v10_as.shp</span></code> al lienzo.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/130.png" class="align-center" src="../../_images/130.png" />
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Localice el archivo shape de límites administrativos <code class="docutils literal notranslate"><span class="pre">polymap15m_area.shp</span></code> y arrástrelo y suéltelo en el lienzo.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/227.png" class="align-center" src="../../_images/227.png" />
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Las capas de datos HydroSHEDS tienen algunos objetos espaciales con geometrías no válidas. Vamos a arreglarlas procediendo más adelante. Abra la caja de herramientas de procesado desde <span class="menuselection">Procesos ‣ Caja de herramientas</span>. Busque y localice la herramienta <span class="menuselection">Geometría vectorial ‣ Corregir geometrías</span>. Haga doble clic para ejecutarla.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/318.png" class="align-center" src="../../_images/318.png" />
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Puede consultar el tutorial <a class="reference internal" href="handling_invalid_geometries.html"><span class="doc">Manejar Geometrías No Válidas (QGIS3)</span></a> para obtener más información sobre las causas y soluciones de las geometrías no válidas.</p>
</div>
<ol class="arabic simple" start="4">
<li><p>Seleccione <code class="docutils literal notranslate"><span class="pre">hybas_as_lev06_v1c</span></code> como <span class="guilabel">Capa de entrada`</span>. Haga clic en el botón <span class="guilabel">…</span> situado junto a <span class="guilabel">Geometrías corregidas</span> y seleccione <span class="guilabel">Guardar en GeoPackage…</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/47.png" class="align-center" src="../../_images/47.png" />
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p>Busque la ubicación donde desea guardar los datos de salida e introduzca el nombre <code class="docutils literal notranslate"><span class="pre">data.gpkg</span></code>. Haga clic en <span class="guilabel">Guardar</span>. Se le pedirá que introduzca un <span class="guilabel">Nombre de capa`</span>. Introduzca <code class="docutils literal notranslate"><span class="pre">basins_fixed</span></code>. Haga clic en <span class="guilabel">Aceptar</span>. A continuación, haga clic en <span class="guilabel">Ejecutar</span> para ejecutar el algoritmo y generar la capa de salida.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/57.png" class="align-center" src="../../_images/57.png" />
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p>Repita el paso para la capa <code class="docutils literal notranslate"><span class="pre">HydroRIVERS_v10_as</span></code>. Seleccione el mismo GeoPackage <code class="docutils literal notranslate"><span class="pre">data.gpkg</span></code> que se creó en el paso anterior. No se preocupe si recibe un mensaje indicando que el archivo se sobrescribirá. QGIS no sobrescribirá el archivo, sino que añadirá una nueva capa al mismo GeoPaquete. Esta vez utilice <code class="docutils literal notranslate"><span class="pre">rivers_fixed</span></code> como <span class="guilabel">Nombre de la capa</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/67.png" class="align-center" src="../../_images/67.png" />
</div></blockquote>
<ol class="arabic simple" start="7">
<li><p>La capa <code class="docutils literal notranslate"><span class="pre">polymap15m_area</span></code> viene con una proyección que no es reconocida por QGIS. Vamos a asignar una proyección conocida a esta capa. Busque y localice la herramienta <span class="menuselection">Vector general ‣ Asignar proyección</span> y haga doble clic para abrirla.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/77.png" class="align-center" src="../../_images/77.png" />
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Recuerde que la herramienta <em>Asignar proyección</em> no reproyecta la capa sino que simplemente añade la información de proyección correcta a una capa georreferenciada existente con proyección ausente o incorrecta. Utilice la herramienta <em>Reproyectar capa</em> si desea cambiar el SRC de una capa.</p>
</div>
<ol class="arabic simple" start="8">
<li><p>Seleccione <code class="docutils literal notranslate"><span class="pre">polymap15m_area</span></code> como <span class="guilabel">Capa de entrada</span>. Haga clic en el botón <span class="guilabel">Seleccionar SRC</span> y busque la proyección <code class="docutils literal notranslate"><span class="pre">EPSG:7755</span> <span class="pre">-</span> <span class="pre">WGS</span> <span class="pre">84</span> <span class="pre">/</span> <span class="pre">India</span> <span class="pre">NSF</span> <span class="pre">LCC</span></code> y selecciónela. Haga clic en el botón <span class="guilabel">…</span> situado junto a <span class="guilabel">SRC asignado`</span> y seleccione <span class="guilabel">Guardar en GeoPackage…</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/87.png" class="align-center" src="../../_images/87.png" />
</div></blockquote>
<ol class="arabic simple" start="9">
<li><p>Seleccione el mismo GeoPackage <code class="docutils literal notranslate"><span class="pre">data.gpkg</span></code> e introduzca el nombre de la capa <code class="docutils literal notranslate"><span class="pre">admin_boundary_fixed</span></code>. Haga clic en <span class="guilabel">Ejecutar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/97.png" class="align-center" src="../../_images/97.png" />
</div></blockquote>
<ol class="arabic simple" start="10">
<li><p>Ahora tendrá 3 nuevas capas <code class="docutils literal notranslate"><span class="pre">basins_fixed</span></code>, <code class="docutils literal notranslate"><span class="pre">rivers_fixed</span></code> y <code class="docutils literal notranslate"><span class="pre">admin_boundary_fixed</span></code> cargadas en el panel <span class="guilabel">Capas`</span> de QGIS. Mantenga pulsada la tecla <kbd class="kbd docutils literal notranslate">Mayús</kbd> y seleccione todas las capas restantes. Haga clic con el botón derecho y seleccione <span class="guilabel">Quitar capa…</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1011.png" class="align-center" src="../../_images/1011.png" />
</div></blockquote>
<ol class="arabic simple" start="11">
<li><p>Ahora recortaremos las capas de cuencas y ríos al límite administrativo. Busque y localice la herramienta <span class="menuselection">Superposición vectorial ‣ Recortar</span> de la Caja de herramientas de procesos. Haga doble clic para abrirla.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1114.png" class="align-center" src="../../_images/1114.png" />
</div></blockquote>
<ol class="arabic simple" start="12">
<li><p>Seleccione <code class="docutils literal notranslate"><span class="pre">basins_fixed</span></code> como <span class="guilabel">Capa de entrada</span> y <code class="docutils literal notranslate"><span class="pre">admin_boundary_fixed</span></code> como <span class="guilabel">Capa de superposición`</span>. Guarde el resultado en el mismo GeoPackage <code class="docutils literal notranslate"><span class="pre">data.gpkg</span></code> que la capa <code class="docutils literal notranslate"><span class="pre">basins_clipped</span></code>. Haga clic en <span class="guilabel">Ejecutar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1212.png" class="align-center" src="../../_images/1212.png" />
</div></blockquote>
<ol class="arabic simple" start="13">
<li><p>Una vez finalizado el procesamiento, repite el proceso con la capa <code class="docutils literal notranslate"><span class="pre">rivers_fixed</span></code> como <span class="guilabel">Capa de entrada`</span>. Guarde el resultado en el mismo geopackage <code class="docutils literal notranslate"><span class="pre">data.gpkg</span></code> que la capa <code class="docutils literal notranslate"><span class="pre">rivers_clipped</span></code>. Haga clic en <span class="guilabel">Ejecutar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1310.png" class="align-center" src="../../_images/1310.png" />
</div></blockquote>
<ol class="arabic simple" start="14">
<li><p>Ahora tendrá 2 nuevas capas <code class="docutils literal notranslate"><span class="pre">basins_clipped</span></code> y <code class="docutils literal notranslate"><span class="pre">rivers_clipped</span></code>, así como la capa <code class="docutils literal notranslate"><span class="pre">admin_boundary_fixed</span></code> cargada en el panel <span class="guilabel">Capas</span> en QGIS. Mantenga pulsada la tecla <kbd class="kbd docutils literal notranslate">Mayús</kbd> y seleccione todas las capas restantes. Haga clic con el botón derecho y seleccione <span class="guilabel">Quitar capa…</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/149.png" class="align-center" src="../../_images/149.png" />
</div></blockquote>
<ol class="arabic simple" start="15">
<li><p>Antes de continuar, vamos a guardar el proyecto. QGIS permite guardar un proyecto dentro de un GeoPackage - lo que resulta muy cómodo para evitar la gestión de archivos adicionales. Vaya a <span class="menuselection">Proyecto ‣ Guardar en ‣ GeoPackage…</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/159.png" class="align-center" src="../../_images/159.png" />
</div></blockquote>
<ol class="arabic simple" start="16">
<li><p>En el cuadro de diálogo <span class="guilabel">Guardar proyecto en GeoPackage</span>, haga clic en el botón <span class="guilabel">…</span> situado junto a <span class="guilabel">Conexión</span> y busque el archivo <code class="docutils literal notranslate"><span class="pre">data.gpkg</span></code> existente. Introduzca el nombre <code class="docutils literal notranslate"><span class="pre">rivers_basin_map</span></code> como nombre del <span class="guilabel">Proyecto</span>. Haga clic en <span class="guilabel">Aceptar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/168.png" class="align-center" src="../../_images/168.png" />
</div></blockquote>
<ol class="arabic simple" start="17">
<li><p>Once saved, you can expand the <code class="docutils literal notranslate"><span class="pre">data.gpkg</span></code> in the <span class="guilabel">Browser</span> panel and see that the QGIS project is now saved inside the GeoPackage. Users of this GeoPackage can now open the project directly from the GeoPackage.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/179.png" class="align-center" src="../../_images/179.png" />
</div></blockquote>
<ol class="arabic simple" start="18">
<li><p>To create our colorized map, we need to color all the basins such that no adjacent basins have the same color. QGIS has a tool to do just that. Open the <span class="menuselection">Cartography ‣ Topological coloring</span> tool from the Processing Toolbox.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/187.png" class="align-center" src="../../_images/187.png" />
</div></blockquote>
<ol class="arabic simple" start="19">
<li><p>Select <code class="docutils literal notranslate"><span class="pre">basins_clipped</span></code> as the <span class="guilabel">Input layer</span>. Leave other options to their default values. Save the output to the same GeoPackage <code class="docutils literal notranslate"><span class="pre">data.gpkg</span></code> as the layer <code class="docutils literal notranslate"><span class="pre">basins_with_color</span></code>. Click <span class="guilabel">Run</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/197.png" class="align-center" src="../../_images/197.png" />
</div></blockquote>
<ol class="arabic simple" start="20">
<li><p>Once the processing finishes, a new layer <code class="docutils literal notranslate"><span class="pre">basins_with_color</span></code> will be loaded to the <span class="guilabel">Layers</span> panel. Right-click the layer and select <span class="guilabel">Open Attribute Table</span>. You will notice that the layer has a new attribute named <code class="docutils literal notranslate"><span class="pre">color_id</span></code> with an integer value. Assigning a unique color to each integer value will result in topolocal coloring of the layer.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/207.png" class="align-center" src="../../_images/207.png" />
</div></blockquote>
<ol class="arabic simple" start="21">
<li><p>We want to transfer the color id for the basin to all the rivers contained within it. Open the <span class="menuselection">Vector general ‣ Join attributes by location</span> tool from the Processing Toolbox.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/2111.png" class="align-center" src="../../_images/2111.png" />
</div></blockquote>
<ol class="arabic simple" start="22">
<li><p>Here we want to select <code class="docutils literal notranslate"><span class="pre">rivers_clipped</span></code> as the layer to <span class="guilabel">Join to features in</span> and <code class="docutils literal notranslate"><span class="pre">basins_with_color</span></code> as the layer for <span class="guilabel">By comparing to</span>. In the <span class="guilabel">Fields to add</span> section, click the <span class="guilabel">…</span> button and select the <code class="docutils literal notranslate"><span class="pre">color_id</span></code> field. Save the output to the <code class="docutils literal notranslate"><span class="pre">data.gpkg</span></code> geopackage as the layer <code class="docutils literal notranslate"><span class="pre">rivers_with_color</span></code>. Click <span class="guilabel">Run</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/228.png" class="align-center" src="../../_images/228.png" />
</div></blockquote>
<ol class="arabic simple" start="23">
<li><p>Once the processing finishes, a new layer <code class="docutils literal notranslate"><span class="pre">rivers_with_color</span></code> will be loaded to the <span class="guilabel">Layers</span> panel. Now it is time to apply the symbology. Select the <code class="docutils literal notranslate"><span class="pre">admin_boundary_fixed</span></code> layer and click the <span class="guilabel">Open Layer Styling Panel</span> button in the <span class="guilabel">Layers</span> panel. Change the color to black.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/236.png" class="align-center" src="../../_images/236.png" />
</div></blockquote>
<ol class="arabic simple" start="24">
<li><p>Next, select the <code class="docutils literal notranslate"><span class="pre">rivers_with_color</span></code> layer and select the <code class="docutils literal notranslate"><span class="pre">Categorized</span></code> renderer.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/247.png" class="align-center" src="../../_images/247.png" />
</div></blockquote>
<ol class="arabic simple" start="25">
<li><p>Select <code class="docutils literal notranslate"><span class="pre">color_id</span></code> as the <span class="guilabel">Value</span> and click <span class="guilabel">Classify</span>. You will see the rivers in different basins will be assigned a different color.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/257.png" class="align-center" src="../../_images/257.png" />
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>If you are not happy with the randomly chosen colors, you can click the <span class="guilabel">Symbol</span> for individual values in the list below and choose your own color.</p>
</div>
<ol class="arabic simple" start="26">
<li><p>The default lines are too thick for our map. Let’s change it. Hold the <kbd class="kbd docutils literal notranslate">Shift</kbd> key and select all the symbols in the list. Click the <span class="guilabel">Symbol</span> to open the <span class="guilabel">Symbol Settings</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/266.png" class="align-center" src="../../_images/266.png" />
</div></blockquote>
<ol class="arabic simple" start="27">
<li><p>Click on <span class="guilabel">Simple Line</span> and change the stroke width to <code class="docutils literal notranslate"><span class="pre">0.1</span></code>. The map will look much better now.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/277.png" class="align-center" src="../../_images/277.png" />
</div></blockquote>
<ol class="arabic simple" start="28">
<li><p>We can improve the map by assigning different widths to the rivers based on their size. The <code class="docutils literal notranslate"><span class="pre">rivers_with_color</span></code> layer has a field <code class="docutils literal notranslate"><span class="pre">ORD_STRA</span></code> containing the value of the <a class="reference external" href="https://en.wikipedia.org/wiki/Strahler_number">Strahler Order</a> of the river. The larger the number, the bigger the river. We will use the Assistant to help us use the value of the strahler order to an appropriate stroke width. Click the <span class="guilabel">Data defined override</span> button next to <span class="guilabel">Stroke width</span> and select <span class="guilabel">Assistant…</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/287.png" class="align-center" src="../../_images/287.png" />
</div></blockquote>
<ol class="arabic simple" start="29">
<li><p>In the <span class="guilabel">Input</span> section, select the <code class="docutils literal notranslate"><span class="pre">ORD_STRA</span></code> field as the <span class="guilabel">Source</span> with <span class="guilabel">Values from</span> <code class="docutils literal notranslate"><span class="pre">1</span></code> to <span class="guilabel">to</span> <code class="docutils literal notranslate"><span class="pre">6</span></code>. In the <span class="guilabel">Output</span> section, choose <span class="guilabel">Size from</span> as <code class="docutils literal notranslate"><span class="pre">0.05</span></code> and <span class="guilabel">to</span> as <code class="docutils literal notranslate"><span class="pre">0.2</span></code>. The map will update dynamically as you enter the values. You may have to adjust these values depending on your region. Once you are happy with the map, click the <span class="guilabel">Back</span> button.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/296.png" class="align-center" src="../../_images/296.png" />
</div></blockquote>
<ol class="arabic simple" start="30">
<li><p>You will notice that the <span class="guilabel">Data defined override</span> button for <span class="guilabel">Stroke width</span> is now yellow, indicating an active override has been applied to this setting.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/306.png" class="align-center" src="../../_images/306.png" />
</div></blockquote>
<ol class="arabic simple" start="31">
<li><p>Our colorized river basin map is now ready. Let’s put this map in a layout so we can export a high-resolution version with other map elements. Go to <span class="menuselection">Project ‣ New Print Layout…</span>. When prompted to enter a name, leave it blank and click <span class="guilabel">OK</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/319.png" class="align-center" src="../../_images/319.png" />
</div></blockquote>
<ol class="arabic simple" start="32">
<li><p>In the <span class="guilabel">Layout 1</span> window, right-click on the blank canvas and choose <span class="guilabel">Page Properties…</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/324.png" class="align-center" src="../../_images/324.png" />
</div></blockquote>
<ol class="arabic simple" start="33">
<li><p>Choose <code class="docutils literal notranslate"><span class="pre">A4</span></code> as the <span class="guilabel">Size</span>. Change the <span class="guilabel">Background</span> color to black.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/332.png" class="align-center" src="../../_images/332.png" />
</div></blockquote>
<ol class="arabic simple" start="34">
<li><p>Go to <span class="menuselection">Add Item ‣ Add Map</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/342.png" class="align-center" src="../../_images/342.png" />
</div></blockquote>
<ol class="arabic simple" start="35">
<li><p>Hold the left mouse button and select a region on the canvas where you want the map to be placed.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/352.png" class="align-center" src="../../_images/352.png" />
</div></blockquote>
<ol class="arabic simple" start="36">
<li><p>Once the map appears, scroll down in the <span class="guilabel">Item Properties</span> tab and turn off the <span class="guilabel">Background</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/361.png" class="align-center" src="../../_images/361.png" />
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>If you do not see the <span class="guilabel">Item Properties</span> tab or close it by accident, you can get it back by going to <span class="menuselection">View ‣ Panels ‣ Item Properties</span> in the Layout menu.</p>
</div>
<ol class="arabic simple" start="37">
<li><p>Let’s adjust the map extents. Click on the <span class="guilabel">Interactively Edit Map Extent</span> button and then use the mouse to pan the map. You can also use your scroll wheel to adjust the zoom. If you want more finer control on the Zoom, adjust the <span class="guilabel">Scale</span> value manually. Repeat till you are happy with the map placement.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/371.png" class="align-center" src="../../_images/371.png" />
</div></blockquote>
<ol class="arabic simple" start="38">
<li><p>Next we will add a QGIS logo to the map. Go to <span class="menuselection">Add Item ‣ Add Picture</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/381.png" class="align-center" src="../../_images/381.png" />
</div></blockquote>
<ol class="arabic simple" start="39">
<li><p>Draw a rectangle where you want to place the logo. In the <span class="guilabel">Item Properties</span> dialog, locate the <span class="guilabel">logos</span> icon group. Select the <code class="docutils literal notranslate"><span class="pre">Made</span> <span class="pre">with</span> <span class="pre">QGIS</span></code> logo.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/391.png" class="align-center" src="../../_images/391.png" />
</div></blockquote>
<ol class="arabic simple" start="40">
<li><p>Next, we will add a label with data credits. Go to <span class="menuselection">Add Item ‣ Add Label</span>. Enter the text for data credits and adjust the font and label alignment.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/40.png" class="align-center" src="../../_images/40.png" />
</div></blockquote>
<ol class="arabic simple" start="41">
<li><p>Once you are ready to export the results, go to <span class="menuselection">Layout ‣ Export as Image…</span>. Browse to a folder on your computer where you want to save the PNG image and enter the name <code class="docutils literal notranslate"><span class="pre">river_basins.png</span></code>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/411.png" class="align-center" src="../../_images/411.png" />
</div></blockquote>
<ol class="arabic simple" start="42">
<li><p>Choose <code class="docutils literal notranslate"><span class="pre">300</span> <span class="pre">dpi</span></code> as the <span class="guilabel">Export resolution</span> and click <span class="guilabel">Save</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/421.png" class="align-center" src="../../_images/421.png" />
</div></blockquote>
<ol class="arabic simple" start="43">
<li><p>Once the export finishes, you will have your final map image at the chosen location.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/431.png" class="align-center" src="../../_images/431.png" />
</div></blockquote>
<ol class="arabic simple" start="44">
<li><p>Here’s the final PNG image that we created using QGIS and open datasets.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/441.png" class="align-center" src="../../_images/441.png" />
</div></blockquote>
</section>
</section>





  <!-- Comment Section Powered by utterances -->
<div id="comments">
  <hr />
  <p>If you want to give feedback or share your experience with this tutorial, please comment below. (requires GitHub account)</p>
<script src="https://utteranc.es/client.js"
        repo="spatialthoughts/qgis-tutorials"
        issue-term="title"
        label="comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2023, Ujaval Gandhi.<br/>
      Actualizado por última vez en mar 08, 2024.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.2.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/3/colorized_river_basin_map.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>