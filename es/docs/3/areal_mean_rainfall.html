<!DOCTYPE html>

<html lang="es" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Calcular la Precipitación Media de Área (QGIS3) &#8212; QGIS Tutorials and Tips</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css?v=0bf093e7" />
    <script src="../../_static/documentation_options.js?v=92345faf"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/translations.js?v=efdbd0b9"></script>
    <link rel="search" title="Búsqueda" href="../../search.html" />
    <link rel="next" title="Creating a Colorized River Basin Map (QGIS3)" href="colorized_river_basin_map.html" />
    <link rel="prev" title="Análisis del tiempo de viaje con el movimiento de Uber (QGIS3)" href="travel_time_analysis.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>


<!-- Cookie Notice -->
<!-- Script from https://github.com/AOEpeople/cookie-notice -->
<script type="text/javascript" src="../../_static/cookie.notice.min.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1WQ7B80XJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B1WQ7B80XJ');
</script>


  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introducción</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">Haciendo un Mapa (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_attributes.html">Trabajando con atributos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">Importar Hojas de Cálculo o archivos CSV (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Estilo Básico Vectorial (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_line_lengths.html">Calcular Longitudes y Estadísticas de Línea (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Estilos y Análisis Básicos Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Mosaicar y Recortar Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Trabajar con Datos de Terreno (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">Trabajar con Datos WMS (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_projections.html">Trabajar con Proyecciones (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">Georeferenciar Hojas Topográficas y Mapas Escaneados (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">Georeferenciar Imágenes Aéreas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">Digitalizar Datos del Mapa (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins.html">Realizar Uniones de Tablas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_joins.html">Realizar Uniones Espaciales (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Realizar Consultas Espaciales (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="nearest_neighbor_analysis.html">Análisis del Vecino Más Cercano (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_raster_data.html">Muestrear Datos Ráster usando Puntos o Polígonos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_raster_area.html">Cálcular el área ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_heatmaps.html">Crear Mapas de Calor (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="animating_time_series.html">Animar Datos de Series de Tiempo (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="handling_invalid_geometries.html">Manejar Geometrías No Válidas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_raster_analysis.html">Análisis Avanzado de Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolating_point_data.html">Interpolar Datos Punto (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Procesamiento por Lotes usando el Marco de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_graphical_modeler.html">Automatizar Flujos de Trabajo Complejos usando el Modelador de Procesos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="automating_map_creation.html">Automatización de la creación de mapas con el Atlas de diseñador de impresiones  (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="multi_criteria_overlay.html">Análisis de Sobreposición Multicriterio (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_network_analysis.html">Visualización y Enrutamiento Básico de Red (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="origin_destination_matrix.html">Localizando la Instalación Más Cercana con Matriz Origen-Destino (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="service_area_analysis.html">Análisis de Área de Servicio usando Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="travel_time_analysis.html">Análisis del tiempo de viaje con el movimiento de Uber (QGIS3)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Calcular la Precipitación Media de Área (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="colorized_river_basin_map.html">Creating a Colorized River Basin Map (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_landuse_map.html">Creación de un mapa de uso de la tierra (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_intersection_density.html">Calcular Densidad de Intersección de Calle (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="landuse_buffer.html">Determining Landuse Buffer Zones (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="solidwaste_mapping.html">Mapping Waste Disposal Volumes (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_with_pyqgis.html">Iniciándote con la Programación Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_algorithms_pyqgis.html">Ejecutar Algoritmos de Procesamiento vía Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_python_functions.html">Usando Funciones de Expresión Python Personalizadas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_scripts.html">Escribir Scripts Python para el Marco de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_a_python_plugin.html">Construyendo un Complemento Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_plugin.html">Construyendo un Complemento de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_qgis_jobs.html">Ejecutar y Programar Trabajos de Procesamiento QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_mapping_with_qgis2web.html">Mapeo Web con QGIS2Web (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_basemaps_with_qtiles.html">Creando Mapas Base con QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Usar Complementos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../downloading_osm_data.html">Buscando y descargando datos de OpenStreetMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learning_resources.html">Recursos de Aprendizaje QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Créditos de los Datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../batch_processing.html">Procesamiento por Lotes usando el Marco de Procesamiento (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="travel_time_analysis.html" title="Previous Chapter: Análisis del tiempo de viaje con el movimiento de Uber (QGIS3)"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Análisis del ...</span>
    </a>
  </li>
  <li>
    <a href="colorized_river_basin_map.html" title="Next Chapter: Creating a Colorized River Basin Map (QGIS3)"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Creating a Co... &raquo;</span>
    </a>
  </li>
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>
<hr>
<p>Want to learn QGIS in a structured way? Check out <a href="https://spatialthoughts.com/" target="_blank">Spatial Thoughts</a> for more learning materials and instructor-led online programs with QGIS.org certification.</p>

<hr>
<p>These tutorials are also available in many other languages. Please see <a href="https://www.qgistutorials.com/en/docs/introduction.html#translations" target="_blank">translations</a> page.
</p>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      

  <section id="calculating-areal-mean-rainfall-qgis3">
<h1>Calcular la Precipitación Media de Área (QGIS3)<a class="headerlink" href="#calculating-areal-mean-rainfall-qgis3" title="Link to this heading">¶</a></h1>
<p>El cálculo del balance hídrico, modelado de inundación, pronóstico de escorrentía, estudios de clima, etc. a menudo necesitan la profundidad media de precipitación en una cuenca hidrológica como una entrada - que también es llamada Precipitación de Área o Precipitación Media de Área (PMA).</p>
<p>El cálculo de la PMA puede realizarse usando datos de pluviómetro. Usando la ubicación del pluviómetro y la precipitación observada, se puede estimar la precipitación promedio un una ubicación dada usando cualquiera de las técnicas siguientes:</p>
<ol class="arabic simple">
<li><p><strong>Media Aritmética</strong>: Se puede simplemente tomar un promedio de todos los valores observados. Este método asume que el campo de lluvia es homogéneo y que las observaciones de pluviómetro son independientes y dan peso igual a todos los pluviómetros.</p></li>
<li><p><strong>Polígono de Thiessen</strong>: Este método divide el área usando polígonos de Thiessen con el supuesto de que la precipitación es homogénea dentro del área de cobertura de cada estación. Este método también es llamado una media ponderada por área. Estas suposiciones son buenas para terreno bajo o plano, pero no son apropiadas para terreno montañoso.</p></li>
<li><p><strong>Método Isoyético</strong>: Esta técnica de interpolación calcula Isoyetas - líneas que unen precipitación igual. Asume que la lluvia entre 2 isoyetas es homogénea. Este método es adecuado cuando la red de pluviómetros es densa.</p></li>
<li><p><strong>Ponderación/Cuadriculado de Distancia</strong> - Esta es una técnica de interpolación donde una cuadrícula ráster es creado y un valor para cada píxel es estimado en base a la distancia a las estaciones. Una vez que todos los puntos grid han sido estimados, ellos son sumados y la suma es dividida por el número de celdas cuadrícula para obtener la precipitación media de área.</p></li>
<li><p><strong>Métodos Geoestadísticos</strong>: La lluvia es influenciada fuertemente por factores locales - como la elevación. Usando técnicas de regresión multivariada o Kriging, se puede tomar en cuenta la autocorrelación espacial y puede alcanzar mejor exactitud. Estos métodos son apropiados cuando la distribución de las estaciones pluviométricas es uniforme y densa.</p></li>
</ol>
<p>En este tutorial aprenderemos el flujo de trabajo QGIS para calcular Precipitación Media de Área, usando el método <strong>Polígono Thiessen</strong>.</p>
<section id="overview-of-the-task">
<h2>Vista general de la tarea<a class="headerlink" href="#overview-of-the-task" title="Link to this heading">¶</a></h2>
<p>En este tutorial, tomaremos la precipitación medida por las estaciones de la Red Histórica Global de Climatología (GHCN) y calcularemos la Precipitación Media de Área en cada cuenca hidrológica en el estado de Florida.</p>
</section>
<section id="other-skills-you-will-learn">
<h2>Otras habilidades que aprenderá<a class="headerlink" href="#other-skills-you-will-learn" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Cómo quitar datos con valores Nulos.</p></li>
<li><p>Cómo corregir geometrías no válidas en una capa.</p></li>
<li><p>Cómo revisar su Historia de Procesamiento y volver a ejecutar una herramienta con los mismos parámetros.</p></li>
<li><p>Cómo disolver polígonos y resumir en estadísticas.</p></li>
<li><p>Cómo usar solo objetos espaciales seleccionados en algoritmos de Procesamiento.</p></li>
</ul>
</section>
<section id="get-the-data">
<h2>Obtener los datos<a class="headerlink" href="#get-the-data" title="Link to this heading">¶</a></h2>
<p>Usaremos las capas de datos <a class="reference external" href="https://www.ncdc.noaa.gov/cdo-web/">NOAA Climate data</a> , <a class="reference external" href="https://www.hydrosheds.org/">HydroSHEDS</a> y <a class="reference external" href="https://www.census.gov/geographies/mapping-files/time-series/geo/carto-boundary-file.html">US Census Bureau Cartographic Boundary</a>.</p>
<section id="station-wise-precipitation">
<h3>Precipitación por Estación<a class="headerlink" href="#station-wise-precipitation" title="Link to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p>Vaya al sitio web <a class="reference external" href="https://www.ncdc.noaa.gov/cdo-web/">NOAA Climate data</a>. Clic en la herramienta Search.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/cd01.png" class="align-center" src="../../_images/cd01.png" />
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Seleccione <code class="docutils literal notranslate"><span class="pre">Global</span> <span class="pre">Summary</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">Month</span></code> en <span class="guilabel">Select weather Observation Type/Dataset</span>, luego en <span class="guilabel">Select Date Range</span> elija Julio 2020, en <span class="guilabel">Search For</span> seleccione <code class="docutils literal notranslate"><span class="pre">States</span></code>, en <span class="guilabel">Enter a Search Term</span> escriba <code class="docutils literal notranslate"><span class="pre">Florida</span></code>. Clic <span class="guilabel">Search</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/cd02.png" class="align-center" src="../../_images/cd02.png" />
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Clic <span class="guilabel">Add To Cart</span>. En elementos, clic  <span class="guilabel">View Items</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/cd03.png" class="align-center" src="../../_images/cd03.png" />
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>Cámbiese a <span class="guilabel">Custom Global Summary of the Month CSV</span>. Clic en <span class="guilabel">Continuar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/cd04.png" class="align-center" src="../../_images/cd04.png" />
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p>Marque <span class="guilabel">Geographic Locations</span> y en <span class="guilabel">Select data types for custom output</span>, expanda <code class="docutils literal notranslate"><span class="pre">Precipitation`,</span> <span class="pre">seleccione</span> <span class="pre">``Precipitation</span> <span class="pre">(PRCP)</span></code>. Clic <span class="guilabel">Continue</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/cd05.png" class="align-center" src="../../_images/cd05.png" />
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p>Ingrese la dirección de correo y clic <span class="guilabel">SUBMIT ORDER</span> para descargar los datos.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/cd06.png" class="align-center" src="../../_images/cd06.png" />
</div></blockquote>
</section>
<section id="hydrological-basins">
<h3>Cuencas Hidrológicas<a class="headerlink" href="#hydrological-basins" title="Link to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p>Vaya al <a class="reference external" href="https://www.hydrosheds.org/">sitio web HydroSHEDS</a> y clic <span class="guilabel">Download</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/hydrosheds1.png" class="align-center" src="../../_images/hydrosheds1.png" />
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Seleccione <span class="menuselection">HydroBASINS ‣ Standard ‣ North America and Caribbean ‣ hybas_na_lev06_v1c.zip</span></p></li>
</ol>
<blockquote>
<div><img alt="../../_images/hydrosheds2.png" class="align-center" src="../../_images/hydrosheds2.png" />
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Ingrese la dirección de correo y clic <span class="guilabel">Submit Request</span> para descargar los datos.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/hydrosheds3.png" class="align-center" src="../../_images/hydrosheds3.png" />
</div></blockquote>
</section>
<section id="state-boundaries">
<h3>Límites de Estado<a class="headerlink" href="#state-boundaries" title="Link to this heading">¶</a></h3>
<p>Visite la página <a class="reference external" href="https://www.census.gov/geographies/mapping-files/time-series/geo/carto-boundary-file.html">Cartographic Boundary Files - Shapefile</a>. Descargue el archivo <code class="docutils literal notranslate"><span class="pre">cb_2018_us_state_500k.zip</span></code> de la sección <em>States</em> .</p>
<p>Para su comodidad, puede descargar directamente una copia de todos los conjuntos de datos de los enlaces abajo:</p>
<p><a class="reference external" href="https://www.qgistutorials.com/downloads/florida_2020_07_prcp.csv">florida_2020_07_prcp</a></p>
<p><a class="reference external" href="https://www.qgistutorials.com/downloads/hybas_na_lev06_v1c.zip">hybas_na_lev06_v1c</a></p>
<p><a class="reference external" href="https://www.qgistutorials.com/downloads/cb_2018_us_state_500k.zip">cb_2018_us_state_500k</a></p>
<p>Fuentes de datos: <a class="reference internal" href="../credits.html#ghcn" id="id2"><span>[GHCN]</span></a>, <a class="reference internal" href="../credits.html#hydrosheds" id="id3"><span>[HYDROSHEDS]</span></a>, <a class="reference internal" href="../credits.html#uscensus" id="id4"><span>[USCENSUS]</span></a></p>
</section>
</section>
<section id="procedure">
<h2>Procedimiento<a class="headerlink" href="#procedure" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Abra QGIS y clic en <span class="guilabel">Abrir Administrador de Fuentes de datos</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/012.png" src="../../_images/012.png" />
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>En la caja de diálogo <span class="guilabel">Administrador de Fuentes de datos</span>, cambie a <span class="guilabel">Texto delimitado</span>. Clic en <code class="docutils literal notranslate"><span class="pre">...</span></code> en <span class="guilabel">Nombre de archivo</span>, luego explore y seleccione <code class="docutils literal notranslate"><span class="pre">florida_2020_07_prcp.csv</span></code></p></li>
</ol>
<blockquote>
<div><img alt="../../_images/022.png" src="../../_images/022.png" />
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Ahora, bajo <span class="guilabel">Definición de geometría</span>, elija <span class="guilabel">Coordenadas puntos</span>. <span class="guilabel">Campo X</span> y <span class="guilabel">Campo Y</span> deberían ser <span class="guilabel">Longitud</span> y <span class="guilabel">Latitud</span>, respectivamente. Elija el <span class="guilabel">SRC geometría</span> como <span class="guilabel">EPSG 4326 - WGS 84</span>. Clic <span class="guilabel">Añadir</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/032.png" src="../../_images/032.png" />
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>Ahora se añadirá una nueva capa punto. Clic en el icono <span class="guilabel">Abrir Tabla de atributo</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/042.png" src="../../_images/042.png" />
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p>En la Tabla de atributos, el campo <span class="guilabel">PRCP</span> representa la cantidad de precipitación en la estación durante julio 2020. También, estos datos son registrados en <em>pulgadas</em>. Note que hay unos pocos valores <code class="docutils literal notranslate"><span class="pre">Nulo</span></code> que pueden causar problemas durante el cálculo. Ordene la columna PRCP, y verá que hay una pequeña fracción del conjunto de datos que es Nulo. Ahora vamos a quitar las estaciones con valores Nulos.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/052.png" src="../../_images/052.png" />
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p>Abra la Caja de Herramientas Procesos yendo a <span class="menuselection">Procesos ‣ Caja de herramientas</span>, y busque y localice el algoritmo <span class="menuselection">Selección vectorial ‣ Extraer por atributo</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/062.png" src="../../_images/062.png" />
</div></blockquote>
<ol class="arabic simple" start="7">
<li><p>En la caja de diálogo <span class="guilabel">Extraer por atributo</span>, seleccione la <span class="guilabel">Capa de entrada</span> como <code class="docutils literal notranslate"><span class="pre">florida_2020_07_prcp</span></code>, luego elija <code class="docutils literal notranslate"><span class="pre">PRCP</span></code> en <span class="guilabel">Atributo de selección</span>, luego <code class="docutils literal notranslate"><span class="pre">no</span> <span class="pre">es</span> <span class="pre">nulo</span></code> en <span class="guilabel">Operador</span>. Clic en <code class="docutils literal notranslate"><span class="pre">...</span></code> junto a <span class="guilabel">Extraído (atributo)</span>, elija <span class="guilabel">Guardar a archivo…</span>. Ingrese el nombre de capa <code class="docutils literal notranslate"><span class="pre">precipitation_filtered.gpkg</span></code> y clic <span class="guilabel">Ejecutar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/072.png" src="../../_images/072.png" />
</div></blockquote>
<ol class="arabic simple" start="8">
<li><p>Ahora es agregada una nueva capa al lienzo. Desactive la capa antigua y podrá ver que las estaciones con valores Nulos han sido quitadas.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/082.png" src="../../_images/082.png" />
</div></blockquote>
<ol class="arabic simple" start="9">
<li><p>Ahora vamos a generar polígonos thiessen a partir de esta capa. Abra la caja de herramientas procesos yendo a <span class="menuselection">Procesos ‣ Caja de herramientas</span>, y busque y localice el algoritmo <span class="menuselection">Geometría vectorial ‣ Polígonos Voronoi</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/092.png" src="../../_images/092.png" />
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Los polígonos Thiessen representan el área de influencia alrededor de cada punto. Cada polígono define el área que está más cerca a una estación particular que a cualquier otra estación. Esto significa que se asume que la precipitación en cualquier punto es la misma que la de la estación más cercana.</p>
</div>
<ol class="arabic simple" start="10">
<li><p>Seleccione <code class="docutils literal notranslate"><span class="pre">precipitation_filtered</span></code> como <span class="guilabel">Capa de entrada</span>. Como no tenemos datos para ninguna estación pluviométrica fuera del límite de cuencia, podemos añadir algún área de influencia. Ingrese <code class="docutils literal notranslate"><span class="pre">15</span></code> como la <span class="guilabel">Región búfer (% de extensión)</span>. Clic en <code class="docutils literal notranslate"><span class="pre">...</span></code> en <span class="guilabel">Polígonos Voronoi</span> y seleccione <span class="guilabel">Guardar a archivo…</span>, luego ingrese el nombre como <code class="docutils literal notranslate"><span class="pre">thiessen_polygons.gpkg</span></code>. Clic <span class="guilabel">Ejecutar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/103.png" src="../../_images/103.png" />
</div></blockquote>
<ol class="arabic simple" start="11">
<li><p>Se agregará al lienzo una nueva capa <code class="docutils literal notranslate"><span class="pre">thiessen_polygons</span></code>. Recortemos esta capa al límite de estado. Busque el archivo <code class="docutils literal notranslate"><span class="pre">cb_2018_us_state_500k.shp</span></code> en <span class="guilabel">Explorador</span> y arrástrelo al lienzo.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/113.png" src="../../_images/113.png" />
</div></blockquote>
<ol class="arabic simple" start="12">
<li><p>La capa de estados está en un SRC diferente que el <em>SRC de Proyecto</em>. Obtendrá un aviso con diferentes opciones para transformar este SRC al SRC de Proyecto. En la caja de diálogo <span class="guilabel">Seleccione Transformación</span>, puede elegir una transformación predeterminada y clic <span class="guilabel">Aceptar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/123.png" src="../../_images/123.png" />
</div></blockquote>
<ol class="arabic simple" start="13">
<li><p>Ahora vamos a recortar la capa <code class="docutils literal notranslate"><span class="pre">thiessen</span> <span class="pre">polygons</span></code> al límite del estado de Florida. Clic en el icono <span class="guilabel">Seleccione objeto espacial por área o Clic único</span> y haga clic sobre el estado de Florida.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/132.png" src="../../_images/132.png" />
</div></blockquote>
<ol class="arabic simple" start="14">
<li><p>Abra la Caja de herramientas Procesos yendo a  <span class="menuselection">Procesos ‣ Caja de herramientas</span>, y busque y localice el algoritmo <span class="menuselection">Superposición vectorial ‣ Cortar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/142.png" src="../../_images/142.png" />
</div></blockquote>
<ol class="arabic simple" start="15">
<li><p>En la caja de diálogo <span class="guilabel">Cortar</span>, seleccione para <span class="guilabel">Capa de entrada</span> <code class="docutils literal notranslate"><span class="pre">thiessen_polygons</span></code>. En <span class="guilabel">Capa de superposición</span> seleccione la capa <code class="docutils literal notranslate"><span class="pre">cb_2018_us_state_500K</span></code> y marque la casilla <span class="guilabel">Objetos seleccionados solamente</span>, luego clic en <code class="docutils literal notranslate"><span class="pre">...</span></code> en <span class="guilabel">Cortado</span> y seleccione <span class="guilabel">Guardar a archivo…</span>. Ingrese el nombre como <code class="docutils literal notranslate"><span class="pre">thiessen_polygons_clipped.gpkg</span></code>. Clic <span class="guilabel">Ejecutar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/152.png" src="../../_images/152.png" />
</div></blockquote>
<ol class="arabic simple" start="16">
<li><p>La capa de polígonos recortados thiessen <code class="docutils literal notranslate"><span class="pre">thiessen_polygons_clipped</span></code> será agregada al lienzo. Deshabilite la visibilidad de todas las otras capas. Como nuestra tarea es calcular la precipitación promedio sobre cada cuenca, vamos ahora a cargar los polígonos que representan las cuencas. Localice la capa <code class="docutils literal notranslate"><span class="pre">hybas_na_lev06_v1c.shp</span></code> desde el <span class="guilabel">Explorador</span> y añádala al lienzo.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/162.png" src="../../_images/162.png" />
</div></blockquote>
<ol class="arabic simple" start="17">
<li><p>Notará que cada cuenca está cubierta por varios polígonos thiessen y cada polígono abarca múltiples cuencas. Para visualizar este icono <span class="guilabel">Abrir panel de estilo de capa</span> y cambie la <span class="guilabel">Opacidad</span> a <code class="docutils literal notranslate"><span class="pre">75%</span></code>. Ahora vamos a intersectar ambas capas para recortar los polígonos thiessen al límite de cada cuenca.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/172.png" src="../../_images/172.png" />
</div></blockquote>
<ol class="arabic simple" start="18">
<li><p>Abra la Caja de herramientas Procesos yendo a  <span class="menuselection">Procesos ‣ Caja de herramientas</span>, y busque y localice el algoritmo <span class="menuselection">Superposición vectorial ‣ Intersección</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/181.png" src="../../_images/181.png" />
</div></blockquote>
<ol class="arabic simple" start="19">
<li><p>En la caja de diálogo <span class="guilabel">Intersección</span>, seleccione para la <span class="guilabel">Capa de entrada</span> <code class="docutils literal notranslate"><span class="pre">thiessen_polygons_clipped</span></code> y para <span class="guilabel">Capa de superposición</span> <code class="docutils literal notranslate"><span class="pre">hybas_na_lev06c_v1c</span></code>, luego clic en <code class="docutils literal notranslate"><span class="pre">...</span></code> en <span class="guilabel">Intersected</span> y seleccione <span class="guilabel">Guardar a archivo…</span>. Luego ingrese el nombre <code class="docutils literal notranslate"><span class="pre">thiessen_polygons_basin.gpkg</span></code>. Clic <span class="guilabel">Ejecutar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/191.png" src="../../_images/191.png" />
</div></blockquote>
<ol class="arabic simple" start="20">
<li><p>La ejecución fallará con un mensaje de error <em>tiene geometría no válida. Por favor corrija la geometría o cambie la configuración de Procesamiento a la opción “Ignorar objetos espaciales de entrada no válidos”.</em> Puede aprender más acerca de este error en el tutorial <a class="reference internal" href="handling_invalid_geometries.html"><span class="doc">Manejar Geometrías No Válidas (QGIS3)</span></a></p></li>
</ol>
<blockquote>
<div><img alt="../../_images/201.png" src="../../_images/201.png" />
</div></blockquote>
<ol class="arabic simple" start="21">
<li><p>Para corregir las geometrías. abra la Caja de herramientas Procesos yendo a  <span class="menuselection">Procesos ‣ Caja de herramientas</span>, y busque y localice el algoritmo <span class="menuselection">Geometría vectorial ‣ Corregir geometrías</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/211.png" src="../../_images/211.png" />
</div></blockquote>
<ol class="arabic simple" start="22">
<li><p>En la caja de diálogo <span class="guilabel">Corregir geometrías</span>, seleccione la <span class="guilabel">Capa de entrada</span> <code class="docutils literal notranslate"><span class="pre">hybas_na_lev06_v1c</span></code> y clic en <code class="docutils literal notranslate"><span class="pre">...</span></code> en <span class="guilabel">Geometrías corregidas</span> y seleccione <span class="guilabel">Guardar a archivo…</span>. Ingrese el nombre de archivo <code class="docutils literal notranslate"><span class="pre">hybas_na_lev06_v1c_fixed.gpkg</span></code> y clic en <span class="guilabel">Ejecutar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/221.png" src="../../_images/221.png" />
</div></blockquote>
<ol class="arabic simple" start="23">
<li><p>Ahora se agregará una nueva capa al lienzo. Podemos ahora intentar de nuevo la intersección. En vez de ejecutar la herramienta de cero y llenar todos los parámetros, podemos recuperar el diálogo prellenado de <em>Historia de procesamiento</em> y modificar solo la capa Superposición. Clic <span class="menuselection">Procesos ‣ Historia</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/231.png" src="../../_images/231.png" />
</div></blockquote>
<ol class="arabic simple" start="24">
<li><p>Doble-clic en el algoritmo <em>native:intersection</em> de la lista.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/241.png" src="../../_images/241.png" />
</div></blockquote>
<ol class="arabic simple" start="25">
<li><p>Cambie la <span class="guilabel">Capa de superposición</span> a <code class="docutils literal notranslate"><span class="pre">hybas_na_lev06_v1c_fixed</span></code> y clic <span class="guilabel">Ejecutar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/251.png" src="../../_images/251.png" />
</div></blockquote>
<ol class="arabic simple" start="26">
<li><p>Ahora se cargará una nueva capa, y puede ver que <code class="docutils literal notranslate"><span class="pre">thiessen_polygons_basin</span></code> está cortado en base al límite de cuenca.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/26.png" src="../../_images/26.png" />
</div></blockquote>
<ol class="arabic simple" start="27">
<li><p>Ahora vamos a calcular el valor medio de las precipitaciones a partir de los polígonos de thiessen para cada cuenca. Esto se hace utilizando la herramienta <strong>Agregar</strong> que nos permite disolver los polígonos individuales mientras calculamos las estadísticas de los valores de los atributos. Ahora, abra la caja de herramientas de procesamiento yendo a <span class="menuselection">Procesos ‣ Caja de herramientas</span>, y busque y localice el algoritmo <span class="menuselection">Geometría vectorial ‣ Agregar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/271.png" src="../../_images/271.png" />
</div></blockquote>
<ol class="arabic simple" start="28">
<li><p>En la caja de diálogo <span class="guilabel">Agregar</span>, elija la <span class="guilabel">Capa de entrada</span> <code class="docutils literal notranslate"><span class="pre">thiessen_polygons_basin</span></code>. Seleccione todos los campos excepto <code class="docutils literal notranslate"><span class="pre">PRCP</span></code> y <code class="docutils literal notranslate"><span class="pre">HYBAS_ID</span></code> y clic <span class="guilabel">Eliminar campo seleccionado</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/281.png" src="../../_images/281.png" />
</div></blockquote>
<ol class="arabic simple" start="29">
<li><p>En <span class="guilabel">Agrupar por expresión</span>, seleccione <code class="docutils literal notranslate"><span class="pre">HYBAS_ID</span></code>. Esto significa que la herramienta disolverá todos los polígonos que tienen el mismo valor de <code class="docutils literal notranslate"><span class="pre">HYBAS_ID</span></code>. En nuestro caso, estos serán todos los polígonos thiessen que caigan en una cuenca. En la sección <span class="guilabel">Agregados</span>, podemos configurar cómo se agregarán diferentes valores de campo a partir de todos los polígonos que son disueltos. Para <span class="guilabel">PRCP</span>, clic en el botón <span class="guilabel">expresión</span> para ingresar la expresión de abajo. La expresión calcula la fracción ponderada por área para cada polígono. Defina la <span class="guilabel">Función agregado</span> como <code class="docutils literal notranslate"><span class="pre">suma</span></code>, lo que sumará juntos todas las fracciones ponderadas por área, resultando en la media ponderada por área. Para <span class="guilabel">HYBAS_ID</span>, cambie la <span class="guilabel">Función agregado</span> a <code class="docutils literal notranslate"><span class="pre">primer_valor</span></code>. Debido a que estamos agregando todos los polígonos thiessen po su HYBAS_ID, todos los valores serán los mismos y la función <em>primer_valor</em> usará el valor atributo del primer polígono en cada cuenca. Clic en <code class="docutils literal notranslate"><span class="pre">...</span></code> en <span class="guilabel">Agregado</span> y seleccione <span class="guilabel">Guardar a archivo…</span>. Ingrese el nombre de archivo <code class="docutils literal notranslate"><span class="pre">areal_mean_rainfall.gpkg</span></code> y clic <span class="guilabel">Ejecutar</span>.</p></li>
</ol>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(PRCP * $area) / sum($area)
</pre></div>
</div>
<img alt="../../_images/291.png" src="../../_images/291.png" />
</div></blockquote>
<ol class="arabic simple" start="30">
<li><p>Ahora se añadirá una nueva capa al lienzo. Abramos la tabla de atributos para explorarla. Clic en el icono <span class="guilabel">Abrir Tabla de atributo</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/301.png" src="../../_images/301.png" />
</div></blockquote>
<ol class="arabic simple" start="31">
<li><p>El campo <span class="guilabel">PRCP</span> contiene la precipitación media de área para cada cuenca, en pulgadas.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/311.png" src="../../_images/311.png" />
</div></blockquote>
</section>
</section>





  <!-- Comment Section Powered by utterances -->
<div id="comments">
  <hr />
  <p>If you want to give feedback or share your experience with this tutorial, please comment below. (requires GitHub account)</p>
<script src="https://utteranc.es/client.js"
        repo="spatialthoughts/qgis-tutorials"
        issue-term="title"
        label="comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2023, Ujaval Gandhi.<br/>
      Actualizado por última vez en mar 04, 2024.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.2.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/3/areal_mean_rainfall.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>