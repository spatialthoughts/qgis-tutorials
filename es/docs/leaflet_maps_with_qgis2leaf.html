<!DOCTYPE html>

<html lang="es" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Mapas Web Leaflet con qgis2leaf &#8212; QGIS Tutorials and Tips</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=0bf093e7" />
    <script src="../_static/documentation_options.js?v=92345faf"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=efdbd0b9"></script>
    <link rel="search" title="Búsqueda" href="../search.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>


<!-- Cookie Notice -->
<!-- Script from https://github.com/AOEpeople/cookie-notice -->
<script type="text/javascript" src="../_static/cookie.notice.min.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1WQ7B80XJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B1WQ7B80XJ');
</script>


  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introducción</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/making_a_map.html">Haciendo un Mapa (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_attributes.html">Trabajando con atributos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/importing_spreadsheets_csv.html">Importar Hojas de Cálculo o archivos CSV (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_vector_styling.html">Estilo Básico Vectorial (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_line_lengths.html">Calcular Longitudes y Estadísticas de Línea (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_styling_and_analysis.html">Estilos y Análisis Básicos Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_mosaicing_and_clipping.html">Mosaicar y Recortar Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_terrain.html">Trabajar con Datos de Terreno (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_wms.html">Trabajar con Datos WMS (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_projections.html">Trabajar con Proyecciones (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/georeferencing_basics.html">Georeferenciar Hojas Topográficas y Mapas Escaneados (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/advanced_georeferencing.html">Georeferenciar Imágenes Aéreas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/digitizing_basics.html">Digitalizar Datos del Mapa (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_table_joins.html">Realizar Uniones de Tablas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_joins.html">Realizar Uniones Espaciales (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_queries.html">Realizar Consultas Espaciales (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/nearest_neighbor_analysis.html">Análisis del Vecino Más Cercano (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/sampling_raster_data.html">Muestrear Datos Ráster usando Puntos o Polígonos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_raster_area.html">Cálcular el área ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/creating_heatmaps.html">Crear Mapas de Calor (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/animating_time_series.html">Animar Datos de Series de Tiempo (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/handling_invalid_geometries.html">Manejar Geometrías No Válidas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/advanced_raster_analysis.html">Análisis Avanzado de Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/interpolating_point_data.html">Interpolar Datos Punto (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/batch_processing.html">Procesamiento por Lotes usando el Marco de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_graphical_modeler.html">Automatizar Flujos de Trabajo Complejos usando el Modelador de Procesos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/automating_map_creation.html">Automatización de la creación de mapas con el Atlas de diseñador de impresiones  (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/multi_criteria_overlay.html">Análisis de Sobreposición Multicriterio (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/vector_styling_expressions.html">Filtrado básico y estilización con expresiones (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/block_world_styling.html">Creación de un Mapa Mundial de Bloques (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/river_styling_expressions.html">Estilización de una red fluvial con expresiones (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/contour_3d_styling.html">Styling Contours in 3D (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/isometric_buildings.html">Creación de edificios isométricos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/interactive_canvas_maps.html">Creación de mapas interactivos en lienzo (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/interactive_reveal_maps.html">Creación de mapas interactivos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/cartogram_animation.html">Creación de un cartograma animado (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_network_analysis.html">Visualización y Enrutamiento Básico de Red (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/origin_destination_matrix.html">Localizando la Instalación Más Cercana con Matriz Origen-Destino (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/service_area_analysis.html">Análisis de Área de Servicio usando Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/travel_time_analysis.html">Análisis del tiempo de viaje con el movimiento de Uber (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/areal_mean_rainfall.html">Calcular la Precipitación Media de Área (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/colorized_river_basin_map.html">Creación de un mapa de cuenca fluvial coloreado (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/creating_landuse_map.html">Creación de un mapa de uso de la tierra (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_intersection_density.html">Calcular Densidad de Intersección de Calle (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/landuse_buffer.html">Determinación de zonas de influencia de usos de la tierra (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/solidwaste_mapping.html">Cartografía de los volúmenes de eliminación de residuos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/getting_started_with_pyqgis.html">Iniciándote con la Programación Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_algorithms_pyqgis.html">Ejecutar Algoritmos de Procesamiento vía Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/custom_python_functions.html">Usando Funciones de Expresión Python Personalizadas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_scripts.html">Escribir Scripts Python para el Marco de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/building_a_python_plugin.html">Construyendo un Complemento Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_plugin.html">Construyendo un Complemento de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_qgis_jobs.html">Ejecutar y Programar Trabajos de Procesamiento QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/web_mapping_with_qgis2web.html">Mapeo Web con QGIS2Web (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_basemaps_with_qtiles.html">Creando Mapas Base con QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/using_plugins.html">Usar Complementos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloading_osm_data.html">Buscando y descargando datos de OpenStreetMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="learning_resources.html">Recursos de Aprendizaje QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Créditos de los Datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Procesamiento por Lotes usando el Marco de Procesamiento (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p><a href="https://www.linkedin.com/in/spatialthoughts/"><img src="../_static/ujaval.png">Ujaval Gandhi</a></p>

<hr>
<p>Want to learn QGIS in a structured way? Check out <a href="https://spatialthoughts.com/" target="_blank">Spatial Thoughts</a> for more learning materials and instructor-led online programs with QGIS.org certification.</p>

<hr>
<p>These tutorials are also available in many other languages. Please see <a href="https://www.qgistutorials.com/en/docs/introduction.html#translations" target="_blank">translations</a> page.
</p>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      

  <section id="leaflet-web-maps-with-qgis2leaf">
<h1>Mapas Web Leaflet con qgis2leaf<a class="headerlink" href="#leaflet-web-maps-with-qgis2leaf" title="Link to this heading">¶</a></h1>
<div class="admonition warning">
<p class="admonition-title">Advertencia</p>
<p>El complemento qgis2leaf ya no está en desarrollo activo. La funcionalidad de este complemento está incorporada en un nuevo complemento llamado <strong>qgis2web</strong>.</p>
<p>Vea el tutorial <a class="reference internal" href="web_mapping_with_qgis2web.html"><span class="doc">Mapeo web con QGIS2Web</span></a> para una versión actualizada de este tutorial.</p>
</div>
<p>Leaflet es una popular librería Javascript de código abierto para construir aplicaciones de mapeo web. El complemento <strong>qgis2leaf</strong> provee una forma simple de exportar su mapa QGIS a un mapa web funcional basado en leaflet. Este complemento es una manera útil de iniciarse en el mapeo web y crear un mapa web interactivo a partir de sus capas estáticas de datos SIG.</p>
<section id="overview-of-the-task">
<h2>Vista general de la tarea<a class="headerlink" href="#overview-of-the-task" title="Link to this heading">¶</a></h2>
<p>Crearemos un mapa web leaflet de los aeropuertos del mundo.</p>
<section id="other-skills-you-will-learn">
<h3>Otras habilidades que aprenderá<a class="headerlink" href="#other-skills-you-will-learn" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Usar la sentencia SQL <code class="docutils literal notranslate"><span class="pre">CASE</span></code> en la Calculadora de Campo para crear nuevos valores de campo basados en diferentes condiciones.</p></li>
<li><p>Localizar y usar íconos SVG personalizados en QGIS.</p></li>
</ul>
</section>
</section>
<section id="get-the-data">
<h2>Obtener los datos<a class="headerlink" href="#get-the-data" title="Link to this heading">¶</a></h2>
<p>Usaremos el conjunto de datos <a class="reference external" href="http://www.naturalearthdata.com/downloads/10m-cultural-vectors/airports/">Aeropuertos</a> de Natural Earth.</p>
<p>Descarga el  <a class="reference external" href="http://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/cultural/ne_10m_airports.zip">archivo shape Aeropuertos</a>.</p>
<p>Fuente de Datos <a class="reference internal" href="credits.html#naturalearth" id="id1"><span>[NATURALEARTH]</span></a></p>
</section>
<section id="procedure">
<h2>Procedimiento<a class="headerlink" href="#procedure" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Instale el complemento <code class="docutils literal notranslate"><span class="pre">qgis2leaf</span></code> yendo a <span class="menuselection">Complementos ‣ Administrar e Instalar Complemento</span>. Note que este complemento está actualmente marcado como <strong>experimental</strong>, por lo que necesitará marcar  <span class="guilabel">Mostrar también complementos experimentales</span> en la Configuración de Complemento. (Vea <a class="reference internal" href="using_plugins.html"><span class="doc">Uso de Complementos</span></a> para más detalles sobre la instalación de complementos en QGIS)</p></li>
</ol>
<img alt="../_images/1202.png" class="align-center" src="../_images/1202.png" />
<ol class="arabic simple" start="2">
<li><p>Descomprima el archivo <code class="docutils literal notranslate"><span class="pre">ne_10m_airports.zip</span></code> descargado. Abra QGIS y vaya a <span class="menuselection">Capa ‣ Agregar Capa Vectorial</span>. Explore a la ubicación donde los archivos fueron extraídos y seleccione <code class="docutils literal notranslate"><span class="pre">ne_10m_airports.shp</span></code>. Clic en <span class="guilabel">Aceptar</span>.</p></li>
</ol>
<img alt="../_images/2162.png" class="align-center" src="../_images/2162.png" />
<ol class="arabic simple" start="3">
<li><p>Una vez que la capa <code class="docutils literal notranslate"><span class="pre">ne_10m_airports</span></code> esté cargada, use la herramienta <span class="guilabel">Identificar</span> para hacer clic en cualquier entidad y mirar los atributos. Creará un mapa de aeropuerto donde clasificaremos los aeropuertos en 3 categorías. El atributo <code class="docutils literal notranslate"><span class="pre">type</span></code> será útil cuando se clasifiquen las entidades.</p></li>
</ol>
<img alt="../_images/3101.png" class="align-center" src="../_images/3101.png" />
<ol class="arabic simple" start="4">
<li><p>Clic-derecho a la capa <code class="docutils literal notranslate"><span class="pre">ne_10m_airports</span></code> y seleccione <span class="guilabel">Abrir Tabla de Atributo</span>.</p></li>
</ol>
<img alt="../_images/467.png" class="align-center" src="../_images/467.png" />
<ol class="arabic simple" start="5">
<li><p>En el diálogo de la tabla de atributo, clic el botón <span class="guilabel">Alterne la Edición</span>. Una vez que la capa esté en modo edición, clic el botón <span class="guilabel">Abrir Calculadora de Campo</span>.</p></li>
</ol>
<img alt="../_images/560.png" class="align-center" src="../_images/560.png" />
<ol class="arabic simple" start="6">
<li><p>Queremos crear un nuevo atributo llamado <code class="docutils literal notranslate"><span class="pre">type_code</span></code> donde le damos un valor de 3 a los principales aeropuertos, un valor de 2 a los aeropuertos de tamaño medio y un valor de 1 a todos los otros. Podemos usar la sentencia <em>CASE</em> y escribir una expresión que revisará el valor del atributo <code class="docutils literal notranslate"><span class="pre">type</span></code> y creará una atributo <code class="docutils literal notranslate"><span class="pre">type_code</span></code> basado en la condición. Marque la caja <span class="guilabel">Crear un nuevo campo</span> e ingrese <code class="docutils literal notranslate"><span class="pre">type_code</span></code> como el <span class="guilabel">Nombre del campo de salida</span>. Seleccione <span class="guilabel">Número completo (entero)</span> como el <span class="guilabel">Tipo de campo de salida</span>. En la ventana <span class="guilabel">Expresión</span>, ingrese el siguiente texto.</p></li>
</ol>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CASE  WHEN &quot;type&quot; LIKE &#39;%major%&#39;  THEN 3
 WHEN &quot;type&quot; LIKE &#39;%mid%&#39; THEN 2
 ELSE 1
END
</pre></div>
</div>
<img alt="../_images/658.png" class="align-center" src="../_images/658.png" />
<ol class="arabic simple" start="7">
<li><p>De vuelta en la ventana <span class="guilabel">Tabla de Atributo</span>, verá una nueva columna al final. Verifique que su expresión funcionó correctamente y clic el botón <span class="guilabel">Cambiar Edición</span> para guardar los cambios.</p></li>
</ol>
<img alt="../_images/757.png" class="align-center" src="../_images/757.png" />
<ol class="arabic simple" start="8">
<li><p>Ahora le daremos estilo a la capa aeropuertos usando el atributo <code class="docutils literal notranslate"><span class="pre">type_code</span></code> recientemente creado. Clic-derecho la capa <code class="docutils literal notranslate"><span class="pre">ne_10m_airports</span></code> y seleccione <span class="guilabel">Propiedades</span>.</p></li>
</ol>
<img alt="../_images/856.png" class="align-center" src="../_images/856.png" />
<ol class="arabic simple" start="9">
<li><p>Seleccione la pestaña <span class="guilabel">Estilo</span> en el diálogo <span class="guilabel">Propiedades de la Capa</span>. Seleccione el estilo <span class="guilabel">Categorizado</span> de el menú desplegable y elija <code class="docutils literal notranslate"><span class="pre">type_code</span></code> como la <span class="guilabel">Columna</span>. Escoja una rampa de color de su elección y clic en <span class="guilabel">Classificar</span>. Clic en <span class="guilabel">Aceptar</span> para volver a la ventana principal QGIS.</p></li>
</ol>
<img alt="../_images/956.png" class="align-center" src="../_images/956.png" />
<ol class="arabic simple" start="10">
<li><p>Aquí verá un mapa de aeropuerto con estilo agradable. Exportemos esto para crear un mapa web interactivo. Vaya a <span class="menuselection">Web ‣ qgis2leaf ‣ Exporta un Proyecto QGIS a un mapa web leaflet funcionando</span>.</p></li>
</ol>
<img alt="../_images/1063.png" class="align-center" src="../_images/1063.png" />
<ol class="arabic simple" start="11">
<li><p>En el diálogo <span class="guilabel">QGIS 2 Leaflet</span>, clic en <span class="guilabel">Obtener Capas</span> para obtener la lista refrescada de capas. Seleccione la opción  <span class="guilabel">Pantalla completa</span> para tener un mapa web de pantalla completa. Elija <span class="guilabel">extensión de la capa</span> como la <span class="guilabel">Extensión</span> del mapa exportado. Elija una <span class="guilabel">Carpeta de salida del proyecto</span> en su sistema donde el complemento escribirá  los archivos de salida. Clic en <span class="guilabel">Aceptar</span>.</p></li>
</ol>
<img alt="../_images/11101.png" class="align-center" src="../_images/11101.png" />
<ol class="arabic simple" start="12">
<li><p>Una vez finalice el proceso de exportación, ubique la carpeta de salida en su disco. Abra el archivo <code class="docutils literal notranslate"><span class="pre">index.html</span></code> en un navegador. Verá un mapa web interactivo que es una réplica del mapa QGIS. Puede acercarse y desplazar el mapa y también hacer clic en cualquier entidad para obtener una ventana emergente con información de atributo. Puede copiar los contenidos de esta carpeta a un servidor web para tener un mapa web con todas las funciones.</p></li>
</ol>
<img alt="../_images/1265.png" class="align-center" src="../_images/1265.png" />
<ol class="arabic simple" start="13">
<li><p>Ahora exploraremos algunas características avanzadas de este complemento que nos permitirá personalizar más el mapa. Si lo notó, la ventana emergente contenía todos los atributos de la entidad. Algunos de los atributos no son muy útiles y la ventana emergente en general se ve fea. Podemos reemplazar la venta emergente predeterminada con nuestro HTML personalizado para hacerlo mucho mejor. Esto se logra agregando el HTML personalizado en una columna llamada <code class="docutils literal notranslate"><span class="pre">html_exp</span></code>. Clic-derecho la capa <code class="docutils literal notranslate"><span class="pre">ne_10m_airports</span></code> y seleccione <span class="guilabel">Abrir Tabla de Atributos</span>.</p></li>
</ol>
<img alt="../_images/1363.png" class="align-center" src="../_images/1363.png" />
<ol class="arabic simple" start="14">
<li><p>En el diálogo de la tabla de atributo, clic el botón <span class="guilabel">Alterne la Edición</span>. Una vez que la capa esté en modo edición, clic el botón <span class="guilabel">Abrir Calculadora de Campo</span>.</p></li>
</ol>
<img alt="../_images/1458.png" class="align-center" src="../_images/1458.png" />
<ol class="arabic simple" start="15">
<li><p>Marque la casilla <span class="guilabel">Crear un nuevo campo</span> e ingrese <code class="docutils literal notranslate"><span class="pre">html_exp</span></code> como el <span class="guilabel">Nombre de campo salida</span>. Elija <span class="guilabel">Texto (cadena)</span> como el <span class="guilabel">Tipo de campo salida</span>. Como estaremos creando una larga cadena HTML, elija <code class="docutils literal notranslate"><span class="pre">200</span></code> como el <span class="guilabel">Ancho de campo salida</span>. Ingrese la siguiente expresión en el área <span class="guilabel">Expresión</span>. La expresión de apariencia compleja simplemente define una tabla HTML y substituye valores de celda desde atributos <code class="docutils literal notranslate"><span class="pre">iata_code</span></code>, <code class="docutils literal notranslate"><span class="pre">name</span></code> y <code class="docutils literal notranslate"><span class="pre">type</span></code>. Marque <span class="guilabel">Previsualizar salida</span> para asegurar que la expresión está correcta.</p></li>
</ol>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>concat(&#39;&lt;h3&gt;&#39;, &quot;iata_code&quot;, &#39;&lt;/h3&gt;&lt;table&gt;&#39;, &#39;&lt;tr&gt;&lt;td&gt;Airport Name: &lt;b&gt; &#39;,
&quot;name&quot;, &#39;&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Category: &lt;b&gt; &#39;, &quot;type&quot;,
&#39;&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#39;)
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>El formato de archivo shape puede contener un máximo de 254 caracteres en un campo. Si quiere almacenar texto más largo en el campo, elija otro formato.</p>
</div>
<img alt="../_images/1552.png" class="align-center" src="../_images/1552.png" />
<ol class="arabic simple" start="16">
<li><p>De vuelta en la ventana <span class="guilabel">Tabla de Atributo</span>, verá una nueva columna al final. Verifique que su expresión funcionó correctamente y clic el botón <span class="guilabel">Cambiar Edición</span> para guardar los cambios.</p></li>
</ol>
<img alt="../_images/1649.png" class="align-center" src="../_images/1649.png" />
<ol class="arabic simple" start="17">
<li><p>Ahora exportemos de nuevo el mapa usando <span class="menuselection">Web ‣ qgis2leaf ‣ Exporta un Proyecto QGIS a un mapa web leaflet funcional</span>.</p></li>
</ol>
<img alt="../_images/1746.png" class="align-center" src="../_images/1746.png" />
<ol class="arabic simple" start="18">
<li><p>Elija las opciones como está abajo.</p></li>
</ol>
<img alt="../_images/1842.png" class="align-center" src="../_images/1842.png" />
<ol class="arabic simple" start="19">
<li><p>Vaya a la carpeta de salida una vez que el proceso de exportación finalice. Tendrá una subcarpeta con la marque de tiempo presente. Localice el archivo <code class="docutils literal notranslate"><span class="pre">index.html</span></code> dentro y ábralo en un navegador. Clic en cualquier objeto y mire en la ventana emergente. Notará que se ve bastante más limpio e informativo.</p></li>
</ol>
<img alt="../_images/1933.png" class="align-center" src="../_images/1933.png" />
<ol class="arabic simple" start="20">
<li><p>Otra funcionalidad útil del complemento <code class="docutils literal notranslate"><span class="pre">qgis2leaf</span></code> es la habilidad para especificar un icono personalizado para usar con el mapa web. Esto se logra especificando la ruta del icono personalizado en un campo llamado <code class="docutils literal notranslate"><span class="pre">icon_exp</span></code>. Crearemos una nueva capa que contiene sólo los aeropuertos principales y daremos estilo usando un icono SVG personalizado. Localice la herramienta <span class="guilabel">Seleccionar objetos usando una expresión</span> de la barra de herramientas.</p></li>
</ol>
<img alt="../_images/2028.png" class="align-center" src="../_images/2028.png" />
<ol class="arabic simple" start="21">
<li><p>Ingrese la expresión de abajo y presione <span class="guilabel">Seleccionar</span> para seleccionar todos los aeropuertos principales.</p></li>
</ol>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;type_code&quot; = 3
</pre></div>
</div>
<img alt="../_images/2163.png" class="align-center" src="../_images/2163.png" />
<ol class="arabic simple" start="22">
<li><p>Clic-derecho a los aeropuertos <code class="docutils literal notranslate"><span class="pre">ne_10m_airports</span></code> y seleccione <span class="guilabel">Guardar Selección Como…</span>.</p></li>
</ol>
<img alt="../_images/2228.png" class="align-center" src="../_images/2228.png" />
<ol class="arabic simple" start="23">
<li><p>En el diálogo <span class="guilabel">Guardar capa vectorial como…</span>, nombre el archivo de salida como <code class="docutils literal notranslate"><span class="pre">major_airports.shp</span></code>. Marque <span class="guilabel">Añadir archivo guardado al mapa</span> y clic en <span class="guilabel">Aceptar</span>.</p></li>
</ol>
<img alt="../_images/2325.png" class="align-center" src="../_images/2325.png" />
<ol class="arabic simple" start="24">
<li><p>Una vez que esté cargada la capa <code class="docutils literal notranslate"><span class="pre">major_airports</span></code> en QGIS, haga clic-derecho en ella y seleccione <span class="guilabel">Abrir Tabla de Atributos</span>.</p></li>
</ol>
<img alt="../_images/2425.png" class="align-center" src="../_images/2425.png" />
<ol class="arabic simple" start="25">
<li><p>En el diálogo de la tabla de atributo, clic el botón <span class="guilabel">Alterne la Edición</span>. Una vez que la capa esté en modo edición, clic el botón <span class="guilabel">Abrir Calculadora de Campo</span>.</p></li>
</ol>
<img alt="../_images/2523.png" class="align-center" src="../_images/2523.png" />
<ol class="arabic simple" start="26">
<li><p>En el diálogo <span class="guilabel">Calculadora de Campo</span>, ingrese <code class="docutils literal notranslate"><span class="pre">icon_exp</span></code> como el <span class="guilabel">Nombre de campo salida</span>. Hágalo de tipo <span class="guilabel">Texto (cadena)</span>. En el área <span class="guilabel">Expresión</span>, ingrese la siguiente expresión.</p></li>
</ol>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;airport.svg&#39;
</pre></div>
</div>
<img alt="../_images/2620.png" class="align-center" src="../_images/2620.png" />
<ol class="arabic simple" start="27">
<li><p>Guarde sus ediciones haciendo clic en el botón <span class="guilabel">Conmutar Edición</span> en la <span class="guilabel">Tabla de Atributos</span>.</p></li>
</ol>
<img alt="../_images/2720.png" class="align-center" src="../_images/2720.png" />
<ol class="arabic simple" start="28">
<li><p>Abra el complemento <code class="docutils literal notranslate"><span class="pre">qgis2leaf</span></code> desde <span class="menuselection">Web ‣ qgis2leaf ‣ Exportar un Proyecto QGIS a un mapa web funcional leaflet</span>. Clic en el botón <span class="guilabel">Obtener Capas</span> para buscar ambas capas  desde QGIS. Hay varias capas teselas prefabricadas disponibles como mapas base. En este mapa, podemos intentar algo diferente y cargar <span class="guilabel">Stamen Watercolor</span> como el <span class="guilabel">Mapa base</span>. Clic en <span class="guilabel">Aceptar</span>.</p></li>
</ol>
<img alt="../_images/2819.png" class="align-center" src="../_images/2819.png" />
<ol class="arabic simple" start="29">
<li><p>Si recuerda, especificamos <code class="docutils literal notranslate"><span class="pre">airport.svg</span></code> como el icono para los aeropuertos. Necesitamos agregar el icono manualmente al directorio salida. QGIS viene con una gran colección de iconos. En Windows, estos iconos están ubicados en <span class="menuselection">C: ‣ OSGEO4W64 ‣ apps ‣ qgis ‣ svg</span>. La ruta puede diferir dependiendo de su plataforma y tipo de instalación. Localice ese directorio y elija un icono de su gusto. Para nuestro mapa, podemos intentar el icono <code class="docutils literal notranslate"><span class="pre">amenity=airport.svg</span></code> localizado bajo la categoría <code class="docutils literal notranslate"><span class="pre">transport</span></code>.</p></li>
</ol>
<img alt="../_images/2918.png" class="align-center" src="../_images/2918.png" />
<ol class="arabic simple" start="30">
<li><p>Copie y pegue este icono en el directorio salida que había especificado cuando exportó el mapa. Renómbrelo como <code class="docutils literal notranslate"><span class="pre">airport.svg</span></code>.</p></li>
</ol>
<img alt="../_images/3016.png" class="align-center" src="../_images/3016.png" />
<ol class="arabic simple" start="31">
<li><p>Ahora abra el archivo <code class="docutils literal notranslate"><span class="pre">index.html</span></code> localizado en la carpeta. Verá un hermoso mapa base con nuestro iconos personalizados para los aeropuertos principales. También notará el panel de capa en la esquina superior derecha que tien un contro de visualización de capa para ambas capas.</p></li>
</ol>
<img alt="../_images/3119.png" class="align-center" src="../_images/3119.png" />
<p>Espero que este tutorial le dé una ventaja inicial para crear mapas web. Abajo está el mapa interactivo en vivo creado para este tutorial.</p>
<div>
<iframe
src="http://spatialthoughts.github.io/qgis2leaf-maps/airports_with_custom_popup/"
width="100%" height="600px"></iframe>
</div></section>
</section>





  <!-- Comment Section Powered by utterances -->
<div id="comments">
  <hr />
  <p>If you want to give feedback or share your experience with this tutorial, please comment below. (requires GitHub account)</p>
<script src="https://utteranc.es/client.js"
        repo="spatialthoughts/qgis-tutorials"
        issue-term="title"
        label="comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2023, Ujaval Gandhi.<br/>
      Actualizado por última vez en ene 04, 2025.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.2.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/leaflet_maps_with_qgis2leaf.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>