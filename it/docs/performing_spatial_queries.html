<!DOCTYPE html>

<html lang="it" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Utilizzare le interrogazioni spaziali &#8212; QGIS Tutorials and Tips</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=0bf093e7" />
    <script src="../_static/documentation_options.js?v=4f581db3"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=0173e136"></script>
    <link rel="search" title="Cerca" href="../search.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>


<!-- Cookie Notice -->
<!-- Script from https://github.com/AOEpeople/cookie-notice -->
<script type="text/javascript" src="../_static/cookie.notice.min.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1WQ7B80XJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B1WQ7B80XJ');
</script>


  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduzione</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/making_a_map.html">Creazione di una stampa (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_attributes.html">Lavorare con gli Attributi (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/importing_spreadsheets_csv.html">Importare fogli elettronici o file CSV (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_vector_styling.html">Tematizzare i dati vettoriali (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_line_lengths.html">Calcolare la Lunghezza Lineare e le Statistiche (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_styling_and_analysis.html">Tematizzazione ed analisi di RASTER (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_mosaicing_and_clipping.html">Mosaici e operazioni di ritaglio con i layer raster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_terrain.html">Working with Terrain Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_wms.html">Working with WMS Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_projections.html">Working with Projections (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/georeferencing_basics.html">Georeferenziazione carte topografiche e mappe scannerizzate (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/advanced_georeferencing.html">Georeferencing Aerial Imagery (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/digitizing_basics.html">Digitizing Map Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_table_joins.html">Realizzare unioni tabellari (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_joins.html">Realizzare unioni spaziali (Spatial Joins)  (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_queries.html">Utilizzare le interrogazioni spaziali (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/nearest_neighbor_analysis.html">Nearest Neighbor Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/sampling_raster_data.html">Campionare i dati di un raster usando punti o poligoni (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_raster_area.html">Calculating Raster Area (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/creating_heatmaps.html">Realizzare Heatmaps (mappe di concentrazione)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/animating_time_series.html">Animating Time Series Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/handling_invalid_geometries.html">Handling Invalid Geometries (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/advanced_raster_analysis.html">Advanced Raster Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/interpolating_point_data.html">Interpolating Point Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/batch_processing.html">Batch Processing using Processing Framework (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_graphical_modeler.html">Automating Complex Workflows using Processing Modeler (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/automating_map_creation.html">Automating Map Creation with Print Layout Atlas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/multi_criteria_overlay.html">Multi Criteria Overlay Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_network_analysis.html">Basic Network Visualization and Routing (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/origin_destination_matrix.html">Locating Nearest Facility with Origin-Destination Matrix (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/service_area_analysis.html">Service Area Analysis using Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/travel_time_analysis.html">Travel Time Analysis with Uber Movement (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/areal_mean_rainfall.html">Calculating Areal Mean Rainfall (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/colorized_river_basin_map.html">Creating a Colorized River Basin Map (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/creating_landuse_map.html">Creating a Landuse Map (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_intersection_density.html">Calculating Street Intersection Density (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/landuse_buffer.html">Determining Landuse Buffer Zones (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/solidwaste_mapping.html">Mapping Waste Disposal Volumes (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/getting_started_with_pyqgis.html">Getting Started With Python Programming (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_algorithms_pyqgis.html">Running Processing Algorithms via Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/custom_python_functions.html">Using Custom Python Expression Functions (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_scripts.html">Writing Python Scripts for Processing Framework (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/building_a_python_plugin.html">Building a Python Plugin (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_plugin.html">Building a Processing Plugin (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_qgis_jobs.html">Running and Scheduling QGIS Processing Jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/web_mapping_with_qgis2web.html">Web Mapping with QGIS2Web (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_basemaps_with_qtiles.html">Creating Basemaps with QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/using_plugins.html">Using Plugins (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloading_osm_data.html">Cercare e scaricare i dati di OpenStreetMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="learning_resources.html">Risorse disponibili per l’apprendimento di QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Fonti dei dati</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Batch Processing using Processing Framework (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>
<hr>
<p>Want to learn QGIS in a structured way? Check out <a href="https://spatialthoughts.com/" target="_blank">Spatial Thoughts</a> for more learning materials and instructor-led online programs with QGIS.org certification.</p>

<hr>
<p>These tutorials are also available in many other languages. Please see <a href="https://www.qgistutorials.com/en/docs/introduction.html#translations" target="_blank">translations</a> page.
</p>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      

  <section id="performing-spatial-queries">
<h1>Utilizzare le interrogazioni spaziali<a class="headerlink" href="#performing-spatial-queries" title="Link to this heading">¶</a></h1>
<div class="admonition warning">
<p class="admonition-title">Avvertimento</p>
<p>This tutorial is now obsolete. A new and updated version is available at <a class="reference internal" href="3/performing_spatial_queries.html"><span class="doc">Utilizzare le interrogazioni spaziali (QGIS3)</span></a></p>
</div>
<p>Le interrogazioni spaziali sono il fondamento di molte varietà di metodi di analisi GIS. In QGIS queste funzioni sono disponibili attraverso il plugin Interrogazione Spaziale.</p>
<section id="overview-of-the-task">
<h2>Descrizione dell’esercizio<a class="headerlink" href="#overview-of-the-task" title="Link to this heading">¶</a></h2>
<p>Lavoreremo con 2 dataset - un layer lineare che rappresenta i fiumi e un layer puntuale che descrive le città. L’obiettivo è quello di lanciare un’interrogazione spaziale per trovare tutte le città che non distano più di 10 chilometri da un fiume.</p>
<section id="other-skills-you-will-learn">
<h3>Altri aspetti che avremo modo di apprendere nel corso dell’esercizio<a class="headerlink" href="#other-skills-you-will-learn" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Aprire dei file archivio .zip direttamente in QGIS.</p></li>
<li><p>Scegliere un appropriato sistema di proiezione e riproiettare un dato vettoriale.</p></li>
<li><p>Creare dei buffer</p></li>
<li><p>Selezionare geometrie usando espressioni SQL-Like.</p></li>
<li><p>Convertire uno shapefile in un file KML.</p></li>
<li><p>Verificare la validità dei nostri risultati mediante Google Earth.</p></li>
</ul>
</section>
</section>
<section id="get-the-data">
<h2>Ottenere i dati necessari<a class="headerlink" href="#get-the-data" title="Link to this heading">¶</a></h2>
<p>Useremo i file <code class="docutils literal notranslate"><span class="pre">ne_10m_rivers_lake_centerlines</span></code>  e <code class="docutils literal notranslate"><span class="pre">10m_populated_places_simple</span></code> . Entrambi dataset tratti da Natural Earth.</p>
<p>Download <a class="reference external" href="http://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/physical/ne_10m_rivers_lake_centerlines.zip">Rivers and Lake Centerlines</a></p>
<p>Scaricate <a class="reference external" href="http://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/cultural/ne_10m_populated_places_simple.zip">Populated Places</a>.</p>
<p>Fonte Dati: <a class="reference internal" href="credits.html#naturalearth" id="id1"><span>[NATURALEARTH]</span></a></p>
</section>
<section id="procedure">
<h2>Procedimento<a class="headerlink" href="#procedure" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Dopo che avete scaricato i dati, aprite QGIS. Andate su <span class="menuselection">Layer ‣ Aggiungi Vettore…</span>.</p></li>
</ol>
<img alt="../_images/1195.png" class="align-center" src="../_images/1195.png" />
<ol class="arabic simple" start="2">
<li><p>Fate Click su <span class="guilabel">Sfoglia</span> e portatevi nella cartella dove avete scaricato i file .zip.</p></li>
</ol>
<img alt="../_images/2160.png" class="align-center" src="../_images/2160.png" />
<ol class="arabic simple" start="3">
<li><p>Trovate i file .zip scaricati. Tenete premuto il tasto <kbd class="kbd docutils literal notranslate">Shift</kbd> e fate click su entrambi i file zip per selezionarli. Click su <span class="guilabel">Apri</span>.</p></li>
</ol>
<img alt="../_images/3101.png" class="align-center" src="../_images/3101.png" />
<ol class="arabic simple" start="4">
<li><p>Apparirà una finestra di dialogo che vi chiederà di selezionare il layer da aprire tra i file zip. Selezionate <code class="docutils literal notranslate"><span class="pre">ne_10m_rivers_lake_centerlines.shp</span></code> e fate click su  <span class="guilabel">OK</span>.</p></li>
</ol>
<img alt="../_images/463.png" class="align-center" src="../_images/463.png" />
<ol class="arabic simple" start="5">
<li><p>Visto che avete operato una selezione multipla, ripetete l’operazione per il file successivo. Selezionate  10m_populated_places_simple.shp  e fate click su <span class="guilabel">OK</span>.</p></li>
</ol>
<img alt="../_images/557.png" class="align-center" src="../_images/557.png" />
<ol class="arabic simple" start="6">
<li><p>Potrete vedere ora entrambi gli shapefile caricati in QGIS.</p></li>
</ol>
<img alt="../_images/655.png" class="align-center" src="../_images/655.png" />
<ol class="arabic simple" start="7">
<li><p>Genereremo dei buffer sia nel  layer puntuale che in quello lineare. Lo strumento di geoprecessing per il <cite>Buffer</cite> in QGIS usa la numerazione metrico decimale ordinaria per calcolare la misura del buffer. Ma i layer con cui stiamo lavorando sono in un <cite>Sistema di Riferimento (SR) basato su Coordinate Geografiche</cite> che, com’è noto, vengono calcolate in  <cite>gradi</cite>. . Questo non soddisfa le esigenze delle nostre analisi che prevedono invece l’uso di unità di misura come i <cite>metri</cite> o i <cite>chilometri</cite>.  Per risolvere questo problema dobbiamo allora ri-proiettare i nostri layer su un <cite>Sistema di Coordinate Proiettare (SR)</cite>. Click sul tasto destro del mouse sul layer  <code class="docutils literal notranslate"><span class="pre">10m_populated_places_simple</span> <span class="pre">layer</span></code>  e quindi scegliete  <span class="guilabel">Salva con Nome</span>.</p></li>
</ol>
<img alt="../_images/754.png" class="align-center" src="../_images/754.png" />
<ol class="arabic simple" start="8">
<li><p>Nella finestra di dialogo <span class="guilabel">Salva i vettori come…</span> scegliete il tasto <span class="guilabel">Sfoglia</span> accanto alla voce <span class="guilabel">Salva con Nome</span> e assegnate al nuovo file il nome di <code class="docutils literal notranslate"><span class="pre">populated_places_reprojected.shp</span></code> . Ora fate click sul successivo tasto <span class="guilabel">Sfoglia</span> vicino alla voce  <span class="guilabel">Sist Rif</span>.</p></li>
</ol>
<img alt="../_images/852.png" class="align-center" src="../_images/852.png" />
<ol class="arabic simple" start="9">
<li><p>Now we must choose an appropriate CRS for our purpose. For creating buffers,
a Azimuthal Equidistant projection would be best suited as radial distances
around the center of the projection are accurate. In our case, since the
dataset is global, we will choose a World projection. In the
<span class="guilabel">Coordinate Reference System Selector</span> dialog, start searching for
<cite>world az..</cite> and you will see the results show up. Select the
<cite>World_Azimuthal_Equidistant</cite> and click <span class="guilabel">OK</span>.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>La Proiezione Mondiale Equdistante Azimutale misura 90 gradi dall’origine. Qui, essendo l’origine a 0 gradi di longitudine, saranno convertiti soltanto i valori compresi tra +/- 90 gradi di longitudine.</p>
</div>
<img alt="../_images/951.png" class="align-center" src="../_images/951.png" />
<ol class="arabic simple" start="10">
<li><p>Tornate nella finestra di dialogo <span class="guilabel">Salva i vettori come …</span>  e spuntate la casella <span class="guilabel">Aggiungi il file salvato sulla mappa</span> quindi fate click su  <cite>OK</cite>.</p></li>
</ol>
<img alt="../_images/1059.png" class="align-center" src="../_images/1059.png" />
<ol class="arabic simple" start="11">
<li><p>Adesso ripetete l’operazione di ri-proiezione per il file <code class="docutils literal notranslate"><span class="pre">ne_10m_rivers_lake_centerlines</span></code>  e salvate il nuovo layer di laghi e fiumi con il nome di <code class="docutils literal notranslate"><span class="pre">rivers_lake_reprojected.shp</span></code>.</p></li>
</ol>
<img alt="../_images/1196.png" class="align-center" src="../_images/1196.png" />
<ol class="arabic simple" start="12">
<li><p>Adesso avete 4 layer nel vostro:guilabel:<cite>Pannello dei Layer</cite>. Deselezionate i layer originali per vedere soltanto i layer sui quali sono state effettuate le riproiezioni. I layer riproiettati sono ancora rappresentati nei CRS di tipo Geografico per via delle impostazioni di default. Vediamo di annullarle. Facciamo click sul tasto <span class="guilabel">Stato del SR</span>  in basso a destra. Questa finestra può essere raggiunta anche da menu <span class="menuselection">Progetto ‣ Proprietà del Progetto</span>.</p></li>
</ol>
<img alt="../_images/1261.png" class="align-center" src="../_images/1261.png" />
<ol class="arabic simple" start="13">
<li><p>Nella scheda Sistema di Riferimento (SR) della finestra di dialogo <span class="guilabel">Proprietà del progetto</span>  disattivate la casella <span class="guilabel">Abilita la riproiezione al volo</span>. Click su <span class="guilabel">OK</span>.</p></li>
</ol>
<img alt="../_images/1358.png" class="align-center" src="../_images/1358.png" />
<ol class="arabic simple" start="14">
<li><p>Torniamo adesso nella finestra principale di QGIS, click su uno dei layer riproiettati e click su « <span class="guilabel">Zoom all’estensione del Layer</span>.</p></li>
</ol>
<img alt="../_images/1455.png" class="align-center" src="../_images/1455.png" />
<ol class="arabic simple" start="15">
<li><p>Adesso vedremo finalmente  nostri dati nel Sistema di Riferimento che abbiamo scelto per i nostri layer. Adesso dobbiamo creare dei buffer per entrambi i dataset. Click su <span class="menuselection">Vettore ‣ Strumenti di Geoprocessing ‣ Buffer</span>.</p></li>
</ol>
<img alt="../_images/1551.png" class="align-center" src="../_images/1551.png" />
<ol class="arabic simple" start="16">
<li><p>Nello strumento Buffer scegliete come file di input <code class="docutils literal notranslate"><span class="pre">populated_places_reprojected</span></code> . Inserite una distanza di buffer pari a <cite>10000</cite>. Notate che vogliamo un buffer di 10 chilometri e, considerato che le unità del sistema di riferimento sono i metri, dobbiamo inserire 10.000. Inserite come nome del file in uscita <code class="docutils literal notranslate"><span class="pre">populated_places_buffer.shp</span></code>. E fate click su <span class="guilabel">OK</span>.</p></li>
</ol>
<img alt="../_images/1648.png" class="align-center" src="../_images/1648.png" />
<ol class="arabic simple" start="17">
<li><p>Una volta che il processo di buffering è finito, fate click su  <span class="guilabel">Yes</span> quando vi verrà chiesto se volete aggiungere il nuovo vettore alla TOC.</p></li>
</ol>
<img alt="../_images/1745.png" class="align-center" src="../_images/1745.png" />
<ol class="arabic simple" start="18">
<li><p>Ripetete lo stesso processo di buffer per il file <code class="docutils literal notranslate"><span class="pre">rivers_lake_reprojected</span></code>  e create un file di output che chiameremo <code class="docutils literal notranslate"><span class="pre">rivers_lake_buffer.shp</span></code>.</p></li>
</ol>
<img alt="../_images/1842.png" class="align-center" src="../_images/1842.png" />
<ol class="arabic simple" start="19">
<li><p>Il problema è che il nuovo layer <code class="docutils literal notranslate"><span class="pre">rivers_lake_buffer</span></code>  contiene geometria che riguardano tanto i fiumi quanto i laghi. La nostra ricerca è interessata esclusivamente alle geometrie dei fiumi, Allora facciamo ricorso ad un’interrogazione che ci permetta di selezionare esclusivamente le geometrie dei fiumi. Click con il tasto destro su <code class="docutils literal notranslate"><span class="pre">rivers_lake_buffer</span></code>  e selezioniamo <span class="guilabel">Apri tabella attributi</span>.</p></li>
</ol>
<img alt="../_images/1934.png" class="align-center" src="../_images/1934.png" />
<ol class="arabic simple" start="20">
<li><p>Come potete notare gli attributi della colonna «featurecla» contengono informazioni che possiamo usare per separare le geometrie dei fiumi da quelle dei laghi. Fate click sul tasto <cite>Seleziona elementi usando un espressione</cite>.</p></li>
</ol>
<img alt="../_images/2029.png" class="align-center" src="../_images/2029.png" />
<ol class="arabic simple" start="21">
<li><p>Inserite l’espressione  <cite>«featurecla» = «River»</cite>  fate click su <span class="guilabel">Seleziona</span>  e infine click su <span class="guilabel">Chiudi</span> per tornare alla finestra principale di QGIS.</p></li>
</ol>
<img alt="../_images/2161.png" class="align-center" src="../_images/2161.png" />
<ol class="arabic simple" start="22">
<li><p>Ora siamo pronti per realizzare l’interrogazione spaziale. Dovete aver attivato il Plugin <cite>Interrogazione spaziale</cite> per utilizzare queste funzionalità. Vedetevi <span class="xref std std-doc">Usare i plugin</span> per maggiori dettagli. Quando il plugin è attivo fate click su <span class="menuselection">Vettore ‣ Interrogazione Spaziale ‣ Interrogazione Spaziale</span>.</p></li>
</ol>
<img alt="../_images/2230.png" class="align-center" src="../_images/2230.png" />
<ol class="arabic simple" start="23">
<li><p>A noi interessa selezionare con la nostra interrogazione tutte le geometrie bufferizzate delle città che intersecano le linee bufferizzate dei fiumi. Assicuratevi che la casella vicino alla dicitura «geometrie selezionate» sia spuntata e indichi il numero dei fiumi selezionati. Questo ci assicura che la nostra interrogazione interesserà esclusivamente le geometrie dei fiumi che abbiamo precedentemente selezionato. Fate click su <span class="guilabel">Apply</span>.</p></li>
</ol>
<img alt="../_images/2327.png" class="align-center" src="../_images/2327.png" />
<ol class="arabic simple" start="24">
<li><p>Una volta che la nostra interrogazione è completa vedrete aggiungersi alla finestra di dialogo una nuova scheda chiamata <span class="guilabel">Oggetti Selezionati</span>.  Fate click sul pulsante  <span class="guilabel">Crea layer con quello selezionato</span>. Un nuovo layer si aggiungerà al pannello dei layer.  Fate click su  <span class="guilabel">Chiudi</span>.</p></li>
</ol>
<img alt="../_images/2427.png" class="align-center" src="../_images/2427.png" />
<ol class="arabic simple" start="25">
<li><p>Usate lo strumento ingrandisci (zoom in) in alcune aree per verificare i risultati. Noterete che il nuovo layer contiene solo le geometrie delle città che intersecano il buffer dei fiumi.</p></li>
</ol>
<img alt="../_images/2525.png" class="align-center" src="../_images/2525.png" />
<ol class="arabic simple" start="26">
<li><p>Dobbiamo sempre verificare che i nostri risultati siano validi. Un modo per verificare il risultato è esportare questo layer come un file KML e caricarlo in Google Earth. Così potrete vedere se le aree che abbiamo identificato sono realmente dentro i dieci chilometri dal fiume. Tasto destro del mouse sul layer e fate click su <span class="guilabel">Salva con nome</span>.</p></li>
</ol>
<img alt="../_images/2623.png" class="align-center" src="../_images/2623.png" />
<ol class="arabic simple" start="27">
<li><p>ella finestra <span class="guilabel">Salva i vettori come…</span>,scegliete <cite>WGS84</cite> come SR. Questo perché il formato KML vuole che le coordinate siano in questo specifico sistema di riferimento. Chiamate il vostro file KML <code class="docutils literal notranslate"><span class="pre">cities_near_river.kml</span></code>.</p></li>
</ol>
<img alt="../_images/2722.png" class="align-center" src="../_images/2722.png" />
<ol class="arabic simple" start="28">
<li><p>Aprite Google Earth e verificate che le città rappresentate con questi buffer siano effettivamente vicine ai fiumi.</p></li>
</ol>
<img alt="../_images/2821.png" class="align-center" src="../_images/2821.png" />
</section>
</section>





  <!-- Comment Section Powered by utterances -->
<div id="comments">
  <hr />
  <p>If you want to give feedback or share your experience with this tutorial, please comment below. (requires GitHub account)</p>
<script src="https://utteranc.es/client.js"
        repo="spatialthoughts/qgis-tutorials"
        issue-term="title"
        label="comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2023, Ujaval Gandhi.<br/>
      Ultimo aggiornamento mar 11, 2024.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.2.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/performing_spatial_queries.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>