<!DOCTYPE html>

<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Georeferensi Lembaran Topo dan Peta hasil Scan &#8212; QGIS Tutorials and Tips</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="search" title="Pencarian" href="../search.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>


<!-- Cookie Notice -->
<!-- Script from https://github.com/AOEpeople/cookie-notice -->
<script type="text/javascript" src="../_static/cookie.notice.min.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1WQ7B80XJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B1WQ7B80XJ');
</script>


  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Pengantar</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/making_a_map.html">Making a Map (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_attributes.html">Working with Attributes (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/importing_spreadsheets_csv.html">Importing Spreadsheets or CSV files (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_vector_styling.html">Basic Vector Styling (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_line_lengths.html">Calculating Line Lengths and Statistics (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_styling_and_analysis.html">Basic Raster Styling and Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_mosaicing_and_clipping.html">Raster Mosaicing and Clipping (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_terrain.html">Working with Terrain Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_wms.html">Working with WMS Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_projections.html">Working with Projections (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/georeferencing_basics.html">Georeferencing Topo Sheets and Scanned Maps (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/advanced_georeferencing.html">Citra Udara BasisGeo</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/digitizing_basics.html">Digitizing Map Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_table_joins.html">Performing Table Joins (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_joins.html">Performing Spatial Joins (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_queries.html">Performing Spatial Queries (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/nearest_neighbor_analysis.html">Nearest Neighbor Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/sampling_raster_data.html">Sampling Raster Data using Points or Polygons (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_raster_area.html">Calculating Raster Area (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/creating_heatmaps.html">Creating Heatmaps (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/animating_time_series.html">Animating Time Series Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/handling_invalid_geometries.html">Handling Invalid Geometries (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/advanced_raster_analysis.html">Advanced Raster Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/interpolating_point_data.html">Interpolating Point Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_intersection_density.html">Calculating Street Intersection Density (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/batch_processing.html">Batch Processing using Processing Framework (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_graphical_modeler.html">Automating Complex Workflows using Processing Modeler (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/automating_map_creation.html">Automating Map Creation with Print Layout Atlas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/multi_criteria_overlay.html">Multi Criteria Overlay Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_network_analysis.html">Basic Network Visualization and Routing (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/origin_destination_matrix.html">Locating Nearest Facility with Origin-Destination Matrix (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/service_area_analysis.html">Service Area Analysis using Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/travel_time_analysis.html">Travel Time Analysis with Uber Movement (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/areal_mean_rainfall.html">Calculating Areal Mean Rainfall (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/getting_started_with_pyqgis.html">Getting Started With Python Programming (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_algorithms_pyqgis.html">Running Processing Algorithms via Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/custom_python_functions.html">Using Custom Python Expression Functions (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_scripts.html">Writing Python Scripts for Processing Framework (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/building_a_python_plugin.html">Building a Python Plugin (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_plugin.html">Building a Processing Plugin (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_qgis_jobs.html">Menjalankan dan Menjadwalkan Pekerjaan Pemrosesan QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/web_mapping_with_qgis2web.html">Web Mapping with QGIS2Web (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_basemaps_with_qtiles.html">Creating Basemaps with QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/using_plugins.html">Using Plugins (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloading_osm_data.html">Mencari dan mengunduh data OpenSteetMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="learning_resources.html">Sumber Pembelajaran QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Kredit Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Batch Processing using Processing Framework (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>
<hr>
<p>Want to learn QGIS in a structured way? Check out <a href="https://spatialthoughts.com/" target="_blank">Spatial Thoughts</a> for more learning materials and instructor-led online programs with QGIS.org certification.</p>


<h4>Change Language</h4>
<form role="form" class="sidebar-form sidebar-left">
<select id="languages" class="form-control select-mini">
  <option value="en">English</option>
  <option value="zh_TW">Chinese (Taiwan)</option>
  <option value="nl">Dutch</option>
  <option value="fi_FI">Finnish</option>
  <option value="fr">French</option>
  <option value="de">German</option>
  <option value="el">Greek</option>
  <option value="id">Indonesian</option>
  <option value="it">Italian</option>
  <option value="ko">Korean</option>
  <option value="fa">Persian</option>
  <option value="pt_BR">Portuguese</option>
  <option value="ro">Romanian</option>
  <option value="ru">Russian</option>
  <option value="sl">Slovenian</option>
  <option value="es">Spanish</option>
  <option value="th">Thai</option>
  <option value="tr">Turkish</option>
  <option value="uk">Ukrainian</option>
  <option value="vi">Vietnamese</option>
</select>
</form>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      

  <section id="georeferencing-topo-sheets-and-scanned-maps">
<h1>Georeferensi Lembaran Topo dan Peta hasil Scan<a class="headerlink" href="#georeferencing-topo-sheets-and-scanned-maps" title="Permalink to this heading">¶</a></h1>
<div class="admonition warning">
<p class="admonition-title">Peringatan</p>
<p>This tutorial is now obsolete. A new and updated version is available at <a class="reference internal" href="3/georeferencing_basics.html"><span class="doc">Georeferencing Topo Sheets and Scanned Maps (QGIS3)</span></a></p>
</div>
<p>Kebanyakkan proyek GIS membutuhkan georeferensi pada sejumlah data raster. <em>Georeferencing</em> adalah proses untuk menetapkan koordinat dunia nyata untuk setiap pixel pada layer. Sering koordinat-koordinat ini didapatkan dengan melakukan survey lapangan - mengumpulkan koordinat dengan alat GPS untuk  mengidentifikasi fitur pada sebuah gambar atau peta. Pada sejumlah kasus, dimana anda mencoba untuk mendigitalisasi peta scan, anda bisa memperoleh koordinat dari tanda pada peta itu sendiri. Menggunakan koordinat sampel atau GCP (Ground Control Points), gambar semacam dibengkokkan untuk penyesuaian dengan sistem koordinat yang sudah dipilih. Di tutorial ini saya akan mendiskusikan komsep, strategi dan alat-alat yang ada di QGIS untuk menggapai Georeferensi dengan akurasi tingkat tinggi.</p>
<section id="overview-of-the-task">
<h2>Tinjauan Tugas<a class="headerlink" href="#overview-of-the-task" title="Permalink to this heading">¶</a></h2>
<p>Kita akan menggunakan map hasil scan India Utara dari 1870 dan melakukan georeferensi menggunakan QGIS.</p>
<section id="other-skills-you-will-learn">
<h3>Skill lain yang akan anda pelajari<a class="headerlink" href="#other-skills-you-will-learn" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>bagaimana menentukan datum dan sistem koordinat pada peta lama.</p></li>
</ul>
</section>
</section>
<section id="get-the-data">
<h2>Mendapatkan data<a class="headerlink" href="#get-the-data" title="Permalink to this heading">¶</a></h2>
<p>website <a class="reference external" href="http://www.hipkiss.org/data/maps.html">Hipkiss’s Scanned Old Maps</a> memiliki koleksi peta tanpa hak paten yang sangat bagus yang bisa digunakan untuk penelitian.</p>
<p>Unduh <a class="reference external" href="http://www.hipkiss.org/data/maps/william-mackenzie_gallery-of-geography_1870_southern-india_3975_3071_600.jpg">1870 map of southern India</a> dan simpan sebagai gambar JPG dalam harddisk anda.</p>
<p>For convenience, you may directly download a copy of the dataset from the link
below:</p>
<p><a class="reference external" href="http://www.qgistutorials.com/downloads/1870_southern-india.jpg">1870_southern_india.jpg</a></p>
</section>
<section id="procedure">
<h2>Prosedur<a class="headerlink" href="#procedure" title="Permalink to this heading">¶</a></h2>
<p>1. Georeferencing in QGIS is done via the ‘Georeferencer GDAL’ plugin. This is a
core plugin - meaning it is already part of your QGIS installation. You just
need to enable it. Go to <span class="menuselection">Plugins ‣ Manage and Install
Plugins</span> and enable the <span class="guilabel">Georeferencer GDAL</span> plugin in the
<span class="guilabel">Installed</span> tab. See <a class="reference internal" href="using_plugins.html"><span class="doc">Menggunakan Plugins</span></a> for more details on how to
work with plugins.</p>
<img alt="../_images/1171.png" class="align-center" src="../_images/1171.png" />
<ol class="arabic simple" start="2">
<li><p>Plugin ini terinstall di menu Raster. Klik <cite>Raster --&gt; Georeferencer --&gt; Georeferencer</cite> untuk membuka plugin</p></li>
</ol>
<img alt="../_images/2140.png" class="align-center" src="../_images/2140.png" />
<ol class="arabic simple" start="3">
<li><p>Jendela Plugin terbagi menjadi 2 bagian . Bagian atas dimana raster akan ditampilkan dan bagian bawah dimana sebuah tabel yang menunjukkan Ground Control Point (GCP) akan muncul.</p></li>
</ol>
<img alt="../_images/374.png" class="align-center" src="../_images/374.png" />
<ol class="arabic simple" start="4">
<li><p>Sekarang kita akan membuka gambar JPG kita. Akses :<cite>File --&gt; Open Raster</cite> . Jelajagi gambar hasil unduhan yang berupa peta scan dan klik <span class="guilabel">Open</span>.</p></li>
</ol>
<img alt="../_images/447.png" class="align-center" src="../_images/447.png" />
<ol class="arabic simple" start="5">
<li><p>Pada layar setelahnya, anda akan ditanya untuk memilih CRS. Ini untuk mengatur proyeksi dan datum dari poin kontrol anda. Jika anda sudah mengumpulkan ground control point memakai alat GPS, anda akan memiliki CRS WGS84. Jika anda mengeoreferensikan peta seperti ini,anda akan mendapat informasi CRS dari peta itu sendiri. melihat gambar peta kita, koordinatnya berbentuk lintang/bujur. Tidak ada informasi datum yang diberikan, jadi kita harus membuat asumsi yang cocok. karena ini adalah India dan petanya lumayan tua, kita bisa memperkirakan bahwa datum Everest 1830 akan memberikan hasil yang baik.</p></li>
</ol>
<img alt="../_images/544.png" class="align-center" src="../_images/544.png" />
<ol class="arabic simple" start="6">
<li><p>Anda akan melihat gambar akan dibuka pada bagian atas.</p></li>
</ol>
<img alt="../_images/642.png" class="align-center" src="../_images/642.png" />
<ol class="arabic simple" start="7">
<li><p>Anda bisa menggunakan kontrol zoom/pan di toolbar untuk mempelajari lebih jauh peta tersebut.</p></li>
</ol>
<img alt="../_images/742.png" class="align-center" src="../_images/742.png" />
<ol class="arabic simple" start="8">
<li><p>Sekarang kita ingin menetapkan koordinat untuk sejumlah titik pada peta ini. jika anda lihat dekat-dekat, anda akan melihat grid koordinat dengan tanda. Memakai grid ini, anda bisa menentukan koordinat X dan Y dari point dimana grid tadi berpotongan. Klik <span class="guilabel">Add Point</span> pada toolbar.</p></li>
</ol>
<img alt="../_images/841.png" class="align-center" src="../_images/841.png" />
<ol class="arabic simple" start="9">
<li><p>In the pop-up window, enter the coordinates. Remember that X=longitude and
Y=latitude.  Click <span class="guilabel">OK</span>.</p></li>
</ol>
<img alt="../_images/941.png" class="align-center" src="../_images/941.png" />
<ol class="arabic simple" start="10">
<li><p>Anda akan melihat tabel GCP sekarang memiliki sebuah baris dengan detail dari GCP pertama anda.</p></li>
</ol>
<img alt="../_images/1048.png" class="align-center" src="../_images/1048.png" />
<ol class="arabic simple" start="11">
<li><p>Dengan cara yang sama, tambahkan sedikitnya 4 GCP yang menlingkupi seluruh gambar. Semakin banyak poin yang kamu punya, semakin akurat pula gambarmu terdaftar pada koordinat target.</p></li>
</ol>
<img alt="../_images/1172.png" class="align-center" src="../_images/1172.png" />
<ol class="arabic simple" start="12">
<li><p>Ketika anda sudah memilik poin yang cukup, akses <span class="menuselection">Settings -&gt; Transformation settings</span>.</p></li>
</ol>
<img alt="../_images/1250.png" class="align-center" src="../_images/1250.png" />
<ol class="arabic simple" start="13">
<li><p>Pada dialog <span class="guilabel">Transformation settings</span> , pilih guilabel:<cite>Transformation type</cite>  dengan <span class="guilabel">Thin Plate Spline</span> . Beri nama raster output dengan <span class="guilabel">1870_southern_india_modified.tif</span> . Pilih <span class="guilabel">EPSG:4326</span> sebagai Spatial Reference System atau SRS target sehingga hasil gambar berada di datum yang sangat sesuai. Pastikan <span class="guilabel">Load in QGIS when done</span> diberi tanda cek. Klik <span class="guilabel">OK</span>.</p></li>
</ol>
<img alt="../_images/1348.png" class="align-center" src="../_images/1348.png" />
<ol class="arabic simple" start="14">
<li><p>Kembali ke jendela xxx, akses xxx . Ini akan memulai proses pengadaptasian atau pelengkungan gambar menggunakan GCP dan membuat raster target.</p></li>
</ol>
<img alt="../_images/1445.png" class="align-center" src="../_images/1445.png" />
<ol class="arabic simple" start="15">
<li><p>Ketika proses selesai, anda akan melihat layer yang telah tergeoreferensi dibuka di QGIS.</p></li>
</ol>
<img alt="../_images/1543.png" class="align-center" src="../_images/1543.png" />
<ol class="arabic simple" start="16">
<li><p>Georeferensi sekarang sudah lengkap . Tetapi sepert sebelumnya, adalah latihan yang baik untuk memverifikasi hasil kerja anda. bagaimana kita memeriksa bahwa hasil georeferensi kita sudah akurat ? Dalam kasus ini , buka shapefile batas negara dari sumber yang terpercaya seperti dataset Natural Earth kemudian bandingkan. Anda akan melihat apabila mereka cukup bersesuaian. Ada sejumlah error dan ini dapat ditingkatkan lebih jauh dengan cara membuat lebih banyak GCP, mengubah transformasi parameter dan mencoba datum yang berbeda.</p></li>
</ol>
<img alt="../_images/1640.png" class="align-center" src="../_images/1640.png" />
</section>
</section>





  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2021, Ujaval Gandhi.<br/>
      Terakhir diperbarui pada Jul 08, 2023.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.0.1.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/georeferencing_basics.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>